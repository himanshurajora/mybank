import{R as e,L as t,f as l,C as a,u as n,B as r,S as c,a as m,b as u}from"./vendor.19c54b46.js";function s(){return e.createElement("div",null,e.createElement("nav",null,e.createElement(t,{to:"/",className:"main-link"},"MyBank"),e.createElement("span",null,e.createElement(t,{to:"/customers",className:"link"},"View All Customers"))))}function o(){return e.createElement("div",{className:"home"},e.createElement("h1",{id:"head"},"Welcome To MyBank"),e.createElement("h4",null,"This is A Demo Banking System Made In React"),e.createElement("br",null),e.createElement("br",null),e.createElement("h2",null,"Our Features : "),e.createElement("ul",null,e.createElement("li",null,e.createElement("p",null,"→ View All Customers")),e.createElement("li",null,e.createElement("p",null,"→ Individual Customer Profile")),e.createElement("li",null,e.createElement("p",null,"→ Money Transaction")),e.createElement("li",null,e.createElement("p",null)),e.createElement("li",null,e.createElement("p",null))),e.createElement("h3",null,"Technologies Used : React, TypeScript & Firebase"),e.createElement("br",null),e.createElement("br",null),e.createElement("h2",null,e.createElement("address",null,"Life is Beyond Limits - Himanshu Jangid")))}l.initializeApp({apiKey:"AIzaSyCTvOjkdho2r7l4m-GVPYiSrEuazQeYu2s",authDomain:"chat-fire-test-756d8.firebaseapp.com",projectId:"chat-fire-test-756d8",storageBucket:"chat-fire-test-756d8.appspot.com",messagingSenderId:"945038291938",appId:"1:945038291938:web:b4c7699615c23068967fbb",measurementId:"G-WWFW3PM397"});var i=l.firestore().collection("customers");function d(){var[l,n]=a.exports.useState([]);return a.exports.useEffect((()=>{i.get().then((e=>{var t=[];e.docs.forEach((e=>{t.push(e.data())})),n(t),console.log(l)}))}),[]),e.createElement("div",{className:"All"},e.createElement("h1",null,"List of Customers of MyBank ->"),e.createElement("div",null,e.createElement("table",null,e.createElement("thead",null,e.createElement("tr",null,e.createElement("th",null,"S.N."),e.createElement("th",null,"Profile"),e.createElement("th",null,"Name"),e.createElement("th",null,"Account Number"),e.createElement("th",null,"Action"))),e.createElement("tbody",null,l.map(((l,a)=>e.createElement("tr",{key:l.accountNumber},e.createElement("td",null,a+1),e.createElement("td",null,e.createElement("span",null,e.createElement("img",{src:l.image,alt:"profile Image"}))),e.createElement("td",null,l.name.title," ",l.name.first," ",l.name.last),e.createElement("td",null,l.accountNumber),e.createElement("td",null,e.createElement(t,{to:"/customer/"+l.accountNumber},"View")))))),e.createElement("tfoot",null))))}function E(){var{id:t}=n(),r=l.firestore().collection("customers"),c=l.firestore().collection("transactions"),[m,u]=a.exports.useState(),[s,o]=a.exports.useState(),[i,d]=a.exports.useState(0),[E,p]=a.exports.useState(0);a.exports.useState("");var[h,f]=a.exports.useState();a.exports.useEffect((()=>{r.where("accountNumber","==",parseInt(t)).get().then((e=>{u(e.docs[0].data()),f(e.docs[0].data().balance)})),c.where("customer_id","==",parseInt(t)).get().then((e=>{var t=[];e.forEach((e=>{t.push(e.data())})),o(t)}))}),[]);return e.createElement("div",{className:"container"},e.createElement("h1",null,"Customer Profile"),e.createElement("br",null),e.createElement("div",{className:"main"},e.createElement("div",{className:"profile"},e.createElement("img",{src:null==m?void 0:m.image,alt:""}),e.createElement("h3",null,null==m?void 0:m.name.title," ",null==m?void 0:m.name.first," ",null==m?void 0:m.name.last),e.createElement("p",null,"Account Number: ",null==m?void 0:m.accountNumber),e.createElement("p",null,"Gender: ",null==m?void 0:m.gender),e.createElement("p",null,"Email: ",null==m?void 0:m.email),e.createElement("p",{key:null==m?void 0:m.accountNumber,className:"credited"}," Current Balance: ",e.createElement("b",null,h))),e.createElement("div",{className:"data"},e.createElement("div",{className:"main"},e.createElement("div",{className:"profile"},e.createElement("h3",null,"Make Transaction"),e.createElement("form",{action:""},e.createElement("input",{type:"text",onChange:e=>{d(parseInt(e.target.value))},required:!0,placeholder:"Account Number"}),e.createElement("input",{type:"text",onChange:e=>{p(parseInt(e.target.value))},required:!0,placeholder:"Amount"}),e.createElement("button",{onClick:e=>{e.preventDefault(),(async()=>{var e={amount:E,customer_id:parseInt(t),to_from:i,time:Date.now(),type:"Debit"},a={amount:E,customer_id:i,to_from:parseInt(t),time:Date.now(),type:"Credit"};(await r.where("accountNumber","==",parseInt(t)).get()).docs[0].ref.update({balance:l.firestore.FieldValue.increment(-E)}),f(h-E),await c.add(e),await c.add(a),(await r.where("accountNumber","==",i).get()).docs[0].ref.update({balance:l.firestore.FieldValue.increment(E)})})()}},"Send Money")),e.createElement("h3",null,"History"),e.createElement("div",null,null==s?void 0:s.map((t=>"Credit"==t.type?e.createElement("p",{key:t.time,className:"credited"}," + Credited ",t.amount):e.createElement("p",{key:t.time,className:"debited"}," - Debited ",t.amount)))))))))}function p(){return e.createElement("div",{className:"App"},e.createElement(r,null,e.createElement(s,null),e.createElement(c,null,e.createElement(m,{path:"/customers",exact:!0},e.createElement(d,null)),e.createElement(m,{path:"/",exact:!0},e.createElement(o,null)),e.createElement(m,{path:"/customer/:id",exact:!0},e.createElement(E,null)))))}u.render(e.createElement(e.StrictMode,null,e.createElement(p,null)),document.getElementById("root"));
