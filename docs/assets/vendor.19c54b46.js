var e={exports:{}},t={},n=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;function o(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var a=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,t){for(var a,s,u=o(e),c=1;c<arguments.length;c++){for(var l in a=Object(arguments[c]))r.call(a,l)&&(u[l]=a[l]);if(n){s=n(a);for(var h=0;h<s.length;h++)i.call(a,s[h])&&(u[s[h]]=a[s[h]])}}return u},s=a,u=60103,c=60106;
/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var l=60109,h=60110,f=60112;t.Suspense=60113;var d=60115,p=60116;if("function"==typeof Symbol&&Symbol.for){var v=Symbol.for;u=v("react.element"),c=v("react.portal"),t.Fragment=v("react.fragment"),t.StrictMode=v("react.strict_mode"),t.Profiler=v("react.profiler"),l=v("react.provider"),h=v("react.context"),f=v("react.forward_ref"),t.Suspense=v("react.suspense"),d=v("react.memo"),p=v("react.lazy")}var g="function"==typeof Symbol&&Symbol.iterator;function m(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function w(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||y}function _(){}function E(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||y}w.prototype.isReactComponent={},w.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(m(85));this.updater.enqueueSetState(this,e,t,"setState")},w.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},_.prototype=w.prototype;var T=E.prototype=new _;T.constructor=E,s(T,w.prototype),T.isPureReactComponent=!0;var I={current:null},k=Object.prototype.hasOwnProperty,S={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,n){var r,i={},o=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)k.call(t,r)&&!S.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];i.children=c}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return{$$typeof:u,type:e,key:o,ref:a,props:i,_owner:I.current}}function N(e){return"object"==typeof e&&null!==e&&e.$$typeof===u}var A=/\/+/g;function x(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function P(e,t,n,r,i){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var a=!1;if(null===e)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case u:case c:a=!0}}if(a)return i=i(a=e),e=""===r?"."+x(a,0):r,Array.isArray(i)?(n="",null!=e&&(n=e.replace(A,"$&/")+"/"),P(i,t,n,"",(function(e){return e}))):null!=i&&(N(i)&&(i=function(e,t){return{$$typeof:u,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(A,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=""===r?".":r+":",Array.isArray(e))for(var s=0;s<e.length;s++){var l=r+x(o=e[s],s);a+=P(o,t,n,l,i)}else if("function"==typeof(l=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=g&&e[g]||e["@@iterator"])?e:null}(e)))for(e=l.call(e),s=0;!(o=e.next()).done;)a+=P(o=o.value,t,n,l=r+x(o,s++),i);else if("object"===o)throw t=""+e,Error(m(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return a}function R(e,t,n){if(null==e)return e;var r=[],i=0;return P(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function D(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var O={current:null};function L(){var e=O.current;if(null===e)throw Error(m(321));return e}var M={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:I,IsSomeRendererActing:{current:!1},assign:s};t.Children={map:R,forEach:function(e,t,n){R(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return R(e,(function(){t++})),t},toArray:function(e){return R(e,(function(e){return e}))||[]},only:function(e){if(!N(e))throw Error(m(143));return e}},t.Component=w,t.PureComponent=E,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M,t.cloneElement=function(e,t,n){if(null==e)throw Error(m(267,e));var r=s({},e.props),i=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=I.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)k.call(t,l)&&!S.hasOwnProperty(l)&&(r[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)r.children=n;else if(1<l){c=Array(l);for(var h=0;h<l;h++)c[h]=arguments[h+2];r.children=c}return{$$typeof:u,type:e.type,key:i,ref:o,props:r,_owner:a}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:h,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:f,render:e}},t.isValidElement=N,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return L().useCallback(e,t)},t.useContext=function(e,t){return L().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return L().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return L().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return L().useLayoutEffect(e,t)},t.useMemo=function(e,t){return L().useMemo(e,t)},t.useReducer=function(e,t,n){return L().useReducer(e,t,n)},t.useRef=function(e){return L().useRef(e)},t.useState=function(e){return L().useState(e)},t.version="17.0.2",e.exports=t;var F=e.exports,U={exports:{}},j={},q={exports:{}},V={};
/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
!function(e){var t,n,r,i;if("object"==typeof performance&&"function"==typeof performance.now){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();e.unstable_now=function(){return a.now()-s}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var u=null,c=null,l=function(){if(null!==u)try{var t=e.unstable_now();u(!0,t),u=null}catch(n){throw setTimeout(l,0),n}};t=function(e){null!==u?setTimeout(t,0,e):(u=e,setTimeout(l,0))},n=function(e,t){c=setTimeout(e,t)},r=function(){clearTimeout(c)},e.unstable_shouldYield=function(){return!1},i=e.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,f=window.clearTimeout;if("undefined"!=typeof console){var d=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof d&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var p=!1,v=null,g=-1,m=5,y=0;e.unstable_shouldYield=function(){return e.unstable_now()>=y},i=function(){},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):m=0<e?Math.floor(1e3/e):5};var b=new MessageChannel,w=b.port2;b.port1.onmessage=function(){if(null!==v){var t=e.unstable_now();y=t+m;try{v(!0,t)?w.postMessage(null):(p=!1,v=null)}catch(n){throw w.postMessage(null),n}}else p=!1},t=function(e){v=e,p||(p=!0,w.postMessage(null))},n=function(t,n){g=h((function(){t(e.unstable_now())}),n)},r=function(){f(g),g=-1}}function _(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<I(i,t)))break e;e[r]=t,e[n]=i,n=r}}function E(e){return void 0===(e=e[0])?null:e}function T(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,u=e[s];if(void 0!==a&&0>I(a,n))void 0!==u&&0>I(u,a)?(e[r]=u,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==u&&0>I(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function I(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var k=[],S=[],C=1,N=null,A=3,x=!1,P=!1,R=!1;function D(e){for(var t=E(S);null!==t;){if(null===t.callback)T(S);else{if(!(t.startTime<=e))break;T(S),t.sortIndex=t.expirationTime,_(k,t)}t=E(S)}}function O(e){if(R=!1,D(e),!P)if(null!==E(k))P=!0,t(L);else{var r=E(S);null!==r&&n(O,r.startTime-e)}}function L(t,i){P=!1,R&&(R=!1,r()),x=!0;var o=A;try{for(D(i),N=E(k);null!==N&&(!(N.expirationTime>i)||t&&!e.unstable_shouldYield());){var a=N.callback;if("function"==typeof a){N.callback=null,A=N.priorityLevel;var s=a(N.expirationTime<=i);i=e.unstable_now(),"function"==typeof s?N.callback=s:N===E(k)&&T(k),D(i)}else T(k);N=E(k)}if(null!==N)var u=!0;else{var c=E(S);null!==c&&n(O,c.startTime-i),u=!1}return u}finally{N=null,A=o,x=!1}}var M=i;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_continueExecution=function(){P||x||(P=!0,t(L))},e.unstable_getCurrentPriorityLevel=function(){return A},e.unstable_getFirstCallbackNode=function(){return E(k)},e.unstable_next=function(e){switch(A){case 1:case 2:case 3:var t=3;break;default:t=A}var n=A;A=t;try{return e()}finally{A=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=M,e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=A;A=e;try{return t()}finally{A=n}},e.unstable_scheduleCallback=function(i,o,a){var s=e.unstable_now();switch("object"==typeof a&&null!==a?a="number"==typeof(a=a.delay)&&0<a?s+a:s:a=s,i){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return i={id:C++,callback:o,priorityLevel:i,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>s?(i.sortIndex=a,_(S,i),null===E(k)&&i===E(S)&&(R?r():R=!0,n(O,a-s))):(i.sortIndex=u,_(k,i),P||x||(P=!0,t(L))),i},e.unstable_wrapCallback=function(e){var t=A;return function(){var n=A;A=t;try{return e.apply(this,arguments)}finally{A=n}}}}(V),q.exports=V;
/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var B=e.exports,z=a,K=q.exports;function W(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!B)throw Error(W(227));var H=new Set,G={};function Q(e,t){$(e,t),$(e+"Capture",t)}function $(e,t){for(G[e]=t,e=0;e<t.length;e++)H.add(t[e])}var Y=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),X=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,J=Object.prototype.hasOwnProperty,Z={},ee={};function te(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var ne={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){ne[e]=new te(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];ne[t]=new te(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){ne[e]=new te(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){ne[e]=new te(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){ne[e]=new te(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){ne[e]=new te(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){ne[e]=new te(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){ne[e]=new te(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){ne[e]=new te(e,5,!1,e.toLowerCase(),null,!1,!1)}));var re=/[\-:]([a-z])/g;function ie(e){return e[1].toUpperCase()}function oe(e,t,n,r){var i=ne.hasOwnProperty(t)?ne[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!J.call(ee,e)||!J.call(Z,e)&&(X.test(e)?ee[e]=!0:(Z[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(re,ie);ne[t]=new te(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(re,ie);ne[t]=new te(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(re,ie);ne[t]=new te(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){ne[e]=new te(e,1,!1,e.toLowerCase(),null,!1,!1)})),ne.xlinkHref=new te("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){ne[e]=new te(e,1,!1,e.toLowerCase(),null,!0,!0)}));var ae=B.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,se=60103,ue=60106,ce=60107,le=60108,he=60114,fe=60109,de=60110,pe=60112,ve=60113,ge=60120,me=60115,ye=60116,be=60121,we=60128,_e=60129,Ee=60130,Te=60131;if("function"==typeof Symbol&&Symbol.for){var Ie=Symbol.for;se=Ie("react.element"),ue=Ie("react.portal"),ce=Ie("react.fragment"),le=Ie("react.strict_mode"),he=Ie("react.profiler"),fe=Ie("react.provider"),de=Ie("react.context"),pe=Ie("react.forward_ref"),ve=Ie("react.suspense"),ge=Ie("react.suspense_list"),me=Ie("react.memo"),ye=Ie("react.lazy"),be=Ie("react.block"),Ie("react.scope"),we=Ie("react.opaque.id"),_e=Ie("react.debug_trace_mode"),Ee=Ie("react.offscreen"),Te=Ie("react.legacy_hidden")}var ke,Se="function"==typeof Symbol&&Symbol.iterator;function Ce(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=Se&&e[Se]||e["@@iterator"])?e:null}function Ne(e){if(void 0===ke)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ke=t&&t[1]||""}return"\n"+ke+e}var Ae=!1;function xe(e,t){if(!e||Ae)return"";Ae=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"==typeof u.stack){for(var i=u.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{Ae=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ne(e):""}function Pe(e){switch(e.tag){case 5:return Ne(e.type);case 16:return Ne("Lazy");case 13:return Ne("Suspense");case 19:return Ne("SuspenseList");case 0:case 2:case 15:return e=xe(e.type,!1);case 11:return e=xe(e.type.render,!1);case 22:return e=xe(e.type._render,!1);case 1:return e=xe(e.type,!0);default:return""}}function Re(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case ce:return"Fragment";case ue:return"Portal";case he:return"Profiler";case le:return"StrictMode";case ve:return"Suspense";case ge:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case de:return(e.displayName||"Context")+".Consumer";case fe:return(e._context.displayName||"Context")+".Provider";case pe:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case me:return Re(e.type);case be:return Re(e._render);case ye:t=e._payload,e=e._init;try{return Re(e(t))}catch(n){}}return null}function De(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Oe(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Le(e){e._valueTracker||(e._valueTracker=function(e){var t=Oe(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Me(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Oe(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Fe(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Ue(e,t){var n=t.checked;return z({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function je(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=De(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function qe(e,t){null!=(t=t.checked)&&oe(e,"checked",t,!1)}function Ve(e,t){qe(e,t);var n=De(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ze(e,t.type,n):t.hasOwnProperty("defaultValue")&&ze(e,t.type,De(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Be(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ze(e,t,n){"number"===t&&Fe(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Ke(e,t){return e=z({children:void 0},t),(t=function(e){var t="";return B.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function We(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+De(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function He(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(W(91));return z({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ge(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(W(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(W(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:De(n)}}function Qe(e,t){var n=De(t.value),r=De(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function $e(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var Ye="http://www.w3.org/1999/xhtml",Xe="http://www.w3.org/2000/svg";function Je(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ze(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Je(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var et,tt,nt=(tt=function(e,t){if(e.namespaceURI!==Xe||"innerHTML"in e)e.innerHTML=t;else{for((et=et||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=et.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return tt(e,t)}))}:tt);function rt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var it={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ot=["Webkit","ms","Moz","O"];function at(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||it.hasOwnProperty(e)&&it[e]?(""+t).trim():t+"px"}function st(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=at(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(it).forEach((function(e){ot.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),it[t]=it[e]}))}));var ut=z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ct(e,t){if(t){if(ut[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(W(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(W(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(W(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(W(62))}}function lt(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function ht(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ft=null,dt=null,pt=null;function vt(e){if(e=ji(e)){if("function"!=typeof ft)throw Error(W(280));var t=e.stateNode;t&&(t=Vi(t),ft(e.stateNode,e.type,t))}}function gt(e){dt?pt?pt.push(e):pt=[e]:dt=e}function mt(){if(dt){var e=dt,t=pt;if(pt=dt=null,vt(e),t)for(e=0;e<t.length;e++)vt(t[e])}}function yt(e,t){return e(t)}function bt(e,t,n,r,i){return e(t,n,r,i)}function wt(){}var _t=yt,Et=!1,Tt=!1;function It(){null===dt&&null===pt||(wt(),mt())}function kt(e,t){var n=e.stateNode;if(null===n)return null;var r=Vi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(W(231,t,typeof n));return n}var St=!1;if(Y)try{var Ct={};Object.defineProperty(Ct,"passive",{get:function(){St=!0}}),window.addEventListener("test",Ct,Ct),window.removeEventListener("test",Ct,Ct)}catch(tt){St=!1}function Nt(e,t,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var At=!1,xt=null,Pt=!1,Rt=null,Dt={onError:function(e){At=!0,xt=e}};function Ot(e,t,n,r,i,o,a,s,u){At=!1,xt=null,Nt.apply(Dt,arguments)}function Lt(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Mt(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ft(e){if(Lt(e)!==e)throw Error(W(188))}function Ut(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Lt(e)))throw Error(W(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ft(i),e;if(o===r)return Ft(i),t;o=o.sibling}throw Error(W(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(3!==n.tag)throw Error(W(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function jt(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var qt,Vt,Bt,zt,Kt=!1,Wt=[],Ht=null,Gt=null,Qt=null,$t=new Map,Yt=new Map,Xt=[],Jt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Zt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function en(e,t){switch(e){case"focusin":case"focusout":Ht=null;break;case"dragenter":case"dragleave":Gt=null;break;case"mouseover":case"mouseout":Qt=null;break;case"pointerover":case"pointerout":$t.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yt.delete(t.pointerId)}}function tn(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=Zt(t,n,r,i,o),null!==t&&(null!==(t=ji(t))&&Vt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function nn(e){var t=Ui(e.target);if(null!==t){var n=Lt(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Mt(n)))return e.blockedOn=t,void zt(e.lanePriority,(function(){K.unstable_runWithPriority(e.priority,(function(){Bt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function rn(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=jn(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ji(n))&&Vt(t),e.blockedOn=n,!1;t.shift()}return!0}function on(e,t,n){rn(e)&&n.delete(t)}function an(){for(Kt=!1;0<Wt.length;){var e=Wt[0];if(null!==e.blockedOn){null!==(e=ji(e.blockedOn))&&qt(e);break}for(var t=e.targetContainers;0<t.length;){var n=jn(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&Wt.shift()}null!==Ht&&rn(Ht)&&(Ht=null),null!==Gt&&rn(Gt)&&(Gt=null),null!==Qt&&rn(Qt)&&(Qt=null),$t.forEach(on),Yt.forEach(on)}function sn(e,t){e.blockedOn===t&&(e.blockedOn=null,Kt||(Kt=!0,K.unstable_scheduleCallback(K.unstable_NormalPriority,an)))}function un(e){function t(t){return sn(t,e)}if(0<Wt.length){sn(Wt[0],e);for(var n=1;n<Wt.length;n++){var r=Wt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ht&&sn(Ht,e),null!==Gt&&sn(Gt,e),null!==Qt&&sn(Qt,e),$t.forEach(t),Yt.forEach(t),n=0;n<Xt.length;n++)(r=Xt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Xt.length&&null===(n=Xt[0]).blockedOn;)nn(n),null===n.blockedOn&&Xt.shift()}function cn(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ln={animationend:cn("Animation","AnimationEnd"),animationiteration:cn("Animation","AnimationIteration"),animationstart:cn("Animation","AnimationStart"),transitionend:cn("Transition","TransitionEnd")},hn={},fn={};function dn(e){if(hn[e])return hn[e];if(!ln[e])return e;var t,n=ln[e];for(t in n)if(n.hasOwnProperty(t)&&t in fn)return hn[e]=n[t];return e}Y&&(fn=document.createElement("div").style,"AnimationEvent"in window||(delete ln.animationend.animation,delete ln.animationiteration.animation,delete ln.animationstart.animation),"TransitionEvent"in window||delete ln.transitionend.transition);var pn=dn("animationend"),vn=dn("animationiteration"),gn=dn("animationstart"),mn=dn("transitionend"),yn=new Map,bn=new Map,wn=["abort","abort",pn,"animationEnd",vn,"animationIteration",gn,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",mn,"transitionEnd","waiting","waiting"];function _n(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),bn.set(r,t),yn.set(r,i),Q(i,[r])}}(0,K.unstable_now)();var En=8;function Tn(e){if(0!=(1&e))return En=15,1;if(0!=(2&e))return En=14,2;if(0!=(4&e))return En=13,4;var t=24&e;return 0!==t?(En=12,t):0!=(32&e)?(En=11,32):0!==(t=192&e)?(En=10,t):0!=(256&e)?(En=9,256):0!==(t=3584&e)?(En=8,t):0!=(4096&e)?(En=7,4096):0!==(t=4186112&e)?(En=6,t):0!==(t=62914560&e)?(En=5,t):67108864&e?(En=4,67108864):0!=(134217728&e)?(En=3,134217728):0!==(t=805306368&e)?(En=2,t):0!=(1073741824&e)?(En=1,1073741824):(En=8,e)}function In(e,t){var n=e.pendingLanes;if(0===n)return En=0;var r=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(0!==o)r=o,i=En=15;else if(0!==(o=134217727&n)){var u=o&~a;0!==u?(r=Tn(u),i=En):0!==(s&=o)&&(r=Tn(s),i=En)}else 0!==(o=n&~a)?(r=Tn(o),i=En):0!==s&&(r=Tn(s),i=En);if(0===r)return 0;if(r=n&((0>(r=31-xn(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0==(t&a)){if(Tn(t),i<=En)return t;En=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-xn(t)),r|=e[n],t&=~i;return r}function kn(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Sn(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Cn(24&~t))?Sn(10,t):e;case 10:return 0===(e=Cn(192&~t))?Sn(8,t):e;case 8:return 0===(e=Cn(3584&~t))&&(0===(e=Cn(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Cn(805306368&~t))&&(t=268435456),t}throw Error(W(358,e))}function Cn(e){return e&-e}function Nn(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function An(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-xn(t)]=n}var xn=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Pn(e)/Rn|0)|0},Pn=Math.log,Rn=Math.LN2;var Dn=K.unstable_UserBlockingPriority,On=K.unstable_runWithPriority,Ln=!0;function Mn(e,t,n,r){Et||wt();var i=Un,o=Et;Et=!0;try{bt(i,e,t,n,r)}finally{(Et=o)||It()}}function Fn(e,t,n,r){On(Dn,Un.bind(null,e,t,n,r))}function Un(e,t,n,r){var i;if(Ln)if((i=0==(4&t))&&0<Wt.length&&-1<Jt.indexOf(e))e=Zt(null,e,t,n,r),Wt.push(e);else{var o=jn(e,t,n,r);if(null===o)i&&en(e,r);else{if(i){if(-1<Jt.indexOf(e))return e=Zt(o,e,t,n,r),void Wt.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return Ht=tn(Ht,e,t,n,r,i),!0;case"dragenter":return Gt=tn(Gt,e,t,n,r,i),!0;case"mouseover":return Qt=tn(Qt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return $t.set(o,tn($t.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Yt.set(o,tn(Yt.get(o)||null,e,t,n,r,i)),!0}return!1}(o,e,t,n,r))return;en(e,r)}mi(e,t,r,null,n)}}}function jn(e,t,n,r){var i=ht(r);if(null!==(i=Ui(i))){var o=Lt(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=Mt(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return mi(e,t,r,i,n),null}var qn=null,Vn=null,Bn=null;function zn(){if(Bn)return Bn;var e,t,n=Vn,r=n.length,i="value"in qn?qn.value:qn.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Bn=i.slice(e,1<t?1-t:void 0)}function Kn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Wn(){return!0}function Hn(){return!1}function Gn(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Wn:Hn,this.isPropagationStopped=Hn,this}return z(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Wn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Wn)},persist:function(){},isPersistent:Wn}),t}var Qn,$n,Yn,Xn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jn=Gn(Xn),Zn=z({},Xn,{view:0,detail:0}),er=Gn(Zn),tr=z({},Zn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fr,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Yn&&(Yn&&"mousemove"===e.type?(Qn=e.screenX-Yn.screenX,$n=e.screenY-Yn.screenY):$n=Qn=0,Yn=e),Qn)},movementY:function(e){return"movementY"in e?e.movementY:$n}}),nr=Gn(tr),rr=Gn(z({},tr,{dataTransfer:0})),ir=Gn(z({},Zn,{relatedTarget:0})),or=Gn(z({},Xn,{animationName:0,elapsedTime:0,pseudoElement:0})),ar=Gn(z({},Xn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),sr=Gn(z({},Xn,{data:0})),ur={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=lr[e])&&!!t[e]}function fr(){return hr}var dr=Gn(z({},Zn,{key:function(e){if(e.key){var t=ur[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Kn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?cr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fr,charCode:function(e){return"keypress"===e.type?Kn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Kn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),pr=Gn(z({},tr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),vr=Gn(z({},Zn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fr})),gr=Gn(z({},Xn,{propertyName:0,elapsedTime:0,pseudoElement:0})),mr=Gn(z({},tr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),yr=[9,13,27,32],br=Y&&"CompositionEvent"in window,wr=null;Y&&"documentMode"in document&&(wr=document.documentMode);var _r=Y&&"TextEvent"in window&&!wr,Er=Y&&(!br||wr&&8<wr&&11>=wr),Tr=String.fromCharCode(32),Ir=!1;function kr(e,t){switch(e){case"keyup":return-1!==yr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sr(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Cr=!1;var Nr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ar(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Nr[e.type]:"textarea"===t}function xr(e,t,n,r){gt(r),0<(t=bi(t,"onChange")).length&&(n=new Jn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Pr=null,Rr=null;function Dr(e){hi(e,0)}function Or(e){if(Me(qi(e)))return e}function Lr(e,t){if("change"===e)return t}var Mr=!1;if(Y){var Fr;if(Y){var Ur="oninput"in document;if(!Ur){var jr=document.createElement("div");jr.setAttribute("oninput","return;"),Ur="function"==typeof jr.oninput}Fr=Ur}else Fr=!1;Mr=Fr&&(!document.documentMode||9<document.documentMode)}function qr(){Pr&&(Pr.detachEvent("onpropertychange",Vr),Rr=Pr=null)}function Vr(e){if("value"===e.propertyName&&Or(Rr)){var t=[];if(xr(t,Rr,e,ht(e)),e=Dr,Et)e(t);else{Et=!0;try{yt(e,t)}finally{Et=!1,It()}}}}function Br(e,t,n){"focusin"===e?(qr(),Rr=n,(Pr=t).attachEvent("onpropertychange",Vr)):"focusout"===e&&qr()}function zr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Or(Rr)}function Kr(e,t){if("click"===e)return Or(t)}function Wr(e,t){if("input"===e||"change"===e)return Or(t)}var Hr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Gr=Object.prototype.hasOwnProperty;function Qr(e,t){if(Hr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Gr.call(t,n[r])||!Hr(e[n[r]],t[n[r]]))return!1;return!0}function $r(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Yr(e,t){var n,r=$r(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=$r(r)}}function Xr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Xr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Jr(){for(var e=window,t=Fe();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Fe((e=t.contentWindow).document)}return t}function Zr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var ei=Y&&"documentMode"in document&&11>=document.documentMode,ti=null,ni=null,ri=null,ii=!1;function oi(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ii||null==ti||ti!==Fe(r)||("selectionStart"in(r=ti)&&Zr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},ri&&Qr(ri,r)||(ri=r,0<(r=bi(ni,"onSelect")).length&&(t=new Jn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ti)))}_n("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),_n("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),_n(wn,2);for(var ai="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),si=0;si<ai.length;si++)bn.set(ai[si],0);$("onMouseEnter",["mouseout","mouseover"]),$("onMouseLeave",["mouseout","mouseover"]),$("onPointerEnter",["pointerout","pointerover"]),$("onPointerLeave",["pointerout","pointerover"]),Q("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Q("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Q("onBeforeInput",["compositionend","keypress","textInput","paste"]),Q("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Q("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Q("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ui="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ci=new Set("cancel close invalid load scroll toggle".split(" ").concat(ui));function li(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,a,s,u){if(Ot.apply(this,arguments),At){if(!At)throw Error(W(198));var c=xt;At=!1,xt=null,Pt||(Pt=!0,Rt=c)}}(r,t,void 0,e),e.currentTarget=null}function hi(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;li(i,s,c),o=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,c=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;li(i,s,c),o=u}}}if(Pt)throw e=Rt,Pt=!1,Rt=null,e}function fi(e,t){var n=Bi(t),r=e+"__bubble";n.has(r)||(gi(t,e,2,!1),n.add(r))}var di="_reactListening"+Math.random().toString(36).slice(2);function pi(e){e[di]||(e[di]=!0,H.forEach((function(t){ci.has(t)||vi(t,!1,e,null),vi(t,!0,e,null)})))}function vi(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&ci.has(e)){if("scroll"!==e)return;i|=2,o=r}var a=Bi(o),s=e+"__"+(t?"capture":"bubble");a.has(s)||(t&&(i|=4),gi(o,e,i,t),a.add(s))}function gi(e,t,n,r){var i=bn.get(t);switch(void 0===i?2:i){case 0:i=Mn;break;case 1:i=Fn;break;default:i=Un}n=i.bind(null,t,n,e),i=void 0,!St||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function mi(e,t,n,r,i){var o=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=Ui(s)))return;if(5===(u=a.tag)||6===u){r=o=a;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Tt)return e(t,n);Tt=!0;try{_t(e,t,n)}finally{Tt=!1,It()}}((function(){var r=o,i=ht(n),a=[];e:{var s=yn.get(e);if(void 0!==s){var u=Jn,c=e;switch(e){case"keypress":if(0===Kn(n))break e;case"keydown":case"keyup":u=dr;break;case"focusin":c="focus",u=ir;break;case"focusout":c="blur",u=ir;break;case"beforeblur":case"afterblur":u=ir;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=nr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=rr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=vr;break;case pn:case vn:case gn:u=or;break;case mn:u=gr;break;case"scroll":u=er;break;case"wheel":u=mr;break;case"copy":case"cut":case"paste":u=ar;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=pr}var l=0!=(4&t),h=!l&&"scroll"===e,f=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==f&&(null!=(v=kt(p,f))&&l.push(yi(p,v,d)))),h)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),a.push({event:s,listeners:l}))}}if(0==(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!=(16&t)||!(c=n.relatedTarget||n.fromElement)||!Ui(c)&&!c[Mi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?Ui(c):null)&&(c!==(h=Lt(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=nr,v="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=pr,v="onPointerLeave",f="onPointerEnter",p="pointer"),h=null==u?s:qi(u),d=null==c?s:qi(c),(s=new l(v,p+"leave",u,n,i)).target=h,s.relatedTarget=d,v=null,Ui(i)===r&&((l=new l(f,p+"enter",c,n,i)).target=d,l.relatedTarget=h,v=l),h=v,u&&c)e:{for(f=c,p=0,d=l=u;d;d=wi(d))p++;for(d=0,v=f;v;v=wi(v))d++;for(;0<p-d;)l=wi(l),p--;for(;0<d-p;)f=wi(f),d--;for(;p--;){if(l===f||null!==f&&l===f.alternate)break e;l=wi(l),f=wi(f)}l=null}else l=null;null!==u&&_i(a,s,u,l,!1),null!==c&&null!==h&&_i(a,h,c,l,!0)}if("select"===(u=(s=r?qi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var g=Lr;else if(Ar(s))if(Mr)g=Wr;else{g=zr;var m=Br}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=Kr);switch(g&&(g=g(e,r))?xr(a,g,n,i):(m&&m(e,s,r),"focusout"===e&&(m=s._wrapperState)&&m.controlled&&"number"===s.type&&ze(s,"number",s.value)),m=r?qi(r):window,e){case"focusin":(Ar(m)||"true"===m.contentEditable)&&(ti=m,ni=r,ri=null);break;case"focusout":ri=ni=ti=null;break;case"mousedown":ii=!0;break;case"contextmenu":case"mouseup":case"dragend":ii=!1,oi(a,n,i);break;case"selectionchange":if(ei)break;case"keydown":case"keyup":oi(a,n,i)}var y;if(br)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Cr?kr(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Er&&"ko"!==n.locale&&(Cr||"onCompositionStart"!==b?"onCompositionEnd"===b&&Cr&&(y=zn()):(Vn="value"in(qn=i)?qn.value:qn.textContent,Cr=!0)),0<(m=bi(r,b)).length&&(b=new sr(b,e,null,n,i),a.push({event:b,listeners:m}),y?b.data=y:null!==(y=Sr(n))&&(b.data=y))),(y=_r?function(e,t){switch(e){case"compositionend":return Sr(t);case"keypress":return 32!==t.which?null:(Ir=!0,Tr);case"textInput":return(e=t.data)===Tr&&Ir?null:e;default:return null}}(e,n):function(e,t){if(Cr)return"compositionend"===e||!br&&kr(e,t)?(e=zn(),Bn=Vn=qn=null,Cr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Er&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))&&(0<(r=bi(r,"onBeforeInput")).length&&(i=new sr("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}hi(a,t)}))}function yi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function bi(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=kt(e,n))&&r.unshift(yi(e,o,i)),null!=(o=kt(e,t))&&r.push(yi(e,o,i))),e=e.return}return r}function wi(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function _i(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=kt(n,o))&&a.unshift(yi(n,u,s)):i||null!=(u=kt(n,o))&&a.push(yi(n,u,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function Ei(){}var Ti=null,Ii=null;function ki(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Si(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Ci="function"==typeof setTimeout?setTimeout:void 0,Ni="function"==typeof clearTimeout?clearTimeout:void 0;function Ai(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function xi(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Pi(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Ri=0;var Di=Math.random().toString(36).slice(2),Oi="__reactFiber$"+Di,Li="__reactProps$"+Di,Mi="__reactContainer$"+Di,Fi="__reactEvents$"+Di;function Ui(e){var t=e[Oi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Mi]||n[Oi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Pi(e);null!==e;){if(n=e[Oi])return n;e=Pi(e)}return t}n=(e=n).parentNode}return null}function ji(e){return!(e=e[Oi]||e[Mi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function qi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(W(33))}function Vi(e){return e[Li]||null}function Bi(e){var t=e[Fi];return void 0===t&&(t=e[Fi]=new Set),t}var zi=[],Ki=-1;function Wi(e){return{current:e}}function Hi(e){0>Ki||(e.current=zi[Ki],zi[Ki]=null,Ki--)}function Gi(e,t){Ki++,zi[Ki]=e.current,e.current=t}var Qi={},$i=Wi(Qi),Yi=Wi(!1),Xi=Qi;function Ji(e,t){var n=e.type.contextTypes;if(!n)return Qi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Zi(e){return null!=(e=e.childContextTypes)}function eo(){Hi(Yi),Hi($i)}function to(e,t,n){if($i.current!==Qi)throw Error(W(168));Gi($i,t),Gi(Yi,n)}function no(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in e))throw Error(W(108,Re(t)||"Unknown",i));return z({},n,r)}function ro(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Qi,Xi=$i.current,Gi($i,e),Gi(Yi,Yi.current),!0}function io(e,t,n){var r=e.stateNode;if(!r)throw Error(W(169));n?(e=no(e,t,Xi),r.__reactInternalMemoizedMergedChildContext=e,Hi(Yi),Hi($i),Gi($i,e)):Hi(Yi),Gi(Yi,n)}var oo=null,ao=null,so=K.unstable_runWithPriority,uo=K.unstable_scheduleCallback,co=K.unstable_cancelCallback,lo=K.unstable_shouldYield,ho=K.unstable_requestPaint,fo=K.unstable_now,po=K.unstable_getCurrentPriorityLevel,vo=K.unstable_ImmediatePriority,go=K.unstable_UserBlockingPriority,mo=K.unstable_NormalPriority,yo=K.unstable_LowPriority,bo=K.unstable_IdlePriority,wo={},_o=void 0!==ho?ho:function(){},Eo=null,To=null,Io=!1,ko=fo(),So=1e4>ko?fo:function(){return fo()-ko};function Co(){switch(po()){case vo:return 99;case go:return 98;case mo:return 97;case yo:return 96;case bo:return 95;default:throw Error(W(332))}}function No(e){switch(e){case 99:return vo;case 98:return go;case 97:return mo;case 96:return yo;case 95:return bo;default:throw Error(W(332))}}function Ao(e,t){return e=No(e),so(e,t)}function xo(e,t,n){return e=No(e),uo(e,t,n)}function Po(){if(null!==To){var e=To;To=null,co(e)}Ro()}function Ro(){if(!Io&&null!==Eo){Io=!0;var e=0;try{var t=Eo;Ao(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Eo=null}catch(n){throw null!==Eo&&(Eo=Eo.slice(e+1)),uo(vo,Po),n}finally{Io=!1}}}var Do=ae.ReactCurrentBatchConfig;function Oo(e,t){if(e&&e.defaultProps){for(var n in t=z({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Lo=Wi(null),Mo=null,Fo=null,Uo=null;function jo(){Uo=Fo=Mo=null}function qo(e){var t=Lo.current;Hi(Lo),e.type._context._currentValue=t}function Vo(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function Bo(e,t){Mo=e,Uo=Fo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(bs=!0),e.firstContext=null)}function zo(e,t){if(Uo!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(Uo=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Fo){if(null===Mo)throw Error(W(308));Fo=t,Mo.dependencies={lanes:0,firstContext:t,responders:null}}else Fo=Fo.next=t;return e._currentValue}var Ko=!1;function Wo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function Ho(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Go(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Qo(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function $o(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Yo(e,t,n,r){var i=e.updateQueue;Ko=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===a?o=c:a.next=c,a=u;var l=e.alternate;if(null!==l){var h=(l=l.updateQueue).lastBaseUpdate;h!==a&&(null===h?l.firstBaseUpdate=c:h.next=c,l.lastBaseUpdate=u)}}if(null!==o){for(h=i.baseState,a=0,l=c=u=null;;){s=o.lane;var f=o.eventTime;if((r&s)===s){null!==l&&(l=l.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var d=e,p=o;switch(s=t,f=n,p.tag){case 1:if("function"==typeof(d=p.payload)){h=d.call(f,h,s);break e}h=d;break e;case 3:d.flags=-4097&d.flags|64;case 0:if(null==(s="function"==typeof(d=p.payload)?d.call(f,h,s):d))break e;h=z({},h,s);break e;case 2:Ko=!0}}null!==o.callback&&(e.flags|=32,null===(s=i.effects)?i.effects=[o]:s.push(o))}else f={eventTime:f,lane:s,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===l?(c=l=f,u=h):l=l.next=f,a|=s;if(null===(o=o.next)){if(null===(s=i.shared.pending))break;o=s.next,s.next=null,i.lastBaseUpdate=s,i.shared.pending=null}}null===l&&(u=h),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,Tu|=a,e.lanes=a,e.memoizedState=h}}function Xo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(W(191,i));i.call(r)}}}var Jo=(new B.Component).refs;function Zo(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:z({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ea={isMounted:function(e){return!!(e=e._reactInternals)&&Lt(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Qu(),i=$u(e),o=Go(r,i);o.payload=t,null!=n&&(o.callback=n),Qo(e,o),Yu(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Qu(),i=$u(e),o=Go(r,i);o.tag=1,o.payload=t,null!=n&&(o.callback=n),Qo(e,o),Yu(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Qu(),r=$u(e),i=Go(n,r);i.tag=2,null!=t&&(i.callback=t),Qo(e,i),Yu(e,r,n)}};function ta(e,t,n,r,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!Qr(n,r)||!Qr(i,o))}function na(e,t,n){var r=!1,i=Qi,o=t.contextType;return"object"==typeof o&&null!==o?o=zo(o):(i=Zi(t)?Xi:$i.current,o=(r=null!=(r=t.contextTypes))?Ji(e,i):Qi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ea,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function ra(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ea.enqueueReplaceState(t,t.state,null)}function ia(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Jo,Wo(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=zo(o):(o=Zi(t)?Xi:$i.current,i.context=Ji(e,o)),Yo(e,n,i,r),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(Zo(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ea.enqueueReplaceState(i,i.state,null),Yo(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4)}var oa=Array.isArray;function aa(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===Jo&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!=typeof e)throw Error(W(284));if(!n._owner)throw Error(W(290,e))}return e}function sa(e,t){if("textarea"!==e.type)throw Error(W(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function ua(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Nc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function a(t){return e&&null===t.alternate&&(t.flags=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Rc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=aa(e,t,n),r.return=e,r):((r=Ac(n.type,n.key,n.props,null,e.mode,r)).ref=aa(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Dc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function l(e,t,n,r,o){return null===t||7!==t.tag?((t=xc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Rc(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case se:return(n=Ac(t.type,t.key,t.props,null,e.mode,n)).ref=aa(e,null,t),n.return=e,n;case ue:return(t=Dc(t,e.mode,n)).return=e,t}if(oa(t)||Ce(t))return(t=xc(t,e.mode,n,null)).return=e,t;sa(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:s(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case se:return n.key===i?n.type===ce?l(e,t,n.props.children,r,i):u(e,t,n,r):null;case ue:return n.key===i?c(e,t,n,r):null}if(oa(n)||Ce(n))return null!==i?null:l(e,t,n,r,null);sa(e,n)}return null}function d(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case se:return e=e.get(null===r.key?n:r.key)||null,r.type===ce?l(t,e,r.props.children,i,r.key):u(t,e,r,i);case ue:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(oa(r)||Ce(r))return l(t,e=e.get(n)||null,r,i,null);sa(t,r)}return null}return function(s,u,c,l){var p="object"==typeof c&&null!==c&&c.type===ce&&null===c.key;p&&(c=c.props.children);var v="object"==typeof c&&null!==c;if(v)switch(c.$$typeof){case se:e:{for(v=c.key,p=u;null!==p;){if(p.key===v){switch(p.tag){case 7:if(c.type===ce){n(s,p.sibling),(u=i(p,c.props.children)).return=s,s=u;break e}break;default:if(p.elementType===c.type){n(s,p.sibling),(u=i(p,c.props)).ref=aa(s,p,c),u.return=s,s=u;break e}}n(s,p);break}t(s,p),p=p.sibling}c.type===ce?((u=xc(c.props.children,s.mode,l,c.key)).return=s,s=u):((l=Ac(c.type,c.key,c.props,null,s.mode,l)).ref=aa(s,u,c),l.return=s,s=l)}return a(s);case ue:e:{for(p=c.key;null!==u;){if(u.key===p){if(4===u.tag&&u.stateNode.containerInfo===c.containerInfo&&u.stateNode.implementation===c.implementation){n(s,u.sibling),(u=i(u,c.children||[])).return=s,s=u;break e}n(s,u);break}t(s,u),u=u.sibling}(u=Dc(c,s.mode,l)).return=s,s=u}return a(s)}if("string"==typeof c||"number"==typeof c)return c=""+c,null!==u&&6===u.tag?(n(s,u.sibling),(u=i(u,c)).return=s,s=u):(n(s,u),(u=Rc(c,s.mode,l)).return=s,s=u),a(s);if(oa(c))return function(i,a,s,u){for(var c=null,l=null,p=a,v=a=0,g=null;null!==p&&v<s.length;v++){p.index>v?(g=p,p=null):g=p.sibling;var m=f(i,p,s[v],u);if(null===m){null===p&&(p=g);break}e&&p&&null===m.alternate&&t(i,p),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m,p=g}if(v===s.length)return n(i,p),c;if(null===p){for(;v<s.length;v++)null!==(p=h(i,s[v],u))&&(a=o(p,a,v),null===l?c=p:l.sibling=p,l=p);return c}for(p=r(i,p);v<s.length;v++)null!==(g=d(p,i,v,s[v],u))&&(e&&null!==g.alternate&&p.delete(null===g.key?v:g.key),a=o(g,a,v),null===l?c=g:l.sibling=g,l=g);return e&&p.forEach((function(e){return t(i,e)})),c}(s,u,c,l);if(Ce(c))return function(i,a,s,u){var c=Ce(s);if("function"!=typeof c)throw Error(W(150));if(null==(s=c.call(s)))throw Error(W(151));for(var l=c=null,p=a,v=a=0,g=null,m=s.next();null!==p&&!m.done;v++,m=s.next()){p.index>v?(g=p,p=null):g=p.sibling;var y=f(i,p,m.value,u);if(null===y){null===p&&(p=g);break}e&&p&&null===y.alternate&&t(i,p),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,p=g}if(m.done)return n(i,p),c;if(null===p){for(;!m.done;v++,m=s.next())null!==(m=h(i,m.value,u))&&(a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return c}for(p=r(i,p);!m.done;v++,m=s.next())null!==(m=d(p,i,v,m.value,u))&&(e&&null!==m.alternate&&p.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&p.forEach((function(e){return t(i,e)})),c}(s,u,c,l);if(v&&sa(s,c),void 0===c&&!p)switch(s.tag){case 1:case 22:case 0:case 11:case 15:throw Error(W(152,Re(s.type)||"Component"))}return n(s,u)}}var ca=ua(!0),la=ua(!1),ha={},fa=Wi(ha),da=Wi(ha),pa=Wi(ha);function va(e){if(e===ha)throw Error(W(174));return e}function ga(e,t){switch(Gi(pa,t),Gi(da,e),Gi(fa,ha),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ze(null,"");break;default:t=Ze(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Hi(fa),Gi(fa,t)}function ma(){Hi(fa),Hi(da),Hi(pa)}function ya(e){va(pa.current);var t=va(fa.current),n=Ze(t,e.type);t!==n&&(Gi(da,e),Gi(fa,n))}function ba(e){da.current===e&&(Hi(fa),Hi(da))}var wa=Wi(0);function _a(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ea=null,Ta=null,Ia=!1;function ka(e,t){var n=Sc(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Ca(e){if(Ia){var t=Ta;if(t){var n=t;if(!Sa(e,t)){if(!(t=xi(n.nextSibling))||!Sa(e,t))return e.flags=-1025&e.flags|2,Ia=!1,void(Ea=e);ka(Ea,n)}Ea=e,Ta=xi(t.firstChild)}else e.flags=-1025&e.flags|2,Ia=!1,Ea=e}}function Na(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ea=e}function Aa(e){if(e!==Ea)return!1;if(!Ia)return Na(e),Ia=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Si(t,e.memoizedProps))for(t=Ta;t;)ka(e,t),t=xi(t.nextSibling);if(Na(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(W(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ta=xi(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Ta=null}}else Ta=Ea?xi(e.stateNode.nextSibling):null;return!0}function xa(){Ta=Ea=null,Ia=!1}var Pa=[];function Ra(){for(var e=0;e<Pa.length;e++)Pa[e]._workInProgressVersionPrimary=null;Pa.length=0}var Da=ae.ReactCurrentDispatcher,Oa=ae.ReactCurrentBatchConfig,La=0,Ma=null,Fa=null,Ua=null,ja=!1,qa=!1;function Va(){throw Error(W(321))}function Ba(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Hr(e[n],t[n]))return!1;return!0}function za(e,t,n,r,i,o){if(La=o,Ma=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Da.current=null===e||null===e.memoizedState?vs:gs,e=n(r,i),qa){o=0;do{if(qa=!1,!(25>o))throw Error(W(301));o+=1,Ua=Fa=null,t.updateQueue=null,Da.current=ms,e=n(r,i)}while(qa)}if(Da.current=ps,t=null!==Fa&&null!==Fa.next,La=0,Ua=Fa=Ma=null,ja=!1,t)throw Error(W(300));return e}function Ka(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ua?Ma.memoizedState=Ua=e:Ua=Ua.next=e,Ua}function Wa(){if(null===Fa){var e=Ma.alternate;e=null!==e?e.memoizedState:null}else e=Fa.next;var t=null===Ua?Ma.memoizedState:Ua.next;if(null!==t)Ua=t,Fa=e;else{if(null===e)throw Error(W(310));e={memoizedState:(Fa=e).memoizedState,baseState:Fa.baseState,baseQueue:Fa.baseQueue,queue:Fa.queue,next:null},null===Ua?Ma.memoizedState=Ua=e:Ua=Ua.next=e}return Ua}function Ha(e,t){return"function"==typeof t?t(e):t}function Ga(e){var t=Wa(),n=t.queue;if(null===n)throw Error(W(311));n.lastRenderedReducer=e;var r=Fa,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var s=a=o=null,u=i;do{var c=u.lane;if((La&c)===c)null!==s&&(s=s.next={lane:0,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),r=u.eagerReducer===e?u.eagerState:e(r,u.action);else{var l={lane:c,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===s?(a=s=l,o=r):s=s.next=l,Ma.lanes|=c,Tu|=c}u=u.next}while(null!==u&&u!==i);null===s?o=r:s.next=a,Hr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=s,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function Qa(e){var t=Wa(),n=t.queue;if(null===n)throw Error(W(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);Hr(o,t.memoizedState)||(bs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function $a(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(La&e)===e)&&(t._workInProgressVersionPrimary=r,Pa.push(t))),e)return n(t._source);throw Pa.push(t),Error(W(350))}function Ya(e,t,n,r){var i=vu;if(null===i)throw Error(W(349));var o=t._getVersion,a=o(t._source),s=Da.current,u=s.useState((function(){return $a(i,t,n)})),c=u[1],l=u[0];u=Ua;var h=e.memoizedState,f=h.refs,d=f.getSnapshot,p=h.source;h=h.subscribe;var v=Ma;return e.memoizedState={refs:f,source:t,subscribe:r},s.useEffect((function(){f.getSnapshot=n,f.setSnapshot=c;var e=o(t._source);if(!Hr(a,e)){e=n(t._source),Hr(l,e)||(c(e),e=$u(v),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,s=e;0<s;){var u=31-xn(s),h=1<<u;r[u]|=e,s&=~h}}}),[n,t,r]),s.useEffect((function(){return r(t._source,(function(){var e=f.getSnapshot,n=f.setSnapshot;try{n(e(t._source));var r=$u(v);i.mutableReadLanes|=r&i.pendingLanes}catch(o){n((function(){throw o}))}}))}),[t,r]),Hr(d,n)&&Hr(p,t)&&Hr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:l}).dispatch=c=ds.bind(null,Ma,e),u.queue=e,u.baseQueue=null,l=$a(i,t,n),u.memoizedState=u.baseState=l),l}function Xa(e,t,n){return Ya(Wa(),e,t,n)}function Ja(e){var t=Ka();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:e}).dispatch=ds.bind(null,Ma,e),[t.memoizedState,e]}function Za(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Ma.updateQueue)?(t={lastEffect:null},Ma.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function es(e){return e={current:e},Ka().memoizedState=e}function ts(){return Wa().memoizedState}function ns(e,t,n,r){var i=Ka();Ma.flags|=e,i.memoizedState=Za(1|t,n,void 0,void 0===r?null:r)}function rs(e,t,n,r){var i=Wa();r=void 0===r?null:r;var o=void 0;if(null!==Fa){var a=Fa.memoizedState;if(o=a.destroy,null!==r&&Ba(r,a.deps))return void Za(t,n,o,r)}Ma.flags|=e,i.memoizedState=Za(1|t,n,o,r)}function is(e,t){return ns(516,4,e,t)}function os(e,t){return rs(516,4,e,t)}function as(e,t){return rs(4,2,e,t)}function ss(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function us(e,t,n){return n=null!=n?n.concat([e]):null,rs(4,2,ss.bind(null,t,e),n)}function cs(){}function ls(e,t){var n=Wa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ba(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function hs(e,t){var n=Wa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ba(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function fs(e,t){var n=Co();Ao(98>n?98:n,(function(){e(!0)})),Ao(97<n?97:n,(function(){var n=Oa.transition;Oa.transition=1;try{e(!1),t()}finally{Oa.transition=n}}))}function ds(e,t,n){var r=Qu(),i=$u(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===Ma||null!==a&&a===Ma)qa=ja=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=a(s,n);if(o.eagerReducer=a,o.eagerState=u,Hr(u,s))return}catch(c){}Yu(e,i,r)}}var ps={readContext:zo,useCallback:Va,useContext:Va,useEffect:Va,useImperativeHandle:Va,useLayoutEffect:Va,useMemo:Va,useReducer:Va,useRef:Va,useState:Va,useDebugValue:Va,useDeferredValue:Va,useTransition:Va,useMutableSource:Va,useOpaqueIdentifier:Va,unstable_isNewReconciler:!1},vs={readContext:zo,useCallback:function(e,t){return Ka().memoizedState=[e,void 0===t?null:t],e},useContext:zo,useEffect:is,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,ns(4,2,ss.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ns(4,2,e,t)},useMemo:function(e,t){var n=Ka();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ka();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=ds.bind(null,Ma,e),[r.memoizedState,e]},useRef:es,useState:Ja,useDebugValue:cs,useDeferredValue:function(e){var t=Ja(e),n=t[0],r=t[1];return is((function(){var t=Oa.transition;Oa.transition=1;try{r(e)}finally{Oa.transition=t}}),[e]),n},useTransition:function(){var e=Ja(!1),t=e[0];return es(e=fs.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=Ka();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},Ya(r,e,t,n)},useOpaqueIdentifier:function(){if(Ia){var e=!1,t=function(e){return{$$typeof:we,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Ri++).toString(36))),Error(W(355))})),n=Ja(t)[1];return 0==(2&Ma.mode)&&(Ma.flags|=516,Za(5,(function(){n("r:"+(Ri++).toString(36))}),void 0,null)),t}return Ja(t="r:"+(Ri++).toString(36)),t},unstable_isNewReconciler:!1},gs={readContext:zo,useCallback:ls,useContext:zo,useEffect:os,useImperativeHandle:us,useLayoutEffect:as,useMemo:hs,useReducer:Ga,useRef:ts,useState:function(){return Ga(Ha)},useDebugValue:cs,useDeferredValue:function(e){var t=Ga(Ha),n=t[0],r=t[1];return os((function(){var t=Oa.transition;Oa.transition=1;try{r(e)}finally{Oa.transition=t}}),[e]),n},useTransition:function(){var e=Ga(Ha)[0];return[ts().current,e]},useMutableSource:Xa,useOpaqueIdentifier:function(){return Ga(Ha)[0]},unstable_isNewReconciler:!1},ms={readContext:zo,useCallback:ls,useContext:zo,useEffect:os,useImperativeHandle:us,useLayoutEffect:as,useMemo:hs,useReducer:Qa,useRef:ts,useState:function(){return Qa(Ha)},useDebugValue:cs,useDeferredValue:function(e){var t=Qa(Ha),n=t[0],r=t[1];return os((function(){var t=Oa.transition;Oa.transition=1;try{r(e)}finally{Oa.transition=t}}),[e]),n},useTransition:function(){var e=Qa(Ha)[0];return[ts().current,e]},useMutableSource:Xa,useOpaqueIdentifier:function(){return Qa(Ha)[0]},unstable_isNewReconciler:!1},ys=ae.ReactCurrentOwner,bs=!1;function ws(e,t,n,r){t.child=null===e?la(t,null,n,r):ca(t,e.child,n,r)}function _s(e,t,n,r,i){n=n.render;var o=t.ref;return Bo(t,i),r=za(e,t,n,r,o,i),null===e||bs?(t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,Vs(e,t,i))}function Es(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!=typeof a||Cc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ac(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ts(e,t,a,r,i,o))}return a=e.child,0==(i&o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:Qr)(i,r)&&e.ref===t.ref)?Vs(e,t,o):(t.flags|=1,(e=Nc(a,r)).ref=t.ref,e.return=t,t.child=e)}function Ts(e,t,n,r,i,o){if(null!==e&&Qr(e.memoizedProps,r)&&e.ref===t.ref){if(bs=!1,0==(o&i))return t.lanes=e.lanes,Vs(e,t,o);0!=(16384&e.flags)&&(bs=!0)}return Ss(e,t,n,r,o)}function Is(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0==(4&t.mode))t.memoizedState={baseLanes:0},ic(t,n);else{if(0==(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},ic(t,e),null;t.memoizedState={baseLanes:0},ic(t,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,ic(t,r);return ws(e,t,i,n),t.child}function ks(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Ss(e,t,n,r,i){var o=Zi(n)?Xi:$i.current;return o=Ji(t,o),Bo(t,i),n=za(e,t,n,r,o,i),null===e||bs?(t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,Vs(e,t,i))}function Cs(e,t,n,r,i){if(Zi(n)){var o=!0;ro(t)}else o=!1;if(Bo(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),na(t,n,r),ia(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"==typeof c&&null!==c?c=zo(c):c=Ji(t,c=Zi(n)?Xi:$i.current);var l=n.getDerivedStateFromProps,h="function"==typeof l||"function"==typeof a.getSnapshotBeforeUpdate;h||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||u!==c)&&ra(t,a,r,c),Ko=!1;var f=t.memoizedState;a.state=f,Yo(t,r,a,i),u=t.memoizedState,s!==r||f!==u||Yi.current||Ko?("function"==typeof l&&(Zo(t,n,l,r),u=t.memoizedState),(s=Ko||ta(t,n,s,r,f,u,c))?(h||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4)):("function"==typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"==typeof a.componentDidMount&&(t.flags|=4),r=!1)}else{a=t.stateNode,Ho(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Oo(t.type,s),a.props=c,h=t.pendingProps,f=a.context,"object"==typeof(u=n.contextType)&&null!==u?u=zo(u):u=Ji(t,u=Zi(n)?Xi:$i.current);var d=n.getDerivedStateFromProps;(l="function"==typeof d||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==h||f!==u)&&ra(t,a,r,u),Ko=!1,f=t.memoizedState,a.state=f,Yo(t,r,a,i);var p=t.memoizedState;s!==h||f!==p||Yi.current||Ko?("function"==typeof d&&(Zo(t,n,d,r),p=t.memoizedState),(c=Ko||ta(t,n,c,r,f,p,u))?(l||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=u,r=c):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),r=!1)}return Ns(e,t,n,r,o,i)}function Ns(e,t,n,r,i,o){ks(e,t);var a=0!=(64&t.flags);if(!r&&!a)return i&&io(t,n,!1),Vs(e,t,o);r=t.stateNode,ys.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=ca(t,e.child,null,o),t.child=ca(t,null,s,o)):ws(e,t,s,o),t.memoizedState=r.state,i&&io(t,n,!0),t.child}function As(e){var t=e.stateNode;t.pendingContext?to(0,t.pendingContext,t.pendingContext!==t.context):t.context&&to(0,t.context,!1),ga(e,t.containerInfo)}var xs,Ps,Rs,Ds={dehydrated:null,retryLane:0};function Os(e,t,n){var r,i=t.pendingProps,o=wa.current,a=!1;return(r=0!=(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!=(2&o)),r?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),Gi(wa,1&o),null===e?(void 0!==i.fallback&&Ca(t),e=i.children,o=i.fallback,a?(e=Ls(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ds,e):"number"==typeof i.unstable_expectedLoadTime?(e=Ls(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ds,t.lanes=33554432,e):((n=Pc({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,a?(i=Fs(e,t,i.children,i.fallback,n),a=t.child,o=e.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=Ds,i):(n=Ms(e,t,i.children,n),t.memoizedState=null,n))}function Ls(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0==(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=Pc(t,i,0,null),n=xc(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function Ms(e,t,n,r){var i=e.child;return e=i.sibling,n=Nc(i,{mode:"visible",children:n}),0==(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function Fs(e,t,n,r,i){var o=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:n};return 0==(2&o)&&t.child!==a?((n=t.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Nc(a,s),null!==e?r=Nc(e,r):(r=xc(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Us(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),Vo(e.return,t)}function js(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function qs(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ws(e,t,r.children,n),0!=(2&(r=wa.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!=(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Us(e,n);else if(19===e.tag)Us(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Gi(wa,r),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===_a(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),js(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===_a(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}js(t,!0,n,null,o,t.lastEffect);break;case"together":js(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Vs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Tu|=t.lanes,0!=(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(W(153));if(null!==t.child){for(n=Nc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Nc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function Bs(e,t){if(!Ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function zs(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Zi(t.type)&&eo(),null;case 3:return ma(),Hi(Yi),Hi($i),Ra(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Aa(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:ba(t);var i=va(pa.current);if(n=t.type,null!==e&&null!=t.stateNode)Ps(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(W(166));return null}if(e=va(fa.current),Aa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Oi]=t,r[Li]=o,n){case"dialog":fi("cancel",r),fi("close",r);break;case"iframe":case"object":case"embed":fi("load",r);break;case"video":case"audio":for(e=0;e<ui.length;e++)fi(ui[e],r);break;case"source":fi("error",r);break;case"img":case"image":case"link":fi("error",r),fi("load",r);break;case"details":fi("toggle",r);break;case"input":je(r,o),fi("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},fi("invalid",r);break;case"textarea":Ge(r,o),fi("invalid",r)}for(var a in ct(n,o),e=null,o)o.hasOwnProperty(a)&&(i=o[a],"children"===a?"string"==typeof i?r.textContent!==i&&(e=["children",i]):"number"==typeof i&&r.textContent!==""+i&&(e=["children",""+i]):G.hasOwnProperty(a)&&null!=i&&"onScroll"===a&&fi("scroll",r));switch(n){case"input":Le(r),Be(r,o,!0);break;case"textarea":Le(r),$e(r);break;case"select":case"option":break;default:"function"==typeof o.onClick&&(r.onclick=Ei)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(a=9===i.nodeType?i:i.ownerDocument,e===Ye&&(e=Je(n)),e===Ye?"script"===n?((e=a.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),"select"===n&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Oi]=t,e[Li]=r,xs(e,t),t.stateNode=e,a=lt(n,r),n){case"dialog":fi("cancel",e),fi("close",e),i=r;break;case"iframe":case"object":case"embed":fi("load",e),i=r;break;case"video":case"audio":for(i=0;i<ui.length;i++)fi(ui[i],e);i=r;break;case"source":fi("error",e),i=r;break;case"img":case"image":case"link":fi("error",e),fi("load",e),i=r;break;case"details":fi("toggle",e),i=r;break;case"input":je(e,r),i=Ue(e,r),fi("invalid",e);break;case"option":i=Ke(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=z({},r,{value:void 0}),fi("invalid",e);break;case"textarea":Ge(e,r),i=He(e,r),fi("invalid",e);break;default:i=r}ct(n,i);var s=i;for(o in s)if(s.hasOwnProperty(o)){var u=s[o];"style"===o?st(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&nt(e,u):"children"===o?"string"==typeof u?("textarea"!==n||""!==u)&&rt(e,u):"number"==typeof u&&rt(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(G.hasOwnProperty(o)?null!=u&&"onScroll"===o&&fi("scroll",e):null!=u&&oe(e,o,u,a))}switch(n){case"input":Le(e),Be(e,r,!1);break;case"textarea":Le(e),$e(e);break;case"option":null!=r.value&&e.setAttribute("value",""+De(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?We(e,!!r.multiple,o,!1):null!=r.defaultValue&&We(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof i.onClick&&(e.onclick=Ei)}ki(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Rs(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(W(166));n=va(pa.current),va(fa.current),Aa(t)?(r=t.stateNode,n=t.memoizedProps,r[Oi]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Oi]=t,t.stateNode=r)}return null;case 13:return Hi(wa),r=t.memoizedState,0!=(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Aa(t):n=null!==e.memoizedState,r&&!n&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&wa.current)?0===wu&&(wu=3):(0!==wu&&3!==wu||(wu=4),null===vu||0==(134217727&Tu)&&0==(134217727&Iu)||ec(vu,mu))),(r||n)&&(t.flags|=4),null);case 4:return ma(),null===e&&pi(t.stateNode.containerInfo),null;case 10:return qo(t),null;case 17:return Zi(t.type)&&eo(),null;case 19:if(Hi(wa),null===(r=t.memoizedState))return null;if(o=0!=(64&t.flags),null===(a=r.rendering))if(o)Bs(r,!1);else{if(0!==wu||null!==e&&0!=(64&e.flags))for(e=t.child;null!==e;){if(null!==(a=_a(e))){for(t.flags|=64,Bs(r,!1),null!==(o=a.updateQueue)&&(t.updateQueue=o,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,null===(a=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Gi(wa,1&wa.current|2),t.child}e=e.sibling}null!==r.tail&&So()>Nu&&(t.flags|=64,o=!0,Bs(r,!1),t.lanes=33554432)}else{if(!o)if(null!==(e=_a(a))){if(t.flags|=64,o=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Bs(r,!0),null===r.tail&&"hidden"===r.tailMode&&!a.alternate&&!Ia)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*So()-r.renderingStartTime>Nu&&1073741824!==n&&(t.flags|=64,o=!0,Bs(r,!1),t.lanes=33554432);r.isBackwards?(a.sibling=t.child,t.child=a):(null!==(n=r.last)?n.sibling=a:t.child=a,r.last=a)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=So(),n.sibling=null,t=wa.current,Gi(wa,o?1&t|2:1&t),n):null;case 23:case 24:return oc(),null!==e&&null!==e.memoizedState!=(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(W(156,t.tag))}function Ks(e){switch(e.tag){case 1:Zi(e.type)&&eo();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(ma(),Hi(Yi),Hi($i),Ra(),0!=(64&(t=e.flags)))throw Error(W(285));return e.flags=-4097&t|64,e;case 5:return ba(e),null;case 13:return Hi(wa),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return Hi(wa),null;case 4:return ma(),null;case 10:return qo(e),null;case 23:case 24:return oc(),null;default:return null}}function Ws(e,t){try{var n="",r=t;do{n+=Pe(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i}}function Hs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}xs=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ps=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,va(fa.current);var o,a=null;switch(n){case"input":i=Ue(e,i),r=Ue(e,r),a=[];break;case"option":i=Ke(e,i),r=Ke(e,r),a=[];break;case"select":i=z({},i,{value:void 0}),r=z({},r,{value:void 0}),a=[];break;case"textarea":i=He(e,i),r=He(e,r),a=[];break;default:"function"!=typeof i.onClick&&"function"==typeof r.onClick&&(e.onclick=Ei)}for(c in ct(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var s=i[c];for(o in s)s.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(G.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var u=r[c];if(s=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&u!==s&&(null!=u||null!=s))if("style"===c)if(s){for(o in s)!s.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&s[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(a||(a=[]),a.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,s=s?s.__html:void 0,null!=u&&s!==u&&(a=a||[]).push(c,u)):"children"===c?"string"!=typeof u&&"number"!=typeof u||(a=a||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(G.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&fi("scroll",e),a||s===u||(a=[])):"object"==typeof u&&null!==u&&u.$$typeof===we?u.toString():(a=a||[]).push(c,u))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}},Rs=function(e,t,n,r){n!==r&&(t.flags|=4)};var Gs="function"==typeof WeakMap?WeakMap:Map;function Qs(e,t,n){(n=Go(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ru||(Ru=!0,Du=r),Hs(0,t)},n}function $s(e,t,n){(n=Go(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return Hs(0,t),r(i)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Ou?Ou=new Set([this]):Ou.add(this),Hs(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var Ys="function"==typeof WeakSet?WeakSet:Set;function Xs(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(n){Ec(e,n)}else t.current=null}function Js(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Oo(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Ai(t.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(W(163))}function Zs(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3==(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!=(4&(i=i.tag))&&0!=(1&i)&&(bc(n,e),yc(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Oo(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&Xo(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}Xo(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&ki(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&un(n)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(W(163))}function eu(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"==typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=null!=i&&i.hasOwnProperty("display")?i.display:null,r.style.display=at("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function tu(e,t){if(ao&&"function"==typeof ao.onCommitFiberUnmount)try{ao.onCommitFiberUnmount(oo,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!=(4&r))bc(t,n);else{r=t;try{i()}catch(o){Ec(r,o)}}n=n.next}while(n!==e)}break;case 1:if(Xs(t),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){Ec(t,o)}break;case 5:Xs(t);break;case 4:su(e,t)}}function nu(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ru(e){return 5===e.tag||3===e.tag||4===e.tag}function iu(e){e:{for(var t=e.return;null!==t;){if(ru(t))break e;t=t.return}throw Error(W(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(W(161))}16&n.flags&&(rt(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ru(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?ou(e,n,t):au(e,n,t)}function ou(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Ei));else if(4!==r&&null!==(e=e.child))for(ou(e,t,n),e=e.sibling;null!==e;)ou(e,t,n),e=e.sibling}function au(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(au(e,t,n),e=e.sibling;null!==e;)au(e,t,n),e=e.sibling}function su(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(W(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var a=e,s=i,u=s;;)if(tu(a,u),null!==u.child&&4!==u.tag)u.child.return=u,u=u.child;else{if(u===s)break e;for(;null===u.sibling;){if(null===u.return||u.return===s)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}r?(a=n,s=i.stateNode,8===a.nodeType?a.parentNode.removeChild(s):a.removeChild(s)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(tu(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function uu(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3==(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Li]=r,"input"===e&&"radio"===r.type&&null!=r.name&&qe(n,r),lt(e,i),t=lt(e,r),i=0;i<o.length;i+=2){var a=o[i],s=o[i+1];"style"===a?st(n,s):"dangerouslySetInnerHTML"===a?nt(n,s):"children"===a?rt(n,s):oe(n,a,s,t)}switch(e){case"input":Ve(n,r);break;case"textarea":Qe(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?We(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?We(n,!!r.multiple,r.defaultValue,!0):We(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(W(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,un(n.containerInfo)));case 12:return;case 13:return null!==t.memoizedState&&(Cu=So(),eu(t.child,!0)),void cu(t);case 19:return void cu(t);case 17:return;case 23:case 24:return void eu(t,null!==t.memoizedState)}throw Error(W(163))}function cu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ys),t.forEach((function(t){var r=Ic.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function lu(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var hu=Math.ceil,fu=ae.ReactCurrentDispatcher,du=ae.ReactCurrentOwner,pu=0,vu=null,gu=null,mu=0,yu=0,bu=Wi(0),wu=0,_u=null,Eu=0,Tu=0,Iu=0,ku=0,Su=null,Cu=0,Nu=1/0;function Au(){Nu=So()+500}var xu,Pu=null,Ru=!1,Du=null,Ou=null,Lu=!1,Mu=null,Fu=90,Uu=[],ju=[],qu=null,Vu=0,Bu=null,zu=-1,Ku=0,Wu=0,Hu=null,Gu=!1;function Qu(){return 0!=(48&pu)?So():-1!==zu?zu:zu=So()}function $u(e){if(0==(2&(e=e.mode)))return 1;if(0==(4&e))return 99===Co()?1:2;if(0===Ku&&(Ku=Eu),0!==Do.transition){0!==Wu&&(Wu=null!==Su?Su.pendingLanes:0),e=Ku;var t=4186112&~Wu;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Co(),0!=(4&pu)&&98===e?e=Sn(12,Ku):e=Sn(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),Ku),e}function Yu(e,t,n){if(50<Vu)throw Vu=0,Bu=null,Error(W(185));if(null===(e=Xu(e,t)))return null;An(e,t,n),e===vu&&(Iu|=t,4===wu&&ec(e,mu));var r=Co();1===t?0!=(8&pu)&&0==(48&pu)?tc(e):(Ju(e,n),0===pu&&(Au(),Po())):(0==(4&pu)||98!==r&&99!==r||(null===qu?qu=new Set([e]):qu.add(e)),Ju(e,n)),Su=e}function Xu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function Ju(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-xn(a),u=1<<s,c=o[s];if(-1===c){if(0==(u&r)||0!=(u&i)){c=t,Tn(u);var l=En;o[s]=10<=l?c+250:6<=l?c+5e3:-1}}else c<=t&&(e.expiredLanes|=u);a&=~u}if(r=In(e,e===vu?mu:0),t=En,0===r)null!==n&&(n!==wo&&co(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==wo&&co(n)}15===t?(n=tc.bind(null,e),null===Eo?(Eo=[n],To=uo(vo,Ro)):Eo.push(n),n=wo):14===t?n=xo(99,tc.bind(null,e)):n=xo(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(W(358,e))}}(t),Zu.bind(null,e)),e.callbackPriority=t,e.callbackNode=n}}function Zu(e){if(zu=-1,Wu=Ku=0,0!=(48&pu))throw Error(W(327));var t=e.callbackNode;if(mc()&&e.callbackNode!==t)return null;var n=In(e,e===vu?mu:0);if(0===n)return null;var r=n,i=pu;pu|=16;var o=uc();for(vu===e&&mu===r||(Au(),ac(e,r));;)try{hc();break}catch(s){sc(e,s)}if(jo(),fu.current=o,pu=i,null!==gu?r=0:(vu=null,mu=0,r=wu),0!=(Eu&Iu))ac(e,0);else if(0!==r){if(2===r&&(pu|=64,e.hydrate&&(e.hydrate=!1,Ai(e.containerInfo)),0!==(n=kn(e))&&(r=cc(e,n))),1===r)throw t=_u,ac(e,0),ec(e,n),Ju(e,So()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(W(345));case 2:pc(e);break;case 3:if(ec(e,n),(62914560&n)===n&&10<(r=Cu+500-So())){if(0!==In(e,0))break;if(((i=e.suspendedLanes)&n)!==n){Qu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Ci(pc.bind(null,e),r);break}pc(e);break;case 4:if(ec(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var a=31-xn(n);o=1<<a,(a=r[a])>i&&(i=a),n&=~o}if(n=i,10<(n=(120>(n=So()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*hu(n/1960))-n)){e.timeoutHandle=Ci(pc.bind(null,e),n);break}pc(e);break;case 5:pc(e);break;default:throw Error(W(329))}}return Ju(e,So()),e.callbackNode===t?Zu.bind(null,e):null}function ec(e,t){for(t&=~ku,t&=~Iu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-xn(t),r=1<<n;e[n]=-1,t&=~r}}function tc(e){if(0!=(48&pu))throw Error(W(327));if(mc(),e===vu&&0!=(e.expiredLanes&mu)){var t=mu,n=cc(e,t);0!=(Eu&Iu)&&(n=cc(e,t=In(e,t)))}else n=cc(e,t=In(e,0));if(0!==e.tag&&2===n&&(pu|=64,e.hydrate&&(e.hydrate=!1,Ai(e.containerInfo)),0!==(t=kn(e))&&(n=cc(e,t))),1===n)throw n=_u,ac(e,0),ec(e,t),Ju(e,So()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,pc(e),Ju(e,So()),null}function nc(e,t){var n=pu;pu|=1;try{return e(t)}finally{0===(pu=n)&&(Au(),Po())}}function rc(e,t){var n=pu;pu&=-2,pu|=8;try{return e(t)}finally{0===(pu=n)&&(Au(),Po())}}function ic(e,t){Gi(bu,yu),yu|=t,Eu|=t}function oc(){yu=bu.current,Hi(bu)}function ac(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Ni(n)),null!==gu)for(n=gu.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&eo();break;case 3:ma(),Hi(Yi),Hi($i),Ra();break;case 5:ba(r);break;case 4:ma();break;case 13:case 19:Hi(wa);break;case 10:qo(r);break;case 23:case 24:oc()}n=n.return}vu=e,gu=Nc(e.current,null),mu=yu=Eu=t,wu=0,_u=null,ku=Iu=Tu=0}function sc(e,t){for(;;){var n=gu;try{if(jo(),Da.current=ps,ja){for(var r=Ma.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ja=!1}if(La=0,Ua=Fa=Ma=null,qa=!1,du.current=null,null===n||null===n.return){wu=1,_u=t,gu=null;break}e:{var o=e,a=n.return,s=n,u=t;if(t=mu,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"==typeof u&&"function"==typeof u.then){var c=u;if(0==(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var h=0!=(1&wa.current),f=a;do{var d;if(d=13===f.tag){var p=f.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=f.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!h)}}if(d){var g=f.updateQueue;if(null===g){var m=new Set;m.add(c),f.updateQueue=m}else g.add(c);if(0==(2&f.mode)){if(f.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=Go(-1,1);y.tag=2,Qo(s,y)}s.lanes|=1;break e}u=void 0,s=t;var b=o.pingCache;if(null===b?(b=o.pingCache=new Gs,u=new Set,b.set(c,u)):void 0===(u=b.get(c))&&(u=new Set,b.set(c,u)),!u.has(s)){u.add(s);var w=Tc.bind(null,o,c,s);c.then(w,w)}f.flags|=4096,f.lanes=t;break e}f=f.return}while(null!==f);u=Error((Re(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==wu&&(wu=2),u=Ws(u,s),f=a;do{switch(f.tag){case 3:o=u,f.flags|=4096,t&=-t,f.lanes|=t,$o(f,Qs(0,o,t));break e;case 1:o=u;var _=f.type,E=f.stateNode;if(0==(64&f.flags)&&("function"==typeof _.getDerivedStateFromError||null!==E&&"function"==typeof E.componentDidCatch&&(null===Ou||!Ou.has(E)))){f.flags|=4096,t&=-t,f.lanes|=t,$o(f,$s(f,o,t));break e}}f=f.return}while(null!==f)}dc(n)}catch(T){t=T,gu===n&&null!==n&&(gu=n=n.return);continue}break}}function uc(){var e=fu.current;return fu.current=ps,null===e?ps:e}function cc(e,t){var n=pu;pu|=16;var r=uc();for(vu===e&&mu===t||ac(e,t);;)try{lc();break}catch(aO){sc(e,aO)}if(jo(),pu=n,fu.current=r,null!==gu)throw Error(W(261));return vu=null,mu=0,wu}function lc(){for(;null!==gu;)fc(gu)}function hc(){for(;null!==gu&&!lo();)fc(gu)}function fc(e){var t=xu(e.alternate,e,yu);e.memoizedProps=e.pendingProps,null===t?dc(e):gu=t,du.current=null}function dc(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(2048&t.flags)){if(null!==(n=zs(n,t,yu)))return void(gu=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!=(1073741824&yu)||0==(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0==(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=Ks(t)))return n.flags&=2047,void(gu=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(gu=t);gu=t=e}while(null!==t);0===wu&&(wu=5)}function pc(e){var t=Co();return Ao(99,vc.bind(null,e,t)),null}function vc(e,t){do{mc()}while(null!==Mu);if(0!=(48&pu))throw Error(W(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(W(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var a=e.eventTimes,s=e.expirationTimes;0<o;){var u=31-xn(o),c=1<<u;i[u]=0,a[u]=-1,s[u]=-1,o&=~c}if(null!==qu&&0==(24&r)&&qu.has(e)&&qu.delete(e),e===vu&&(gu=vu=null,mu=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=pu,pu|=32,du.current=null,Ti=Ln,Zr(a=Jr())){if("selectionStart"in a)s={start:a.selectionStart,end:a.selectionEnd};else e:if(s=(s=a.ownerDocument)&&s.defaultView||window,(c=s.getSelection&&s.getSelection())&&0!==c.rangeCount){s=c.anchorNode,o=c.anchorOffset,u=c.focusNode,c=c.focusOffset;try{s.nodeType,u.nodeType}catch(k){s=null;break e}var l=0,h=-1,f=-1,d=0,p=0,v=a,g=null;t:for(;;){for(var m;v!==s||0!==o&&3!==v.nodeType||(h=l+o),v!==u||0!==c&&3!==v.nodeType||(f=l+c),3===v.nodeType&&(l+=v.nodeValue.length),null!==(m=v.firstChild);)g=v,v=m;for(;;){if(v===a)break t;if(g===s&&++d===o&&(h=l),g===u&&++p===c&&(f=l),null!==(m=v.nextSibling))break;g=(v=g).parentNode}v=m}s=-1===h||-1===f?null:{start:h,end:f}}else s=null;s=s||{start:0,end:0}}else s=null;Ii={focusedElem:a,selectionRange:s},Ln=!1,Hu=null,Gu=!1,Pu=r;do{try{gc()}catch(k){if(null===Pu)throw Error(W(330));Ec(Pu,k),Pu=Pu.nextEffect}}while(null!==Pu);Hu=null,Pu=r;do{try{for(a=e;null!==Pu;){var y=Pu.flags;if(16&y&&rt(Pu.stateNode,""),128&y){var b=Pu.alternate;if(null!==b){var w=b.ref;null!==w&&("function"==typeof w?w(null):w.current=null)}}switch(1038&y){case 2:iu(Pu),Pu.flags&=-3;break;case 6:iu(Pu),Pu.flags&=-3,uu(Pu.alternate,Pu);break;case 1024:Pu.flags&=-1025;break;case 1028:Pu.flags&=-1025,uu(Pu.alternate,Pu);break;case 4:uu(Pu.alternate,Pu);break;case 8:su(a,s=Pu);var _=s.alternate;nu(s),null!==_&&nu(_)}Pu=Pu.nextEffect}}catch(k){if(null===Pu)throw Error(W(330));Ec(Pu,k),Pu=Pu.nextEffect}}while(null!==Pu);if(w=Ii,b=Jr(),y=w.focusedElem,a=w.selectionRange,b!==y&&y&&y.ownerDocument&&Xr(y.ownerDocument.documentElement,y)){null!==a&&Zr(y)&&(b=a.start,void 0===(w=a.end)&&(w=b),"selectionStart"in y?(y.selectionStart=b,y.selectionEnd=Math.min(w,y.value.length)):(w=(b=y.ownerDocument||document)&&b.defaultView||window).getSelection&&(w=w.getSelection(),s=y.textContent.length,_=Math.min(a.start,s),a=void 0===a.end?_:Math.min(a.end,s),!w.extend&&_>a&&(s=a,a=_,_=s),s=Yr(y,_),o=Yr(y,a),s&&o&&(1!==w.rangeCount||w.anchorNode!==s.node||w.anchorOffset!==s.offset||w.focusNode!==o.node||w.focusOffset!==o.offset)&&((b=b.createRange()).setStart(s.node,s.offset),w.removeAllRanges(),_>a?(w.addRange(b),w.extend(o.node,o.offset)):(b.setEnd(o.node,o.offset),w.addRange(b))))),b=[];for(w=y;w=w.parentNode;)1===w.nodeType&&b.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"==typeof y.focus&&y.focus(),y=0;y<b.length;y++)(w=b[y]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Ln=!!Ti,Ii=Ti=null,e.current=n,Pu=r;do{try{for(y=e;null!==Pu;){var E=Pu.flags;if(36&E&&Zs(y,Pu.alternate,Pu),128&E){b=void 0;var T=Pu.ref;if(null!==T){var I=Pu.stateNode;switch(Pu.tag){case 5:b=I;break;default:b=I}"function"==typeof T?T(b):T.current=b}}Pu=Pu.nextEffect}}catch(k){if(null===Pu)throw Error(W(330));Ec(Pu,k),Pu=Pu.nextEffect}}while(null!==Pu);Pu=null,_o(),pu=i}else e.current=n;if(Lu)Lu=!1,Mu=e,Fu=t;else for(Pu=r;null!==Pu;)t=Pu.nextEffect,Pu.nextEffect=null,8&Pu.flags&&((E=Pu).sibling=null,E.stateNode=null),Pu=t;if(0===(r=e.pendingLanes)&&(Ou=null),1===r?e===Bu?Vu++:(Vu=0,Bu=e):Vu=0,n=n.stateNode,ao&&"function"==typeof ao.onCommitFiberRoot)try{ao.onCommitFiberRoot(oo,n,void 0,64==(64&n.current.flags))}catch(k){}if(Ju(e,So()),Ru)throw Ru=!1,e=Du,Du=null,e;return 0!=(8&pu)||Po(),null}function gc(){for(;null!==Pu;){var e=Pu.alternate;Gu||null===Hu||(0!=(8&Pu.flags)?jt(Pu,Hu)&&(Gu=!0):13===Pu.tag&&lu(e,Pu)&&jt(Pu,Hu)&&(Gu=!0));var t=Pu.flags;0!=(256&t)&&Js(e,Pu),0==(512&t)||Lu||(Lu=!0,xo(97,(function(){return mc(),null}))),Pu=Pu.nextEffect}}function mc(){if(90!==Fu){var e=97<Fu?97:Fu;return Fu=90,Ao(e,wc)}return!1}function yc(e,t){Uu.push(t,e),Lu||(Lu=!0,xo(97,(function(){return mc(),null})))}function bc(e,t){ju.push(t,e),Lu||(Lu=!0,xo(97,(function(){return mc(),null})))}function wc(){if(null===Mu)return!1;var e=Mu;if(Mu=null,0!=(48&pu))throw Error(W(331));var t=pu;pu|=32;var n=ju;ju=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],a=i.destroy;if(i.destroy=void 0,"function"==typeof a)try{a()}catch(u){if(null===o)throw Error(W(330));Ec(o,u)}}for(n=Uu,Uu=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var s=i.create;i.destroy=s()}catch(u){if(null===o)throw Error(W(330));Ec(o,u)}}for(s=e.current.firstEffect;null!==s;)e=s.nextEffect,s.nextEffect=null,8&s.flags&&(s.sibling=null,s.stateNode=null),s=e;return pu=t,Po(),!0}function _c(e,t,n){Qo(e,t=Qs(0,t=Ws(n,t),1)),t=Qu(),null!==(e=Xu(e,1))&&(An(e,1,t),Ju(e,t))}function Ec(e,t){if(3===e.tag)_c(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){_c(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Ou||!Ou.has(r))){var i=$s(n,e=Ws(t,e),1);if(Qo(n,i),i=Qu(),null!==(n=Xu(n,1)))An(n,1,i),Ju(n,i);else if("function"==typeof r.componentDidCatch&&(null===Ou||!Ou.has(r)))try{r.componentDidCatch(t,e)}catch(o){}break}}n=n.return}}function Tc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Qu(),e.pingedLanes|=e.suspendedLanes&n,vu===e&&(mu&n)===n&&(4===wu||3===wu&&(62914560&mu)===mu&&500>So()-Cu?ac(e,0):ku|=n),Ju(e,t)}function Ic(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0==(2&(t=e.mode))?t=1:0==(4&t)?t=99===Co()?1:2:(0===Ku&&(Ku=Eu),0===(t=Cn(62914560&~Ku))&&(t=4194304))),n=Qu(),null!==(e=Xu(e,t))&&(An(e,t,n),Ju(e,n))}function kc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Sc(e,t,n,r){return new kc(e,t,n,r)}function Cc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Nc(e,t){var n=e.alternate;return null===n?((n=Sc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ac(e,t,n,r,i,o){var a=2;if(r=e,"function"==typeof e)Cc(e)&&(a=1);else if("string"==typeof e)a=5;else e:switch(e){case ce:return xc(n.children,i,o,t);case _e:a=8,i|=16;break;case le:a=8,i|=1;break;case he:return(e=Sc(12,n,t,8|i)).elementType=he,e.type=he,e.lanes=o,e;case ve:return(e=Sc(13,n,t,i)).type=ve,e.elementType=ve,e.lanes=o,e;case ge:return(e=Sc(19,n,t,i)).elementType=ge,e.lanes=o,e;case Ee:return Pc(n,i,o,t);case Te:return(e=Sc(24,n,t,i)).elementType=Te,e.lanes=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case fe:a=10;break e;case de:a=9;break e;case pe:a=11;break e;case me:a=14;break e;case ye:a=16,r=null;break e;case be:a=22;break e}throw Error(W(130,null==e?e:typeof e,""))}return(t=Sc(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function xc(e,t,n,r){return(e=Sc(7,e,r,t)).lanes=n,e}function Pc(e,t,n,r){return(e=Sc(23,e,r,t)).elementType=Ee,e.lanes=n,e}function Rc(e,t,n){return(e=Sc(6,e,null,t)).lanes=n,e}function Dc(e,t,n){return(t=Sc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Oc(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Nn(0),this.expirationTimes=Nn(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nn(0),this.mutableSourceEagerHydrationData=null}function Lc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:ue,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Mc(e,t,n,r){var i=t.current,o=Qu(),a=$u(i);e:if(n){t:{if(Lt(n=n._reactInternals)!==n||1!==n.tag)throw Error(W(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(Zi(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);throw Error(W(171))}if(1===n.tag){var u=n.type;if(Zi(u)){n=no(n,u,s);break e}}n=s}else n=Qi;return null===t.context?t.context=n:t.pendingContext=n,(t=Go(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),Qo(i,t),Yu(i,a,o),a}function Fc(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Uc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function jc(e,t){Uc(e,t),(e=e.alternate)&&Uc(e,t)}function qc(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Oc(e,t,null!=n&&!0===n.hydrate),t=Sc(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,Wo(t),e[Mi]=n.current,pi(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function Vc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Bc(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"==typeof i){var s=i;i=function(){var e=Fc(a);s.call(e)}}Mc(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new qc(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"==typeof i){var u=i;i=function(){var e=Fc(a);u.call(e)}}rc((function(){Mc(t,a,e,i)}))}return Fc(a)}function zc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Vc(t))throw Error(W(200));return Lc(e,t,null,n)}xu=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||Yi.current)bs=!0;else{if(0==(n&r)){switch(bs=!1,t.tag){case 3:As(t),xa();break;case 5:ya(t);break;case 1:Zi(t.type)&&ro(t);break;case 4:ga(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;Gi(Lo,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!=(n&t.child.childLanes)?Os(e,t,n):(Gi(wa,1&wa.current),null!==(t=Vs(e,t,n))?t.sibling:null);Gi(wa,1&wa.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(64&e.flags)){if(r)return qs(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Gi(wa,wa.current),r)break;return null;case 23:case 24:return t.lanes=0,Is(e,t,n)}return Vs(e,t,n)}bs=0!=(16384&e.flags)}else bs=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=Ji(t,$i.current),Bo(t,n),i=za(null,t,r,e,i,n),t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,Zi(r)){var o=!0;ro(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Wo(t);var a=r.getDerivedStateFromProps;"function"==typeof a&&Zo(t,r,a,e),i.updater=ea,t.stateNode=i,i._reactInternals=t,ia(t,r,e,n),t=Ns(null,t,r,!0,o,n)}else t.tag=0,ws(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"==typeof e)return Cc(e)?1:0;if(null!=e){if((e=e.$$typeof)===pe)return 11;if(e===me)return 14}return 2}(i),e=Oo(i,e),o){case 0:t=Ss(null,t,i,e,n);break e;case 1:t=Cs(null,t,i,e,n);break e;case 11:t=_s(null,t,i,e,n);break e;case 14:t=Es(null,t,i,Oo(i.type,e),r,n);break e}throw Error(W(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ss(e,t,r,i=t.elementType===r?i:Oo(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cs(e,t,r,i=t.elementType===r?i:Oo(r,i),n);case 3:if(As(t),r=t.updateQueue,null===e||null===r)throw Error(W(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,Ho(e,t),Yo(t,r,null,n),(r=t.memoizedState.element)===i)xa(),t=Vs(e,t,n);else{if((o=(i=t.stateNode).hydrate)&&(Ta=xi(t.stateNode.containerInfo.firstChild),Ea=t,o=Ia=!0),o){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(o=e[i])._workInProgressVersionPrimary=e[i+1],Pa.push(o);for(n=la(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else ws(e,t,r,n),xa();t=t.child}return t;case 5:return ya(t),null===e&&Ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,Si(r,i)?a=null:null!==o&&Si(r,o)&&(t.flags|=16),ks(e,t),ws(e,t,a,n),t.child;case 6:return null===e&&Ca(t),null;case 13:return Os(e,t,n);case 4:return ga(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ca(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_s(e,t,r,i=t.elementType===r?i:Oo(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value;var s=t.type._context;if(Gi(Lo,s._currentValue),s._currentValue=o,null!==a)if(s=a.value,0===(o=Hr(s,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(s,o):1073741823))){if(a.children===i.children&&!Yi.current){t=Vs(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var u=s.dependencies;if(null!==u){a=s.child;for(var c=u.firstContext;null!==c;){if(c.context===r&&0!=(c.observedBits&o)){1===s.tag&&((c=Go(-1,n&-n)).tag=2,Qo(s,c)),s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),Vo(s.return,n),u.lanes|=n;break}c=c.next}}else a=10===s.tag&&s.type===t.type?null:s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,Bo(t,n),r=r(i=zo(i,o.unstable_observedBits)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return o=Oo(i=t.type,t.pendingProps),Es(e,t,i,o=Oo(i.type,o),r,n);case 15:return Ts(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Oo(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Zi(r)?(e=!0,ro(t)):e=!1,Bo(t,n),na(t,r,i),ia(t,r,i,n),Ns(null,t,r,!0,e,n);case 19:return qs(e,t,n);case 23:case 24:return Is(e,t,n)}throw Error(W(156,t.tag))},qc.prototype.render=function(e){Mc(e,this._internalRoot,null,null)},qc.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Mc(null,e,null,(function(){t[Mi]=null}))},qt=function(e){13===e.tag&&(Yu(e,4,Qu()),jc(e,4))},Vt=function(e){13===e.tag&&(Yu(e,67108864,Qu()),jc(e,67108864))},Bt=function(e){if(13===e.tag){var t=Qu(),n=$u(e);Yu(e,n,t),jc(e,n)}},zt=function(e,t){return t()},ft=function(e,t,n){switch(t){case"input":if(Ve(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Vi(r);if(!i)throw Error(W(90));Me(r),Ve(r,i)}}}break;case"textarea":Qe(e,n);break;case"select":null!=(t=n.value)&&We(e,!!n.multiple,t,!1)}},yt=nc,bt=function(e,t,n,r,i){var o=pu;pu|=4;try{return Ao(98,e.bind(null,t,n,r,i))}finally{0===(pu=o)&&(Au(),Po())}},wt=function(){0==(49&pu)&&(function(){if(null!==qu){var e=qu;qu=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,Ju(e,So())}))}Po()}(),mc())},_t=function(e,t){var n=pu;pu|=2;try{return e(t)}finally{0===(pu=n)&&(Au(),Po())}};var Kc={Events:[ji,qi,Vi,gt,mt,mc,{current:!1}]},Wc={findFiberByHostInstance:Ui,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},Hc={bundleType:Wc.bundleType,version:Wc.version,rendererPackageName:Wc.rendererPackageName,rendererConfig:Wc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ae.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ut(e))?null:e.stateNode},findFiberByHostInstance:Wc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Gc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gc.isDisabled&&Gc.supportsFiber)try{oo=Gc.inject(Hc),ao=Gc}catch(tt){}}j.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Kc,j.createPortal=zc,j.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(W(188));throw Error(W(268,Object.keys(e)))}return e=null===(e=Ut(t))?null:e.stateNode},j.flushSync=function(e,t){var n=pu;if(0!=(48&n))return e(t);pu|=1;try{if(e)return Ao(99,e.bind(null,t))}finally{pu=n,Po()}},j.hydrate=function(e,t,n){if(!Vc(t))throw Error(W(200));return Bc(null,e,t,!0,n)},j.render=function(e,t,n){if(!Vc(t))throw Error(W(200));return Bc(null,e,t,!1,n)},j.unmountComponentAtNode=function(e){if(!Vc(e))throw Error(W(40));return!!e._reactRootContainer&&(rc((function(){Bc(null,null,e,!1,(function(){e._reactRootContainer=null,e[Mi]=null}))})),!0)},j.unstable_batchedUpdates=nc,j.unstable_createPortal=function(e,t){return zc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},j.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Vc(n))throw Error(W(200));if(null==e||void 0===e._reactInternals)throw Error(W(38));return Bc(e,t,n,!1,r)},j.version="17.0.2",function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),U.exports=j;var Qc=U.exports;function $c(e,t){return($c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Yc(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,$c(e,t)}var Xc={exports:{}};function Jc(){}function Zc(){}Zc.resetWarningCache=Jc;Xc.exports=function(){function e(e,t,n,r,i,o){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==o){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Zc,resetWarningCache:Jc};return n.PropTypes=n,n}();var el=Xc.exports;function tl(){return(tl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function nl(e){return"/"===e.charAt(0)}function rl(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}function il(e,t){if(!e)throw new Error("Invariant failed")}function ol(e){return"/"===e.charAt(0)?e:"/"+e}function al(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function sl(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function ul(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function cl(e,t,n,r){var i;"string"==typeof e?(i=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e)).state=t:(void 0===(i=tl({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(aO){throw aO instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):aO}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],i=t&&t.split("/")||[],o=e&&nl(e),a=t&&nl(t),s=o||a;if(e&&nl(e)?i=r:r.length&&(i.pop(),i=i.concat(r)),!i.length)return"/";if(i.length){var u=i[i.length-1];n="."===u||".."===u||""===u}else n=!1;for(var c=0,l=i.length;l>=0;l--){var h=i[l];"."===h?rl(i,l):".."===h?(rl(i,l),c++):c&&(rl(i,l),c--)}if(!s)for(;c--;c)i.unshift("..");!s||""===i[0]||i[0]&&nl(i[0])||i.unshift("");var f=i.join("/");return n&&"/"!==f.substr(-1)&&(f+="/"),f}(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function ll(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var o="function"==typeof e?e(t,n):e;"string"==typeof o?"function"==typeof r?r(o,i):i(!0):i(!1!==o)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var hl=!("undefined"==typeof window||!window.document||!window.document.createElement);function fl(e,t){t(window.confirm(e))}function dl(){try{return window.history.state||{}}catch(aO){return{}}}function pl(e){void 0===e&&(e={}),hl||il(!1);var t,n=window.history,r=(-1===(t=window.navigator.userAgent).indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history,i=!(-1===window.navigator.userAgent.indexOf("Trident")),o=e,a=o.forceRefresh,s=void 0!==a&&a,u=o.getUserConfirmation,c=void 0===u?fl:u,l=o.keyLength,h=void 0===l?6:l,f=e.basename?sl(ol(e.basename)):"";function d(e){var t=e||{},n=t.key,r=t.state,i=window.location,o=i.pathname+i.search+i.hash;return f&&(o=al(o,f)),cl(o,r,n)}function p(){return Math.random().toString(36).substr(2,h)}var v=ll();function g(e){tl(N,e),N.length=n.length,v.notifyListeners(N.location,N.action)}function m(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||w(d(e.state))}function y(){w(d(dl()))}var b=!1;function w(e){if(b)b=!1,g();else{v.confirmTransitionTo(e,"POP",c,(function(t){t?g({action:"POP",location:e}):function(e){var t=N.location,n=E.indexOf(t.key);-1===n&&(n=0);var r=E.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(b=!0,I(i))}(e)}))}}var _=d(dl()),E=[_.key];function T(e){return f+ul(e)}function I(e){n.go(e)}var k=0;function S(e){1===(k+=e)&&1===e?(window.addEventListener("popstate",m),i&&window.addEventListener("hashchange",y)):0===k&&(window.removeEventListener("popstate",m),i&&window.removeEventListener("hashchange",y))}var C=!1;var N={length:n.length,action:"POP",location:_,createHref:T,push:function(e,t){var i="PUSH",o=cl(e,t,p(),N.location);v.confirmTransitionTo(o,i,c,(function(e){if(e){var t=T(o),a=o.key,u=o.state;if(r)if(n.pushState({key:a,state:u},null,t),s)window.location.href=t;else{var c=E.indexOf(N.location.key),l=E.slice(0,c+1);l.push(o.key),E=l,g({action:i,location:o})}else window.location.href=t}}))},replace:function(e,t){var i="REPLACE",o=cl(e,t,p(),N.location);v.confirmTransitionTo(o,i,c,(function(e){if(e){var t=T(o),a=o.key,u=o.state;if(r)if(n.replaceState({key:a,state:u},null,t),s)window.location.replace(t);else{var c=E.indexOf(N.location.key);-1!==c&&(E[c]=o.key),g({action:i,location:o})}else window.location.replace(t)}}))},go:I,goBack:function(){I(-1)},goForward:function(){I(1)},block:function(e){void 0===e&&(e=!1);var t=v.setPrompt(e);return C||(S(1),C=!0),function(){return C&&(C=!1,S(-1)),t()}},listen:function(e){var t=v.appendListener(e);return S(1),function(){S(-1),t()}}};return N}var vl="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{};function gl(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}var ml=F.createContext||function(t,n){var r,i,o,a="__create-react-context-"+((vl[o="__global_unique_id__"]=(vl[o]||0)+1)+"__"),s=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).emitter=gl(t.props.value),t}Yc(t,e);var r=t.prototype;return r.getChildContext=function(){var e;return(e={})[a]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var t,r=this.props.value,i=e.value;((o=r)===(a=i)?0!==o||1/o==1/a:o!=o&&a!=a)?t=0:(t="function"==typeof n?n(r,i):1073741823,0!==(t|=0)&&this.emitter.set(e.value,t))}var o,a},r.render=function(){return this.props.children},t}(e.exports.Component);s.childContextTypes=((r={})[a]=el.object.isRequired,r);var u=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).state={value:t.getValue()},t.onUpdate=function(e,n){0!=((0|t.observedBits)&n)&&t.setState({value:t.getValue()})},t}Yc(n,e);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=null==t?1073741823:t},r.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=null==e?1073741823:e},r.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},r.getValue=function(){return this.context[a]?this.context[a].get():t},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(e.exports.Component);return u.contextTypes=((i={})[a]=el.object,i),{Provider:s,Consumer:u}},yl={exports:{}},bl=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)};yl.exports=Al,yl.exports.parse=_l,yl.exports.compile=function(e,t){return Tl(_l(e,t),t)},yl.exports.tokensToFunction=Tl,yl.exports.tokensToRegExp=Nl;var wl=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function _l(e,t){for(var n,r=[],i=0,o=0,a="",s=t&&t.delimiter||"/";null!=(n=wl.exec(e));){var u=n[0],c=n[1],l=n.index;if(a+=e.slice(o,l),o=l+u.length,c)a+=c[1];else{var h=e[o],f=n[2],d=n[3],p=n[4],v=n[5],g=n[6],m=n[7];a&&(r.push(a),a="");var y=null!=f&&null!=h&&h!==f,b="+"===g||"*"===g,w="?"===g||"*"===g,_=n[2]||s,E=p||v;r.push({name:d||i++,prefix:f||"",delimiter:_,optional:w,repeat:b,partial:y,asterisk:!!m,pattern:E?kl(E):m?".*":"[^"+Il(_)+"]+?"})}}return o<e.length&&(a+=e.substr(o)),a&&r.push(a),r}function El(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function Tl(e,t){for(var n=new Array(e.length),r=0;r<e.length;r++)"object"==typeof e[r]&&(n[r]=new RegExp("^(?:"+e[r].pattern+")$",Cl(t)));return function(t,r){for(var i="",o=t||{},a=(r||{}).pretty?El:encodeURIComponent,s=0;s<e.length;s++){var u=e[s];if("string"!=typeof u){var c,l=o[u.name];if(null==l){if(u.optional){u.partial&&(i+=u.prefix);continue}throw new TypeError('Expected "'+u.name+'" to be defined')}if(bl(l)){if(!u.repeat)throw new TypeError('Expected "'+u.name+'" to not repeat, but received `'+JSON.stringify(l)+"`");if(0===l.length){if(u.optional)continue;throw new TypeError('Expected "'+u.name+'" to not be empty')}for(var h=0;h<l.length;h++){if(c=a(l[h]),!n[s].test(c))throw new TypeError('Expected all "'+u.name+'" to match "'+u.pattern+'", but received `'+JSON.stringify(c)+"`");i+=(0===h?u.prefix:u.delimiter)+c}}else{if(c=u.asterisk?encodeURI(l).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):a(l),!n[s].test(c))throw new TypeError('Expected "'+u.name+'" to match "'+u.pattern+'", but received "'+c+'"');i+=u.prefix+c}}else i+=u}return i}}function Il(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function kl(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function Sl(e,t){return e.keys=t,e}function Cl(e){return e&&e.sensitive?"":"i"}function Nl(e,t,n){bl(t)||(n=t||n,t=[]);for(var r=(n=n||{}).strict,i=!1!==n.end,o="",a=0;a<e.length;a++){var s=e[a];if("string"==typeof s)o+=Il(s);else{var u=Il(s.prefix),c="(?:"+s.pattern+")";t.push(s),s.repeat&&(c+="(?:"+u+c+")*"),o+=c=s.optional?s.partial?u+"("+c+")?":"(?:"+u+"("+c+"))?":u+"("+c+")"}}var l=Il(n.delimiter||"/"),h=o.slice(-l.length)===l;return r||(o=(h?o.slice(0,-l.length):o)+"(?:"+l+"(?=$))?"),o+=i?"$":r&&h?"":"(?="+l+"|$)",Sl(new RegExp("^"+o,Cl(n)),t)}function Al(e,t,n){return bl(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return Sl(e,t)}(e,t):bl(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(Al(e[i],t,n).source);return Sl(new RegExp("(?:"+r.join("|")+")",Cl(n)),t)}(e,t,n):function(e,t,n){return Nl(_l(e,n),t,n)}(e,t,n)}var xl=yl.exports,Pl={exports:{}},Rl={},Dl="function"==typeof Symbol&&Symbol.for,Ol=Dl?Symbol.for("react.element"):60103,Ll=Dl?Symbol.for("react.portal"):60106,Ml=Dl?Symbol.for("react.fragment"):60107,Fl=Dl?Symbol.for("react.strict_mode"):60108,Ul=Dl?Symbol.for("react.profiler"):60114,jl=Dl?Symbol.for("react.provider"):60109,ql=Dl?Symbol.for("react.context"):60110,Vl=Dl?Symbol.for("react.async_mode"):60111,Bl=Dl?Symbol.for("react.concurrent_mode"):60111,zl=Dl?Symbol.for("react.forward_ref"):60112,Kl=Dl?Symbol.for("react.suspense"):60113,Wl=Dl?Symbol.for("react.suspense_list"):60120,Hl=Dl?Symbol.for("react.memo"):60115,Gl=Dl?Symbol.for("react.lazy"):60116,Ql=Dl?Symbol.for("react.block"):60121,$l=Dl?Symbol.for("react.fundamental"):60117,Yl=Dl?Symbol.for("react.responder"):60118,Xl=Dl?Symbol.for("react.scope"):60119;function Jl(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case Ol:switch(e=e.type){case Vl:case Bl:case Ml:case Ul:case Fl:case Kl:return e;default:switch(e=e&&e.$$typeof){case ql:case zl:case Gl:case Hl:case jl:return e;default:return t}}case Ll:return t}}}function Zl(e){return Jl(e)===Bl}function eh(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}Rl.AsyncMode=Vl,Rl.ConcurrentMode=Bl,Rl.ContextConsumer=ql,Rl.ContextProvider=jl,Rl.Element=Ol,Rl.ForwardRef=zl,Rl.Fragment=Ml,Rl.Lazy=Gl,Rl.Memo=Hl,Rl.Portal=Ll,Rl.Profiler=Ul,Rl.StrictMode=Fl,Rl.Suspense=Kl,Rl.isAsyncMode=function(e){return Zl(e)||Jl(e)===Vl},Rl.isConcurrentMode=Zl,Rl.isContextConsumer=function(e){return Jl(e)===ql},Rl.isContextProvider=function(e){return Jl(e)===jl},Rl.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===Ol},Rl.isForwardRef=function(e){return Jl(e)===zl},Rl.isFragment=function(e){return Jl(e)===Ml},Rl.isLazy=function(e){return Jl(e)===Gl},Rl.isMemo=function(e){return Jl(e)===Hl},Rl.isPortal=function(e){return Jl(e)===Ll},Rl.isProfiler=function(e){return Jl(e)===Ul},Rl.isStrictMode=function(e){return Jl(e)===Fl},Rl.isSuspense=function(e){return Jl(e)===Kl},Rl.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===Ml||e===Bl||e===Ul||e===Fl||e===Kl||e===Wl||"object"==typeof e&&null!==e&&(e.$$typeof===Gl||e.$$typeof===Hl||e.$$typeof===jl||e.$$typeof===ql||e.$$typeof===zl||e.$$typeof===$l||e.$$typeof===Yl||e.$$typeof===Xl||e.$$typeof===Ql)},Rl.typeOf=Jl,Pl.exports=Rl;var th=Pl.exports,nh={};nh[th.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},nh[th.Memo]={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0};var rh=function(e){var t=ml();return t.displayName=e,t}("Router-History"),ih=function(e){var t=ml();return t.displayName=e,t}("Router"),oh=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}Yc(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&this.unlisten()},n.render=function(){return F.createElement(ih.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},F.createElement(rh.Provider,{children:this.props.children||null,value:this.props.history}))},t}(F.Component);F.Component,F.Component;var ah={},sh=0;function uh(e,t){void 0===t&&(t={}),("string"==typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,o=void 0!==i&&i,a=n.strict,s=void 0!==a&&a,u=n.sensitive,c=void 0!==u&&u;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=ah[n]||(ah[n]={});if(r[e])return r[e];var i=[],o={regexp:xl(e,i,t),keys:i};return sh<1e4&&(r[e]=o,sh++),o}(n,{end:o,strict:s,sensitive:c}),i=r.regexp,a=r.keys,u=i.exec(e);if(!u)return null;var l=u[0],h=u.slice(1),f=e===l;return o&&!f?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:f,params:a.reduce((function(e,t,n){return e[t.name]=h[n],e}),{})}}),null)}var ch=function(e){function t(){return e.apply(this,arguments)||this}return Yc(t,e),t.prototype.render=function(){var e=this;return F.createElement(ih.Consumer,null,(function(t){t||il(!1);var n=e.props.location||t.location,r=tl({},t,{location:n,match:e.props.computedMatch?e.props.computedMatch:e.props.path?uh(n.pathname,e.props):t.match}),i=e.props,o=i.children,a=i.component,s=i.render;return Array.isArray(o)&&0===o.length&&(o=null),F.createElement(ih.Provider,{value:r},r.match?o?"function"==typeof o?o(r):o:a?F.createElement(a,r):s?s(r):null:"function"==typeof o?o(r):null)}))},t}(F.Component);F.Component;var lh=function(e){function t(){return e.apply(this,arguments)||this}return Yc(t,e),t.prototype.render=function(){var e=this;return F.createElement(ih.Consumer,null,(function(t){t||il(!1);var n,r,i=e.props.location||t.location;return F.Children.forEach(e.props.children,(function(e){if(null==r&&F.isValidElement(e)){n=e;var o=e.props.path||e.props.from;r=o?uh(i.pathname,tl({},e.props,{path:o})):t.match}})),r?F.cloneElement(n,{location:i,computedMatch:r}):null}))},t}(F.Component),hh=F.useContext;function fh(){var e=hh(ih).match;return e?e.params:{}}var dh=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=pl(t.props),t}return Yc(t,e),t.prototype.render=function(){return F.createElement(oh,{history:this.history,children:this.props.children})},t}(F.Component);F.Component;var ph=function(e,t){return"function"==typeof e?e(t):e},vh=function(e,t){return"string"==typeof e?cl(e,null,null,t):e},gh=function(e){return e},mh=F.forwardRef;void 0===mh&&(mh=gh);var yh=mh((function(e,t){var n=e.innerRef,r=e.navigate,i=e.onClick,o=eh(e,["innerRef","navigate","onClick"]),a=o.target,s=tl({},o,{onClick:function(e){try{i&&i(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||a&&"_self"!==a||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),r())}});return s.ref=gh!==mh&&t||n,F.createElement("a",s)})),bh=mh((function(e,t){var n=e.component,r=void 0===n?yh:n,i=e.replace,o=e.to,a=e.innerRef,s=eh(e,["component","replace","to","innerRef"]);return F.createElement(ih.Consumer,null,(function(e){e||il(!1);var n=e.history,u=vh(ph(o,e.location),e.location),c=u?n.createHref(u):"",l=tl({},s,{href:c,navigate:function(){var t=ph(o,e.location);(i?n.replace:n.push)(t)}});return gh!==mh?l.ref=t||a:l.innerRef=a,F.createElement(r,l)}))})),wh=function(e){return e},_h=F.forwardRef;void 0===_h&&(_h=wh),_h((function(e,t){var n=e["aria-current"],r=void 0===n?"page":n,i=e.activeClassName,o=void 0===i?"active":i,a=e.activeStyle,s=e.className,u=e.exact,c=e.isActive,l=e.location,h=e.sensitive,f=e.strict,d=e.style,p=e.to,v=e.innerRef,g=eh(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return F.createElement(ih.Consumer,null,(function(e){e||il(!1);var n=l||e.location,i=vh(ph(p,n),n),m=i.pathname,y=m&&m.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),b=y?uh(n.pathname,{path:y,exact:u,sensitive:h,strict:f}):null,w=!!(c?c(b,n):b),_=w?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(s,o):s,E=w?tl({},d,{},a):d,T=tl({"aria-current":w&&r||null,className:_,style:E,to:i},g);return wh!==_h?T.ref=t||v:T.innerRef=v,F.createElement(bh,T)}))}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var Eh=function(e,t){return(Eh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function Th(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Eh(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Ih=function(){return(Ih=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function kh(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(aO){o(aO)}}function s(e){try{u(r.throw(e))}catch(aO){o(aO)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function Sh(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(aO){o=[6,aO],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function Ch(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Nh(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function Ah(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xh=!1,Ph="${JSCORE_VERSION}",Rh=function(e,t){if(!e)throw Dh(t)},Dh=function(e){return new Error("Firebase Database ("+Ph+") INTERNAL ASSERT FAILED: "+e)},Oh=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Lh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=o>>2,h=(3&o)<<4|s>>4,f=(15&s)<<2|c>>6,d=63&c;u||(d=64,a||(f=64)),r.push(n[l],n[h],n[f],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Oh(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(s=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{o=e[n++];var s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var c=o<<2|a>>4;if(r.push(c),64!==s){var l=a<<4&240|s>>2;if(r.push(l),64!==u){var h=s<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Mh=function(e){try{return Lh.decodeString(e,!0)}catch(aO){console.error("base64Decode failed: ",aO)}return null};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Fh(e){return Uh(void 0,e)}function Uh(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Uh(e[n],t[n]));return e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var jh=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qh(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var o=Ih({iss:"https://securetoken.google.com/"+n,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Lh.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),Lh.encodeString(JSON.stringify(o),!1),""].join(".")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vh(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Bh(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vh())}function zh(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(aO){return!1}}function Kh(){var e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function Wh(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Hh(){return!0===xh}function Gh(){return"indexedDB"in self&&null!=indexedDB}function Qh(){return new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(o){t(o)}}))}function $h(){return!(!navigator||!navigator.cookieEnabled)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Yh=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,Xh.prototype.create),o}return Th(t,e),t}(Error),Xh=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?Jh(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new Yh(i,s,r);return u},e}();function Jh(e,t){return e.replace(Zh,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}var Zh=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ef(e){return JSON.parse(e)}function tf(e){return JSON.stringify(e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nf=function(e){var t={},n={},r={},i="";try{var o=e.split(".");t=ef(Mh(o[0])||""),n=ef(Mh(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(aO){}return{header:t,claims:n,data:r,signature:i}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function rf(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function of(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function af(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function sf(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var uf=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"==typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782);i=(s<<5|s>>>27)+o+h+a+n[r]&4294967295;h=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},e}();function cf(e,t){var n=new lf(e,t);return n.subscribe.bind(n)}var lf=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=hf),void 0===r.error&&(r.error=hf),void 0===r.complete&&(r.complete=hf);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(aO){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(aO){"undefined"!=typeof console&&console.error&&console.error(aO)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function hf(){}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ff=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function df(e,t){return e+" failed: "+t+" argument "}function pf(e,t,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(df(e,t)+"must be a valid function.")}function vf(e,t,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(df(e,t)+"must be a valid context object.")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gf=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function mf(e,t,n){void 0===t&&(t=1e3),void 0===n&&(n=2);var r=t*Math.pow(n,e),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yf(e){return e&&e._delegate?e._delegate:e}var bf=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),wf=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new jh;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(aO){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t,n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(aO){if(r)return null;throw aO}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e))try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch(aO){}try{for(var r=Ch(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=Nh(i.value,2),a=o[0],s=o[1],u=this.normalizeInstanceIdentifier(a);try{var c=this.getOrInitializeService({instanceIdentifier:u});s.resolve(c)}catch(aO){}}}catch(l){t={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e="[DEFAULT]"),this.instancesDeferred.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return kh(this,void 0,void 0,(function(){var e;return Sh(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(Ah(Ah([],Nh(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),Nh(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e="[DEFAULT]"),this.instances.has(e)},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var r=e.options,i=void 0===r?{}:r,o=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(o))throw Error(this.name+"("+o+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:o,options:i});try{for(var s=Ch(this.instancesDeferred.entries()),u=s.next();!u.done;u=s.next()){var c=Nh(u.value,2),l=c[0],h=c[1];o===this.normalizeInstanceIdentifier(l)&&h.resolve(a)}}catch(f){t={error:f}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return a},e.prototype.onInit=function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&e(o,r),function(){i.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,r,i=this.onInitCallbacks.get(t);if(i)try{for(var o=Ch(i),a=o.next();!a.done;a=o.next()){var s=a.value;try{s(e,t)}catch(u){}}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,"[DEFAULT]"===t?void 0:t),options:i}),this.instances.set(n,o),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(a){}return o||null},e.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e="[DEFAULT]"),this.component?this.component.multipleInstances?e:"[DEFAULT]":e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _f,Ef=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new wf(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function Tf(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var If,kf,Sf=[];(kf=If||(If={}))[kf.DEBUG=0]="DEBUG",kf[kf.VERBOSE=1]="VERBOSE",kf[kf.INFO=2]="INFO",kf[kf.WARN=3]="WARN",kf[kf.ERROR=4]="ERROR",kf[kf.SILENT=5]="SILENT";var Cf,Nf={debug:If.DEBUG,verbose:If.VERBOSE,info:If.INFO,warn:If.WARN,error:If.ERROR,silent:If.SILENT},Af=If.INFO,xf=((_f={})[If.DEBUG]="log",_f[If.VERBOSE]="log",_f[If.INFO]="info",_f[If.WARN]="warn",_f[If.ERROR]="error",_f),Pf=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var i=(new Date).toISOString(),o=xf[t];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[o].apply(console,Tf(["["+i+"]  "+e.name+":"],n))}},Rf=function(){function e(e){this.name=e,this._logLevel=Af,this._logHandler=Pf,this._userLogHandler=null,Sf.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in If))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"==typeof e?Nf[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,Tf([this,If.DEBUG],e)),this._logHandler.apply(this,Tf([this,If.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,Tf([this,If.VERBOSE],e)),this._logHandler.apply(this,Tf([this,If.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,Tf([this,If.INFO],e)),this._logHandler.apply(this,Tf([this,If.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,Tf([this,If.WARN],e)),this._logHandler.apply(this,Tf([this,If.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,Tf([this,If.ERROR],e)),this._logHandler.apply(this,Tf([this,If.ERROR],e))},e}();function Df(e){Sf.forEach((function(t){t.setLogLevel(e)}))}var Of,Lf=((Cf={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Cf["bad-app-name"]="Illegal App name: '{$appName}",Cf["duplicate-app"]="Firebase App named '{$appName}' already exists",Cf["app-deleted"]="Firebase App named '{$appName}' already deleted",Cf["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Cf["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Cf),Mf=new Xh("app","Firebase",Lf),Ff=((Of={})["@firebase/app"]="fire-core",Of["@firebase/analytics"]="fire-analytics",Of["@firebase/app-check"]="fire-app-check",Of["@firebase/auth"]="fire-auth",Of["@firebase/database"]="fire-rtdb",Of["@firebase/functions"]="fire-fn",Of["@firebase/installations"]="fire-iid",Of["@firebase/messaging"]="fire-fcm",Of["@firebase/performance"]="fire-perf",Of["@firebase/remote-config"]="fire-rc",Of["@firebase/storage"]="fire-gcs",Of["@firebase/firestore"]="fire-fst",Of["fire-js"]="fire-js",Of["firebase-wrapper"]="fire-js-all",Of),Uf=new Rf("@firebase/app"),jf=function(){function e(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=Fh(e),this.container=new Ef(t.name),this._addComponent(new bf("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(e){return r._addComponent(e)}))}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){var n;void 0===t&&(t="[DEFAULT]"),this.checkDestroyed_();var r=this.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t="[DEFAULT]"),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(aO){Uf.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,aO)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Mf.create("app-deleted",{appName:this.name_})},e}();jf.prototype.name&&jf.prototype.options||jf.prototype.delete||console.log("dc");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function qf(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={});if("object"!=typeof i||null===i){i={name:i}}var o=i;void 0===o.name&&(o.name="[DEFAULT]");var a=o.name;if("string"!=typeof a||!a)throw Mf.create("bad-app-name",{appName:String(a)});if(rf(t,a))throw Mf.create("duplicate-app",{appName:a});var s=new e(n,o,r);return t[a]=s,s},app:i,registerVersion:function(e,t,n){var r,i=null!==(r=Ff[e])&&void 0!==r?r:e;n&&(i+="-"+n);var a=i.match(/\s|\//),s=t.match(/\s|\//);if(a||s){var u=['Unable to register library "'+i+'" with version "'+t+'":'];return a&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&s&&u.push("and"),s&&u.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void Uf.warn(u.join(" "))}o(new bf(i+"-version",(function(){return{library:i,version:t}}),"VERSION"))},setLogLevel:Df,onLog:function(e,t){if(null!==e&&"function"!=typeof e)throw Mf.create("invalid-log-argument");!function(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=Nf[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(e){if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:If[n].toLowerCase(),message:a,args:i,type:t.name})}},r=0,i=Sf;r<i.length;r++)n(i[r])}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e,t)},apps:null,SDK_VERSION:"8.8.1",INTERNAL:{registerComponent:o,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){if("serverAuth"===t)return null;return t}}};function i(e){if(!rf(t,e=e||"[DEFAULT]"))throw Mf.create("no-app",{appName:e});return t[e]}function o(o){var a=o.name;if(n.has(a))return Uf.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var s=function(e){if(void 0===e&&(e=i()),"function"!=typeof e[a])throw Mf.create("invalid-app-argument",{appName:a});return e[a]()};void 0!==o.serviceProps&&Uh(s,o.serviceProps),r[a]=s,e.prototype[a]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this._getService.bind(this,a);return n.apply(this,o.multipleInstances?e:[])}}for(var u=0,c=Object.keys(t);u<c.length;u++){var l=c[u];t[l]._addComponent(o)}return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),i.App=e,r}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vf=function e(){var t=qf(jf);return t.INTERNAL=Ih(Ih({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){Uh(t,e)},createSubscribe:cf,ErrorFactory:Xh,deepExtend:Uh}),t}(),Bf=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
if("object"==typeof self&&self.self===self&&void 0!==self.firebase){Uf.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var zf=self.firebase.SDK_VERSION;zf&&zf.indexOf("LITE")>=0&&Uf.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Kf=Vf.initializeApp;Vf.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return zh()&&Uf.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),Kf.apply(void 0,e)};var Wf,Hf,Gf=Vf;(Wf=Gf).INTERNAL.registerComponent(new bf("platform-logger",(function(e){return new Bf(e)}),"PRIVATE")),Wf.registerVersion("@firebase/app","0.6.29",Hf),Wf.registerVersion("fire-js",""),function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)};var n=function(e){e=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,e];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}return globalThis}(this);function r(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}function i(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:r(e)}}!function(e,r){if(r){var i=n;e=e.split(".");for(var o=0;o<e.length-1;o++){var a=e[o];a in i||(i[a]={}),i=i[a]}(r=r(o=i[e=e[e.length-1]]))!=o&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Promise",(function(e){function t(e){this.b=0,this.c=void 0,this.a=[];var t=this.f();try{e(t.resolve,t.reject)}catch(n){t.reject(n)}}function r(){this.a=null}function o(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;r.prototype.b=function(e){if(null==this.a){this.a=[];var t=this;this.c((function(){t.g()}))}this.a.push(e)};var a=n.setTimeout;r.prototype.c=function(e){a(e,0)},r.prototype.g=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(r){this.f(r)}}}this.a=null},r.prototype.f=function(e){this.c((function(){throw e}))},t.prototype.f=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.m),reject:e(this.g)}},t.prototype.m=function(e){if(e===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.s(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.v(e):this.h(e)}},t.prototype.v=function(e){var t=void 0;try{t=e.then}catch(n){return void this.g(n)}"function"==typeof t?this.u(t,e):this.h(e)},t.prototype.g=function(e){this.i(2,e)},t.prototype.h=function(e){this.i(1,e)},t.prototype.i=function(e,t){if(0!=this.b)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.b);this.b=e,this.c=t,this.l()},t.prototype.l=function(){if(null!=this.a){for(var e=0;e<this.a.length;++e)s.b(this.a[e]);this.a=null}};var s=new r;return t.prototype.s=function(e){var t=this.f();e.Ra(t.resolve,t.reject)},t.prototype.u=function(e,t){var n=this.f();try{e.call(t,n.resolve,n.reject)}catch(r){n.reject(r)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(n){o(n)}}:t}var i,o,a=new t((function(e,t){i=e,o=t}));return this.Ra(r(e,i),r(n,o)),a},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.Ra=function(e,t){function n(){switch(r.b){case 1:e(r.c);break;case 2:t(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},t.resolve=o,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var r=i(e),a=r.next();!a.done;a=r.next())o(a.value).Ra(t,n)}))},t.all=function(e){var n=i(e),r=n.next();return r.done?o([]):new t((function(e,t){function i(t){return function(n){a[t]=n,0==--s&&e(a)}}var a=[],s=0;do{a.push(void 0),s++,o(r.value).Ra(i(a.length-1),t),r=n.next()}while(!r.done)}))},t}));var o=o||{},a=this||self,s=/^[\w+/_-]+[=]{0,2}$/,u=null;function c(e){return(e=e.querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&s.test(e)?e:""}function l(){}function h(e){var t=typeof e;return"object"!=t?t:e?Array.isArray(e)?"array":t:"null"}function f(e){var t=h(e);return"array"==t||"object"==t&&"number"==typeof e.length}function d(e){return"function"==h(e)}function p(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var v="closure_uid_"+(1e9*Math.random()>>>0),g=0;function m(e,t,n){return e.call.apply(e.bind,arguments)}function y(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function b(e,t,n){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?m:y).apply(null,arguments)}function w(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function _(e,t){function n(){}n.prototype=t.prototype,e.bb=t.prototype,e.prototype=new n,e.prototype.constructor=e}function E(e){return e}function T(e,t,n){this.code=S+e,this.message=t||C[e]||"",this.a=n||null}function I(e){var t=e&&e.code;return t?new T(t.substring(S.length),e.message,e.serverResponse):null}_(T,Error),T.prototype.w=function(){var e={code:this.code,message:this.message};return this.a&&(e.serverResponse=this.a),e},T.prototype.toJSON=function(){return this.w()};var k,S="auth/",C={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},N={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function A(e){for(var t in N)if(N[t].id===e)return{firebaseEndpoint:(e=N[t]).Ua,secureTokenEndpoint:e.$a,identityPlatformEndpoint:e.Xa};return null}function x(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(t){return!1}}function P(e){if(Error.captureStackTrace)Error.captureStackTrace(this,P);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function R(e,t){for(var n="",r=(e=e.split("%s")).length-1,i=0;i<r;i++)n+=e[i]+(i<t.length?t[i]:"%s");P.call(this,n+e[r])}function D(e,t){throw new R("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}function O(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function L(e,t){e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}function M(){this.b=this.a=null}k=A("__EID__")?"__EID__":void 0,_(P,Error),P.prototype.name="CustomError",_(R,P),R.prototype.name="AssertionError",O.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var F=new O((function(){return new j}),(function(e){e.reset()}));function U(){var e=mt,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function j(){this.next=this.b=this.a=null}M.prototype.add=function(e,t){var n=F.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},j.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},j.prototype.reset=function(){this.next=this.b=this.a=null};var q=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},V=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"==typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};var B=Array.prototype.filter?function(e,t){return Array.prototype.filter.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=[],i=0,o="string"==typeof e?e.split(""):e,a=0;a<n;a++)if(a in o){var s=o[a];t.call(void 0,s,a,e)&&(r[i++]=s)}return r},z=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=Array(n),i="string"==typeof e?e.split(""):e,o=0;o<n;o++)o in i&&(r[o]=t.call(void 0,i[o],o,e));return r},K=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(e,t){for(var n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e))return!0;return!1};function W(e,t){return 0<=q(e,t)}function H(e,t){var n;return(n=0<=(t=q(e,t)))&&Array.prototype.splice.call(e,t,1),n}function G(e,t){!function(e,t){for(var n="string"==typeof e?e.split(""):e,r=e.length-1;0<=r;--r)r in n&&t.call(void 0,n[r],r,e)}(e,(function(n,r){t.call(void 0,n,r,e)&&1==Array.prototype.splice.call(e,r,1).length&&0}))}function Q(e){return Array.prototype.concat.apply([],arguments)}function $(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}var Y,X=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},J=/&/g,Z=/</g,ee=/>/g,te=/"/g,ne=/'/g,re=/\x00/g,ie=/[\x00&<>"']/;function oe(e,t){return-1!=e.indexOf(t)}function ae(e,t){return e<t?-1:e>t?1:0}e:{var se=a.navigator;if(se){var ue=se.userAgent;if(ue){Y=ue;break e}}Y=""}function ce(e){return oe(Y,e)}function le(e,t){for(var n in e)t.call(void 0,e[n],n,e)}function he(e){for(var t in e)return!1;return!0}function fe(e){var t,n={};for(t in e)n[t]=e[t];return n}var de="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pe(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<de.length;o++)n=de[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ve(e,t){e:{try{var n=e&&e.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||a).Element&&r.Location){var i=r;break e}}catch(s){}i=null}if(i&&void 0!==i[t]&&(!e||!(e instanceof i[t])&&(e instanceof i.Location||e instanceof i.Element))){if(p(e))try{var o=e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch(s){o="<object could not be stringified>"}else o=void 0===e?"undefined":null===e?"null":typeof e;D("Argument is not a %s (or a non-Element, non-Location mock); got: %s",t,o)}}function ge(e,t){this.a=e===we&&t||"",this.b=be}function me(e){return e instanceof ge&&e.constructor===ge&&e.b===be?e.a:(D("expected object of type Const, got '"+e+"'"),"type_error:Const")}ge.prototype.ta=!0,ge.prototype.sa=function(){return this.a},ge.prototype.toString=function(){return"Const{"+this.a+"}"};var ye,be={},we={};function _e(){if(void 0===ye){var e=null,t=a.trustedTypes;if(t&&t.createPolicy){try{e=t.createPolicy("goog#html",{createHTML:E,createScript:E,createScriptURL:E})}catch(n){a.console&&a.console.error(n.message)}ye=e}else ye=e}return ye}function Ee(e,t){this.a=t===Ce?e:""}function Te(e){return e instanceof Ee&&e.constructor===Ee?e.a:(D("expected object of type TrustedResourceUrl, got '"+e+"' of type "+h(e)),"type_error:TrustedResourceUrl")}function Ie(e,t){var n=me(e);if(!Se.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(e){var t=_e();return new Ee(e=t?t.createScriptURL(e):e,Ce)}(e=n.replace(ke,(function(e,r){if(!Object.prototype.hasOwnProperty.call(t,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(t));return(e=t[r])instanceof ge?me(e):encodeURIComponent(String(e))})))}Ee.prototype.ta=!0,Ee.prototype.sa=function(){return this.a.toString()},Ee.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var ke=/%{(\w+)}/g,Se=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Ce={};function Ne(e,t){this.a=t===Le?e:""}function Ae(e){return e instanceof Ne&&e.constructor===Ne?e.a:(D("expected object of type SafeUrl, got '"+e+"' of type "+h(e)),"type_error:SafeUrl")}Ne.prototype.ta=!0,Ne.prototype.sa=function(){return this.a.toString()},Ne.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var xe=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Pe=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Re=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function De(e){if(e instanceof Ne)return e;if(e="object"==typeof e&&e.ta?e.sa():String(e),Re.test(e))e=new Ne(e,Le);else{var t=(e=(e=String(e)).replace(/(%0A|%0D)/g,"")).match(Pe);e=t&&xe.test(t[1])?new Ne(e,Le):null}return e}function Oe(e){return e instanceof Ne?e:(e="object"==typeof e&&e.ta?e.sa():String(e),Re.test(e)||(e="about:invalid#zClosurez"),new Ne(e,Le))}var Le={},Me=new Ne("about:invalid#zClosurez",Le);function Fe(e,t,n){this.a=n===Ue?e:""}Fe.prototype.ta=!0,Fe.prototype.sa=function(){return this.a.toString()},Fe.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Ue={};function je(e,t,n,r){return e=e instanceof Ne?e:Oe(e),t=t||a,n=n instanceof ge?me(n):n||"",t.open(Ae(e),n,r,void 0)}function qe(e,t){for(var n=e.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Ve(e){return ie.test(e)&&(-1!=e.indexOf("&")&&(e=e.replace(J,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(Z,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(ee,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(te,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(ne,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(re,"&#0;"))),e}function Be(e){return Be[" "](e),e}Be[" "]=l;var ze,Ke=ce("Opera"),We=ce("Trident")||ce("MSIE"),He=ce("Edge"),Ge=He||We,Qe=ce("Gecko")&&!(oe(Y.toLowerCase(),"webkit")&&!ce("Edge"))&&!(ce("Trident")||ce("MSIE"))&&!ce("Edge"),$e=oe(Y.toLowerCase(),"webkit")&&!ce("Edge");function Ye(){var e=a.document;return e?e.documentMode:void 0}e:{var Xe="",Je=function(){var e=Y;return Qe?/rv:([^\);]+)(\)|;)/.exec(e):He?/Edge\/([\d\.]+)/.exec(e):We?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):$e?/WebKit\/(\S+)/.exec(e):Ke?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Je&&(Xe=Je?Je[1]:""),We){var Ze=Ye();if(null!=Ze&&Ze>parseFloat(Xe)){ze=String(Ze);break e}}ze=Xe}var et,nt={};function rt(e){return function(e,t){var n=nt;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(){for(var t=0,n=X(String(ze)).split("."),r=X(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=ae(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||ae(0==a[2].length,0==s[2].length)||ae(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t}))}if(a.document&&We){var it=Ye();et=it||(parseInt(ze,10)||void 0)}else et=void 0;var ot=et;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(tt){}var at=!We||9<=Number(ot);function st(e){var t=document;return"string"==typeof e?t.getElementById(e):e}function ut(e,t){le(t,(function(t,n){t&&"object"==typeof t&&t.ta&&(t=t.sa()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:ht.hasOwnProperty(n)?e.setAttribute(ht[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t}))}var ct,lt,ht={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function ft(e,t,n){function r(n){n&&t.appendChild("string"==typeof n?e.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!f(o)||p(o)&&0<o.nodeType)r(o);else{e:{if(o&&"number"==typeof o.length){if(p(o)){var a="function"==typeof o.item||"string"==typeof o.item;break e}if(d(o)){a="function"==typeof o.item;break e}}a=!1}V(a?$(o):o,r)}}}function dt(e,t){return t=String(t),"application/xhtml+xml"===e.contentType&&(t=t.toLowerCase()),e.createElement(t)}function pt(e){a.setTimeout((function(){throw e}),0)}function vt(e,t){lt||function(){if(a.Promise&&a.Promise.resolve){var e=a.Promise.resolve(void 0);lt=function(){e.then(yt)}}else lt=function(){var e=yt;!d(a.setImmediate)||a.Window&&a.Window.prototype&&!ce("Edge")&&a.Window.prototype.setImmediate==a.setImmediate?(ct||(ct=function(){var e=a.MessageChannel;if(void 0===e&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!ce("Presto")&&(e=function(){var e=dt(document,"IFRAME");e.style.display="none",document.documentElement.appendChild(e);var t=e.contentWindow;(e=t.document).open(),e.close();var n="callImmediate"+Math.random(),r="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=b((function(e){"*"!=r&&e.origin!=r||e.data!=n||this.port1.onmessage()}),this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,r)}}}),void 0!==e&&!ce("Trident")&&!ce("MSIE")){var t=new e,n={},r=n;return t.port1.onmessage=function(){if(void 0!==n.next){var e=(n=n.next).Hb;n.Hb=null,e()}},function(e){r.next={Hb:e},r=r.next,t.port2.postMessage(0)}}return function(e){a.setTimeout(e,0)}}()),ct(e)):a.setImmediate(e)}}(),gt||(lt(),gt=!0),mt.add(e,t)}var gt=!1,mt=new M;function yt(){for(var e;e=U();){try{e.a.call(e.b)}catch(t){pt(t)}L(F,e)}gt=!1}function bt(e,t){if(this.a=wt,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,e!=l)try{var n=this;e.call(t,(function(e){Dt(n,_t,e)}),(function(e){if(!(e instanceof qt))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(aO){}Dt(n,Et,e)}))}catch(r){Dt(this,Et,r)}}var wt=0,_t=2,Et=3;function Tt(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Tt.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var It=new O((function(){return new Tt}),(function(e){e.reset()}));function kt(e,t,n){var r=It.get();return r.g=e,r.b=t,r.f=n,r}function St(e){if(e instanceof bt)return e;var t=new bt(l);return Dt(t,_t,e),t}function Ct(e){return new bt((function(t,n){n(e)}))}function Nt(e,t,n){Ot(e,t,n,null)||vt(w(t,e))}function At(e){return new bt((function(t){var n=e.length,r=[];if(n)for(var i=function(e,i,o){n--,r[e]=i?{Qb:!0,value:o}:{Qb:!1,reason:o},0==n&&t(r)},o=0;o<e.length;o++)Nt(e[o],w(i,o,!0),w(i,o,!1));else t(r)}))}function xt(e,t){if(e.a==wt)if(e.c){var n=e.c;if(n.b){for(var r=0,i=null,o=null,a=n.b;a&&(a.c||(r++,a.a==e&&(i=a),!(i&&1<r)));a=a.next)i||(o=a);i&&(n.a==wt&&1==r?xt(n,t):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):Mt(n),Ft(n,i,Et,t)))}e.c=null}else Dt(e,Et,t)}function Pt(e,t){e.b||e.a!=_t&&e.a!=Et||Lt(e),e.f?e.f.next=t:e.b=t,e.f=t}function Rt(e,t,n,r){var i=kt(null,null,null);return i.a=new bt((function(e,o){i.g=t?function(n){try{var i=t.call(r,n);e(i)}catch(a){o(a)}}:e,i.b=n?function(t){try{var i=n.call(r,t);void 0===i&&t instanceof qt?o(t):e(i)}catch(a){o(a)}}:o})),i.a.c=e,Pt(e,i),i.a}function Dt(e,t,n){e.a==wt&&(e===n&&(t=Et,n=new TypeError("Promise cannot resolve to itself")),e.a=1,Ot(n,e.$c,e.ad,e)||(e.i=n,e.a=t,e.c=null,Lt(e),t!=Et||n instanceof qt||function(e,t){e.g=!0,vt((function(){e.g&&jt.call(null,t)}))}(e,n)))}function Ot(e,t,n,r){if(e instanceof bt)return Pt(e,kt(t||l,n||null,r)),!0;if(x(e))return e.then(t,n,r),!0;if(p(e))try{var i=e.then;if(d(i))return function(e,t,n,r,i){function o(e){s||(s=!0,r.call(i,e))}function a(e){s||(s=!0,n.call(i,e))}var s=!1;try{t.call(e,a,o)}catch(u){o(u)}}(e,i,t,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function Lt(e){e.h||(e.h=!0,vt(e.gc,e))}function Mt(e){var t=null;return e.b&&(t=e.b,e.b=t.next,t.next=null),e.b||(e.f=null),t}function Ft(e,t,n,r){if(n==Et&&t.b&&!t.c)for(;e&&e.g;e=e.c)e.g=!1;if(t.a)t.a.c=null,Ut(t,n,r);else try{t.c?t.g.call(t.f):Ut(t,n,r)}catch(aO){jt.call(null,aO)}L(It,t)}function Ut(e,t,n){t==_t?e.g.call(e.f,n):e.b&&e.b.call(e.f,n)}bt.prototype.then=function(e,t,n){return Rt(this,d(e)?e:null,d(t)?t:null,n)},bt.prototype.$goog_Thenable=!0,(e=bt.prototype).oa=function(e,t){return(e=kt(e,e,t)).c=!0,Pt(this,e),this},e.o=function(e,t){return Rt(this,null,e,t)},e.cancel=function(e){if(this.a==wt){var t=new qt(e);vt((function(){xt(this,t)}),this)}},e.$c=function(e){this.a=wt,Dt(this,_t,e)},e.ad=function(e){this.a=wt,Dt(this,Et,e)},e.gc=function(){for(var e;e=Mt(this);)Ft(this,e,this.a,this.i);this.h=!1};var jt=pt;function qt(e){P.call(this,e)}function Vt(){this.ya=this.ya,this.pa=this.pa}_(qt,P),qt.prototype.name="cancel";var Bt={};function zt(e){if(!e.ya&&(e.ya=!0,e.Da(),0)){var t=function(e){return Object.prototype.hasOwnProperty.call(e,v)&&e[v]||(e[v]=++g)}(e);delete Bt[t]}}Vt.prototype.ya=!1,Vt.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Kt=Object.freeze||function(e){return e},Wt=!We||9<=Number(ot),Ht=We&&!rt("9"),Gt=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{a.addEventListener("test",l,t),a.removeEventListener("test",l,t)}catch(n){}return e}();function Qt(e,t){this.type=e,this.b=this.target=t,this.defaultPrevented=!1}function $t(e,t){if(Qt.call(this,e?e.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.b=t,t=e.relatedTarget){if(Qe){e:{try{Be(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:Yt[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.preventDefault()}}Qt.prototype.preventDefault=function(){this.defaultPrevented=!0},_($t,Qt);var Yt=Kt({2:"touch",3:"pen",4:"mouse"});$t.prototype.preventDefault=function(){$t.bb.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,Ht)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(t){}},$t.prototype.g=function(){return this.a};var Xt="closure_listenable_"+(1e6*Math.random()|0),Jt=0;function Zt(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.Wa=i,this.key=++Jt,this.wa=this.Qa=!1}function en(e){e.wa=!0,e.listener=null,e.proxy=null,e.src=null,e.Wa=null}function tn(e){this.src=e,this.a={},this.b=0}function nn(e,t){var n=t.type;n in e.a&&H(e.a[n],t)&&(en(t),0==e.a[n].length&&(delete e.a[n],e.b--))}function rn(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.wa&&o.listener==t&&o.capture==!!n&&o.Wa==r)return i}return-1}tn.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=rn(e,t,r,i);return-1<a?(t=e[a],n||(t.Qa=!1)):((t=new Zt(t,this.src,o,!!r,i)).Qa=n,e.push(t)),t};var on="closure_lm_"+(1e6*Math.random()|0),an={};function sn(e,t,n,r,i){if(r&&r.once)cn(e,t,n,r,i);else if(Array.isArray(t))for(var o=0;o<t.length;o++)sn(e,t[o],n,r,i);else n=yn(n),e&&e[Xt]?wn(e,t,n,p(r)?!!r.capture:!!r,i):un(e,t,n,!1,r,i)}function un(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=p(i)?!!i.capture:!!i,s=gn(e);if(s||(e[on]=s=new tn(e)),!(n=s.add(t,n,r,a,o)).proxy)if(r=function(){var e=vn,t=Wt?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Gt||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(fn(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}}function cn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)cn(e,t[o],n,r,i);else n=yn(n),e&&e[Xt]?_n(e,t,n,p(r)?!!r.capture:!!r,i):un(e,t,n,!0,r,i)}function ln(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)ln(e,t[o],n,r,i);else r=p(r)?!!r.capture:!!r,n=yn(n),e&&e[Xt]?(e=e.v,(t=String(t).toString())in e.a&&(-1<(n=rn(o=e.a[t],n,r,i))&&(en(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--)))):e&&(e=gn(e))&&(t=e.a[t.toString()],e=-1,t&&(e=rn(t,n,r,i)),(n=-1<e?t[e]:null)&&hn(n))}function hn(e){if("number"!=typeof e&&e&&!e.wa){var t=e.src;if(t&&t[Xt])nn(t.v,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(fn(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=gn(t))?(nn(n,e),0==n.b&&(n.src=null,t[on]=null)):en(e)}}}function fn(e){return e in an?an[e]:an[e]="on"+e}function dn(e,t,n,r){var i=!0;if((e=gn(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var o=t[e];o&&o.capture==n&&!o.wa&&(o=pn(o,r),i=i&&!1!==o)}return i}function pn(e,t){var n=e.listener,r=e.Wa||e.src;return e.Qa&&hn(e),n.call(r,t)}function vn(e,t){if(e.wa)return!0;if(!Wt){if(!t)e:{t=["window","event"];for(var n=a,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}if(t=new $t(r=t,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){e:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break e}catch(s){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=t.b;i;i=i.parentNode)r.push(i);for(e=e.type,i=r.length-1;0<=i;i--){t.b=r[i];var o=dn(r[i],e,!0,t);n=n&&o}for(i=0;i<r.length;i++)t.b=r[i],o=dn(r[i],e,!1,t),n=n&&o}return n}return pn(e,new $t(t,this))}function gn(e){return(e=e[on])instanceof tn?e:null}var mn="__closure_events_fn_"+(1e9*Math.random()>>>0);function yn(e){return d(e)?e:(e[mn]||(e[mn]=function(t){return e.handleEvent(t)}),e[mn])}function bn(){Vt.call(this),this.v=new tn(this),this.bc=this,this.hb=null}function wn(e,t,n,r,i){e.v.add(String(t),n,!1,r,i)}function _n(e,t,n,r,i){e.v.add(String(t),n,!0,r,i)}function En(e,t,n,r){if(!(t=e.v.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.wa&&a.capture==n){var s=a.listener,u=a.Wa||a.src;a.Qa&&nn(e.v,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}function Tn(e,t,n){if(d(e))n&&(e=b(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=b(e.handleEvent,e)}return 2147483647<Number(t)?-1:a.setTimeout(e,t||0)}function In(e){var t=null;return new bt((function(n,r){-1==(t=Tn((function(){n(void 0)}),e))&&r(Error("Failed to schedule timer."))})).o((function(e){throw a.clearTimeout(t),e}))}function kn(e){if(e.X&&"function"==typeof e.X)return e.X();if("string"==typeof e)return e.split("");if(f(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}function Sn(e){if(e.Y&&"function"==typeof e.Y)return e.Y();if(!e.X||"function"!=typeof e.X){if(f(e)||"string"==typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}function Cn(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Cn)for(n=e.Y(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Nn(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];An(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)An(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function An(e,t){return Object.prototype.hasOwnProperty.call(e,t)}_(bn,Vt),bn.prototype[Xt]=!0,bn.prototype.addEventListener=function(e,t,n,r){sn(this,e,t,n,r)},bn.prototype.removeEventListener=function(e,t,n,r){ln(this,e,t,n,r)},bn.prototype.dispatchEvent=function(e){var t,n=this.hb;if(n)for(t=[];n;n=n.hb)t.push(n);n=this.bc;var r=e.type||e;if("string"==typeof e)e=new Qt(e,n);else if(e instanceof Qt)e.target=e.target||n;else{var i=e;pe(e=new Qt(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var a=e.b=t[o];i=En(a,r,!0,e)&&i}if(i=En(a=e.b=n,r,!0,e)&&i,i=En(a,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=En(a=e.b=t[o],r,!1,e)&&i;return i},bn.prototype.Da=function(){if(bn.bb.Da.call(this),this.v){var e,t=this.v;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)en(n[r]);delete t.a[e],t.b--}}this.hb=null},(e=Cn.prototype).X=function(){Nn(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},e.Y=function(){return Nn(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0},e.get=function(e,t){return An(this.b,e)?this.b[e]:t},e.set=function(e,t){An(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},e.forEach=function(e,t){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var xn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Pn(e,t){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,e instanceof Pn?(this.i=void 0!==t?t:e.i,Rn(this,e.c),this.l=e.l,this.a=e.a,Dn(this,e.g),this.f=e.f,On(this,Zn(e.b)),this.h=e.h):e&&(n=String(e).match(xn))?(this.i=!!t,Rn(this,n[1]||"",!0),this.l=jn(n[2]||""),this.a=jn(n[3]||"",!0),Dn(this,n[4]),this.f=jn(n[5]||"",!0),On(this,n[6]||"",!0),this.h=jn(n[7]||"")):(this.i=!!t,this.b=new Gn(null,this.i))}function Rn(e,t,n){e.c=n?jn(t,!0):t,e.c&&(e.c=e.c.replace(/:$/,""))}function Dn(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.g=t}else e.g=null}function On(e,t,n){t instanceof Gn?(e.b=t,function(e,t){t&&!e.f&&(Qn(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Yn(this,t),Jn(this,n,e))}),e)),e.f=t}(e.b,e.i)):(n||(t=qn(t,Wn)),e.b=new Gn(t,e.i))}function Ln(e,t,n){e.b.set(t,n)}function Mn(e,t){return e.b.get(t)}function Fn(e){return e instanceof Pn?new Pn(e):new Pn(e,void 0)}function Un(e,t,n,r){var i=new Pn(null,void 0);return e&&Rn(i,e),t&&(i.a=t),n&&Dn(i,n),r&&(i.f=r),i}function jn(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function qn(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,Vn),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Vn(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Pn.prototype.toString=function(){var e=[],t=this.c;t&&e.push(qn(t,Bn,!0),":");var n=this.a;return(n||"file"==t)&&(e.push("//"),(t=this.l)&&e.push(qn(t,Bn,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&e.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&e.push("/"),e.push(qn(n,"/"==n.charAt(0)?Kn:zn,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.h)&&e.push("#",qn(n,Hn)),e.join("")},Pn.prototype.resolve=function(e){var t=new Pn(this),n=!!e.c;n?Rn(t,e.c):n=!!e.l,n?t.l=e.l:n=!!e.a,n?t.a=e.a:n=null!=e.g;var r=e.f;if(n)Dn(t,e.g);else if(n=!!e.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=t.f.lastIndexOf("/");-1!=i&&(r=t.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(oe(i,"./")||oe(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?t.f=r:n=""!==e.b.toString(),n?On(t,Zn(e.b)):n=!!e.h,n&&(t.h=e.h),t};var Bn=/[#\/\?@]/g,zn=/[#\?:]/g,Kn=/[#\?]/g,Wn=/[#\?@]/g,Hn=/#/g;function Gn(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function Qn(e){e.a||(e.a=new Cn,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function $n(e){var t=Sn(e);if(void 0===t)throw Error("Keys are undefined");var n=new Gn(null,void 0);e=kn(e);for(var r=0;r<t.length;r++){var i=t[r],o=e[r];Array.isArray(o)?Jn(n,i,o):n.add(i,o)}return n}function Yn(e,t){Qn(e),t=er(e,t),An(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,An((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&Nn(e)))}function Xn(e,t){return Qn(e),t=er(e,t),An(e.a.b,t)}function Jn(e,t,n){Yn(e,t),0<n.length&&(e.c=null,e.a.set(er(e,t),$(n)),e.b+=n.length)}function Zn(e){var t=new Gn;return t.c=e.c,e.a&&(t.a=new Cn(e.a),t.b=e.b),t}function er(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function tr(e){var t=[];return rr(new nr,e,t),t.join("")}function nr(){}function rr(e,t,n){if(null==t)n.push("null");else{if("object"==typeof t){if(Array.isArray(t)){var r=t;t=r.length,n.push("[");for(var i="",o=0;o<t;o++)n.push(i),rr(e,r[o],n),i=",";return void n.push("]")}if(!(t instanceof String||t instanceof Number||t instanceof Boolean)){for(r in n.push("{"),i="",t)Object.prototype.hasOwnProperty.call(t,r)&&("function"!=typeof(o=t[r])&&(n.push(i),ar(r,n),n.push(":"),rr(e,o,n),i=","));return void n.push("}")}t=t.valueOf()}switch(typeof t){case"string":ar(t,n);break;case"number":n.push(isFinite(t)&&!isNaN(t)?String(t):"null");break;case"boolean":n.push(String(t));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof t)}}}(e=Gn.prototype).add=function(e,t){Qn(this),this.c=null,e=er(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},e.clear=function(){this.a=this.c=null,this.b=0},e.forEach=function(e,t){Qn(this),this.a.forEach((function(n,r){V(n,(function(n){e.call(t,n,r,this)}),this)}),this)},e.Y=function(){Qn(this);for(var e=this.a.X(),t=this.a.Y(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},e.X=function(e){Qn(this);var t=[];if("string"==typeof e)Xn(this,e)&&(t=Q(t,this.a.get(er(this,e))));else{e=this.a.X();for(var n=0;n<e.length;n++)t=Q(t,e[n])}return t},e.set=function(e,t){return Qn(this),this.c=null,Xn(this,e=er(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},e.get=function(e,t){return e&&0<(e=this.X(e)).length?String(e[0]):t},e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.Y(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.X(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")};var ir={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},or=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function ar(e,t){t.push('"',e.replace(or,(function(e){var t=ir[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),ir[e]=t),t})),'"')}function sr(){var e=Cr();return We&&!!ot&&11==ot||/Edge\/\d+/.test(e)}function ur(){return a.window&&a.window.location.href||self&&self.location&&self.location.href||""}function cr(e,t){t=t||a.window;var n="about:blank";e&&(n=Ae(De(e)||Me)),t.location.href=n}function lr(e,t){var n,r=[];for(n in e)n in t?typeof e[n]!=typeof t[n]?r.push(n):"object"==typeof e[n]&&null!=e[n]&&null!=t[n]?0<lr(e[n],t[n]).length&&r.push(n):e[n]!==t[n]&&r.push(n):r.push(n);for(n in t)n in e||r.push(n);return r}function hr(e){return!!((e=(e||Cr()).toLowerCase()).match(/android/)||e.match(/webos/)||e.match(/iphone|ipad|ipod/)||e.match(/blackberry/)||e.match(/windows phone/)||e.match(/iemobile/))}function fr(e){e=e||a.window;try{e.close()}catch(t){}}function dr(e,t,n){var r=Math.floor(1e9*Math.random()).toString();t=t||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-t)/2;for(a in t={width:t,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Cr().toLowerCase(),r&&(t.target=r,oe(n,"crios/")&&(t.target="_blank")),Ir(Cr())==Er&&(e=e||"http://localhost",t.scrollbars=!0),n=e||"",(e=t)||(e={}),r=window,t=n instanceof Ne?n:De(void 0!==n.href?n.href:String(n))||Me,n=e.target||n.target,i=[],e)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+e[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(e[a]?1:0))}var a=i.join(",");if((ce("iPhone")&&!ce("iPod")&&!ce("iPad")||ce("iPad")||ce("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(ve(a=dt(document,"A"),"HTMLAnchorElement"),t=t instanceof Ne?t:Oe(t),a.href=Ae(t),a.setAttribute("target",n),e.noreferrer&&a.setAttribute("rel","noreferrer"),(e=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(e),a={}):e.noreferrer?(a=je("",r,n,a),e=Ae(t),a&&(Ge&&oe(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),a.opener=null,e='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Ve(e)+'">',e=new Fe(e=(r=_e())?r.createHTML(e):e,null,Ue),r=a.document)&&(r.write(function(e){return e instanceof Fe&&e.constructor===Fe?e.a:(D("expected object of type SafeHtml, got '"+e+"' of type "+h(e)),"type_error:SafeHtml")}(e)),r.close())):(a=je(t,r,n,a))&&e.noopener&&(a.opener=null),a)try{a.focus()}catch(s){}return a}var pr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vr=/^[^@]+@[^@]+$/;function gr(){var e=null;return new bt((function(t){"complete"==a.document.readyState?t():(e=function(){t()},cn(window,"load",e))})).o((function(t){throw ln(window,"load",e),t}))}function mr(e){return e=e||Cr(),!("file:"!==Rr()&&"ionic:"!==Rr()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function yr(){var e=a.window;try{return!(!e||e==e.top)}catch(t){return!1}}function br(){return void 0!==a.WorkerGlobalScope&&"function"==typeof a.importScripts}function wr(){return Gf.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Gf.INTERNAL.hasOwnProperty("node")?"Node":br()?"Worker":"Browser"}function _r(){var e=wr();return"ReactNative"===e||"Node"===e}var Er="Firefox",Tr="Chrome";function Ir(e){var t=e.toLowerCase();return oe(t,"opera/")||oe(t,"opr/")||oe(t,"opios/")?"Opera":oe(t,"iemobile")?"IEMobile":oe(t,"msie")||oe(t,"trident/")?"IE":oe(t,"edge/")?"Edge":oe(t,"firefox/")?Er:oe(t,"silk/")?"Silk":oe(t,"blackberry")?"Blackberry":oe(t,"webos")?"Webos":!oe(t,"safari/")||oe(t,"chrome/")||oe(t,"crios/")||oe(t,"android")?!oe(t,"chrome/")&&!oe(t,"crios/")||oe(t,"edge/")?oe(t,"android")?"Android":(e=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==e.length?e[1]:"Other":Tr:"Safari"}var kr={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Sr(e,t){t=t||[];var n,r=[],i={};for(n in kr)i[kr[n]]=!0;for(n=0;n<t.length;n++)void 0!==i[t[n]]&&(delete i[t[n]],r.push(t[n]));return r.sort(),(t=r).length||(t=["FirebaseCore-web"]),"Browser"===(r=wr())?r=Ir(i=Cr()):"Worker"===r&&(r=Ir(i=Cr())+"-"+r),r+"/JsCore/"+e+"/"+t.join(",")}function Cr(){return a.navigator&&a.navigator.userAgent||""}function Nr(e,t){e=e.split("."),t=t||a;for(var n=0;n<e.length&&"object"==typeof t&&null!=t;n++)t=t[e[n]];return n!=e.length&&(t=void 0),t}function Ar(){try{var e=a.localStorage,t=Fr();if(e)return e.setItem(t,"1"),e.removeItem(t),!sr()||!!a.indexedDB}catch(n){return br()&&!!a.indexedDB}return!1}function xr(){return(Pr()||"chrome-extension:"===Rr()||mr())&&!_r()&&Ar()&&!br()}function Pr(){return"http:"===Rr()||"https:"===Rr()}function Rr(){return a.location&&a.location.protocol||null}function Dr(e){return!hr(e=e||Cr())&&Ir(e)!=Er}function Or(e){return void 0===e?null:tr(e)}function Lr(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&null!==e[t]&&void 0!==e[t]&&(n[t]=e[t]);return n}function Mr(e){if(null!==e)return JSON.parse(e)}function Fr(e){return e||Math.floor(1e9*Math.random()).toString()}function Ur(e){return"Safari"!=Ir(e=e||Cr())&&!e.toLowerCase().match(/iphone|ipad|ipod/)}function jr(){var e=a.___jsl;if(e&&e.H)for(var t in e.H)if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=e.H[t].L.concat(),e.CP)for(var n=0;n<e.CP.length;n++)e.CP[n]=null}function qr(e,t){if(e>t)throw Error("Short delay should be less than long delay!");this.a=e,this.c=t,e=Cr(),t=wr(),this.b=hr(e)||"ReactNative"===t}function Vr(){var e=a.document;return!e||void 0===e.visibilityState||"visible"==e.visibilityState}function Br(e){try{var t=new Date(parseInt(e,10));if(!isNaN(t.getTime())&&!/[^0-9]/.test(e))return t.toUTCString()}catch(n){}return null}function zr(){return!(!Nr("fireauth.oauthhelper",a)&&!Nr("fireauth.iframe",a))}qr.prototype.get=function(){var e=a.navigator;return!e||"boolean"!=typeof e.onLine||!Pr()&&"chrome-extension:"!==Rr()&&void 0===e.connection||e.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Kr,Wr={};function Hr(e){Wr[e]||(Wr[e]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(e))}try{var Gr={};Object.defineProperty(Gr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Gr,"abcd",{configurable:!0,enumerable:!0,value:2}),Kr=2==Gr.abcd}catch(tt){Kr=!1}function Qr(e,t,n){Kr?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:n}):e[t]=n}function $r(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&Qr(e,n,t[n])}function Yr(e){var t={};return $r(t,e),t}function Xr(e){var t=e;if("object"==typeof e&&null!=e)for(var n in t="length"in e?[]:{},e)Qr(t,n,Xr(e[n]));return t}function Jr(e){var t=e&&(e[ri]?"phone":null);if(!(t&&e&&e[ni]))throw new T("internal-error","Internal assert: invalid MultiFactorInfo object");Qr(this,"uid",e[ni]),Qr(this,"displayName",e[ei]||null);var n=null;e[ti]&&(n=new Date(e[ti]).toUTCString()),Qr(this,"enrollmentTime",n),Qr(this,"factorId",t)}function Zr(e){try{var t=new ii(e)}catch(n){t=null}return t}Jr.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var ei="displayName",ti="enrolledAt",ni="mfaEnrollmentId",ri="phoneInfo";function ii(e){Jr.call(this,e),Qr(this,"phoneNumber",e[ri])}function oi(e){var t={},n=e[ci],r=e[hi],i=e[fi];if(e=Zr(e[li]),!i||i!=si&&i!=ui&&!n||i==ui&&!r||i==ai&&!e)throw Error("Invalid checkActionCode response!");i==ui?(t[pi]=n||null,t[gi]=n||null,t[di]=r):(t[pi]=r||null,t[gi]=r||null,t[di]=n||null),t[vi]=e||null,Qr(this,yi,i),Qr(this,mi,Xr(t))}_(ii,Jr),ii.prototype.w=function(){var e=ii.bb.w.call(this);return e.phoneNumber=this.phoneNumber,e};var ai="REVERT_SECOND_FACTOR_ADDITION",si="EMAIL_SIGNIN",ui="VERIFY_AND_CHANGE_EMAIL",ci="email",li="mfaInfo",hi="newEmail",fi="requestType",di="email",pi="fromEmail",vi="multiFactorInfo",gi="previousEmail",mi="data",yi="operation";function bi(e){var t=Mn(e=Fn(e),wi)||null,n=Mn(e,_i)||null,r=Mn(e,Ii)||null;if(r=r&&Si[r]||null,!t||!n||!r)throw new T("argument-error",wi+", "+_i+"and "+Ii+" are required in a valid action code URL.");$r(this,{apiKey:t,operation:r,code:n,continueUrl:Mn(e,Ei)||null,languageCode:Mn(e,Ti)||null,tenantId:Mn(e,ki)||null})}var wi="apiKey",_i="oobCode",Ei="continueUrl",Ti="languageCode",Ii="mode",ki="tenantId",Si={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ai,signIn:si,verifyAndChangeEmail:ui,verifyEmail:"VERIFY_EMAIL"};function Ci(e){try{return new bi(e)}catch(t){return null}}function Ni(e){var t=e[Di];if(void 0===t)throw new T("missing-continue-uri");if("string"!=typeof t||"string"==typeof t&&!t.length)throw new T("invalid-continue-uri");this.h=t,this.b=this.a=null,this.g=!1;var n=e[Ai];if(n&&"object"==typeof n){t=n[Mi];var r=n[Oi];if(n=n[Li],"string"==typeof t&&t.length){if(this.a=t,void 0!==r&&"boolean"!=typeof r)throw new T("argument-error",Oi+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new T("argument-error",Li+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==t)throw new T("argument-error",Mi+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new T("missing-android-pkg-name")}}else if(void 0!==n)throw new T("argument-error",Ai+" property must be a non null object when specified.");if(this.f=null,(t=e[Ri])&&"object"==typeof t){if("string"==typeof(t=t[Fi])&&t.length)this.f=t;else if(void 0!==t)throw new T("argument-error",Fi+" property must be a non empty string when specified.")}else if(void 0!==t)throw new T("argument-error",Ri+" property must be a non null object when specified.");if(void 0!==(t=e[Pi])&&"boolean"!=typeof t)throw new T("argument-error",Pi+" property must be a boolean when specified.");if(this.c=!!t,void 0!==(e=e[xi])&&("string"!=typeof e||"string"==typeof e&&!e.length))throw new T("argument-error",xi+" property must be a non empty string when specified.");this.i=e||null}var Ai="android",xi="dynamicLinkDomain",Pi="handleCodeInApp",Ri="iOS",Di="url",Oi="installApp",Li="minimumVersion",Mi="packageName",Fi="bundleId";function Ui(e){var t={};for(var n in t.continueUrl=e.h,t.canHandleCodeInApp=e.c,(t.androidPackageName=e.a)&&(t.androidMinimumVersion=e.b,t.androidInstallApp=e.g),t.iOSBundleId=e.f,t.dynamicLinkDomain=e.i,t)null===t[n]&&delete t[n];return t}var ji=null;function qi(e){var t=[];return function(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),i=ji[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}!function(){if(!ji){ji={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=e.concat(t[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===ji[o]&&(ji[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;t(i<<2|o>>4),64!=a&&(t(o<<4&240|a>>2),64!=s&&t(a<<6&192|s))}}(e,(function(e){t.push(e)})),t}function Vi(e){var t=zi(e);if(!(t&&t.sub&&t.iss&&t.aud&&t.exp))throw Error("Invalid JWT");this.h=e,this.a=t.exp,this.i=t.sub,e=Date.now()/1e3,this.g=t.iat||(e>this.a?this.a:e),this.b=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.f=t.firebase&&t.firebase.tenant||null,this.c=!!t.is_anonymous||"anonymous"==this.b}function Bi(e){try{return new Vi(e)}catch(t){return null}}function zi(e){if(!e)return null;if(3!=(e=e.split(".")).length)return null;for(var t=(4-(e=e[1]).length%4)%4,n=0;n<t;n++)e+=".";try{var r=qi(e);for(e=[],n=t=0;t<r.length;){var i=r[t++];if(128>i)e[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[t++];e[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[t++];var a=r[t++],s=((7&i)<<18|(63&o)<<12|(63&a)<<6|63&r[t++])-65536;e[n++]=String.fromCharCode(55296+(s>>10)),e[n++]=String.fromCharCode(56320+(1023&s))}else o=r[t++],a=r[t++],e[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}return JSON.parse(e.join(""))}catch(u){}return null}Vi.prototype.T=function(){return this.f},Vi.prototype.l=function(){return this.c},Vi.prototype.toString=function(){return this.h};var Ki="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Wi=["client_id","response_type","scope","redirect_uri","state"],Hi={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:Wi},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:Wi},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:Wi},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:Ki},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function Gi(e){for(var t in Hi)if(Hi[t].fa==e)return Hi[t];return null}function Qi(e){var t={};t["facebook.com"]=Zi,t["google.com"]=to,t["github.com"]=eo,t["twitter.com"]=no;var n=e&&e[Yi];try{if(n)return t[n]?new t[n](e):new Ji(e);if(void 0!==e[$i])return new Xi(e)}catch(r){}return null}var $i="idToken",Yi="providerId";function Xi(e){var t=e[Yi];if(!t&&e[$i]){var n=Bi(e[$i]);n&&n.b&&(t=n.b)}if(!t)throw Error("Invalid additional user info!");"anonymous"!=t&&"custom"!=t||(t=null),n=!1,void 0!==e.isNewUser?n=!!e.isNewUser:"identitytoolkit#SignupNewUserResponse"===e.kind&&(n=!0),Qr(this,"providerId",t),Qr(this,"isNewUser",n)}function Ji(e){Xi.call(this,e),Qr(this,"profile",Xr((e=Mr(e.rawUserInfo||"{}"))||{}))}function Zi(e){if(Ji.call(this,e),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function eo(e){if(Ji.call(this,e),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Qr(this,"username",this.profile&&this.profile.login||null)}function to(e){if(Ji.call(this,e),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function no(e){if(Ji.call(this,e),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Qr(this,"username",e.screenName||null)}function ro(e){var t=Fn(e),n=Mn(t,"link"),r=Mn(Fn(n),"link");return t=Mn(t,"deep_link_id"),Mn(Fn(t),"link")||t||r||n||e}function io(e,t){if(!e&&!t)throw new T("internal-error","Internal assert: no raw session string available");if(e&&t)throw new T("internal-error","Internal assert: unable to determine the session type");this.a=e||null,this.b=t||null,this.type=this.a?oo:ao}_(Ji,Xi),_(Zi,Ji),_(eo,Ji),_(to,Ji),_(no,Ji);var oo="enroll",ao="signin";function so(){}function uo(e,t){return e.then((function(e){if(e[Xa]){var n=Bi(e[Xa]);if(!n||t!=n.i)throw new T("user-mismatch");return e}throw new T("user-mismatch")})).o((function(e){throw e&&e.code&&e.code==S+"user-not-found"?new T("user-mismatch"):e}))}function co(e,t){if(!t)throw new T("internal-error","failed to construct a credential");this.a=t,Qr(this,"providerId",e),Qr(this,"signInMethod",e)}function lo(e){return{pendingToken:e.a,requestUri:"http://localhost"}}function ho(e){if(e&&e.providerId&&e.signInMethod&&0==e.providerId.indexOf("saml.")&&e.pendingToken)try{return new co(e.providerId,e.pendingToken)}catch(t){}return null}function fo(e,t,n){if(this.a=null,t.idToken||t.accessToken)t.idToken&&Qr(this,"idToken",t.idToken),t.accessToken&&Qr(this,"accessToken",t.accessToken),t.nonce&&!t.pendingToken&&Qr(this,"nonce",t.nonce),t.pendingToken&&(this.a=t.pendingToken);else{if(!t.oauthToken||!t.oauthTokenSecret)throw new T("internal-error","failed to construct a credential");Qr(this,"accessToken",t.oauthToken),Qr(this,"secret",t.oauthTokenSecret)}Qr(this,"providerId",e),Qr(this,"signInMethod",n)}function po(e){var t={};return e.idToken&&(t.id_token=e.idToken),e.accessToken&&(t.access_token=e.accessToken),e.secret&&(t.oauth_token_secret=e.secret),t.providerId=e.providerId,e.nonce&&!e.a&&(t.nonce=e.nonce),t={postBody:$n(t).toString(),requestUri:"http://localhost"},e.a&&(delete t.postBody,t.pendingToken=e.a),t}function vo(e){if(e&&e.providerId&&e.signInMethod){var t={idToken:e.oauthIdToken,accessToken:e.oauthTokenSecret?null:e.oauthAccessToken,oauthTokenSecret:e.oauthTokenSecret,oauthToken:e.oauthTokenSecret&&e.oauthAccessToken,nonce:e.nonce,pendingToken:e.pendingToken};try{return new fo(e.providerId,t,e.signInMethod)}catch(n){}}return null}function go(e,t){this.Qc=t||[],$r(this,{providerId:e,isOAuthProvider:!0}),this.Jb={},this.qb=(Gi(e)||{}).Ja||null,this.pb=null}function mo(e){if("string"!=typeof e||0!=e.indexOf("saml."))throw new T("argument-error",'SAML provider IDs must be prefixed with "saml."');go.call(this,e,[])}function yo(e){go.call(this,e,Wi),this.a=[]}function bo(){yo.call(this,"facebook.com")}function wo(e){if(!e)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return p(e)&&(t=e.accessToken),(new bo).credential({accessToken:t})}function _o(){yo.call(this,"github.com")}function Eo(e){if(!e)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return p(e)&&(t=e.accessToken),(new _o).credential({accessToken:t})}function To(){yo.call(this,"google.com"),this.Ca("profile")}function Io(e,t){var n=e;return p(e)&&(n=e.idToken,t=e.accessToken),(new To).credential({idToken:n,accessToken:t})}function ko(){go.call(this,"twitter.com",Ki)}function So(e,t){var n=e;if(p(n)||(n={oauthToken:e,oauthTokenSecret:t}),!n.oauthToken||!n.oauthTokenSecret)throw new T("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new fo("twitter.com",n,"twitter.com")}function Co(e,t,n){this.a=e,this.f=t,Qr(this,"providerId","password"),Qr(this,"signInMethod",n===Ao.EMAIL_LINK_SIGN_IN_METHOD?Ao.EMAIL_LINK_SIGN_IN_METHOD:Ao.EMAIL_PASSWORD_SIGN_IN_METHOD)}function No(e){return e&&e.email&&e.password?new Co(e.email,e.password,e.signInMethod):null}function Ao(){$r(this,{providerId:"password",isOAuthProvider:!1})}function xo(e,t){if(!(t=Po(t)))throw new T("argument-error","Invalid email link!");return new Co(e,t.code,Ao.EMAIL_LINK_SIGN_IN_METHOD)}function Po(e){return(e=Ci(e=ro(e)))&&e.operation===si?e:null}function Ro(e){if(!(e.fb&&e.eb||e.La&&e.ea))throw new T("internal-error");this.a=e,Qr(this,"providerId","phone"),this.fa="phone",Qr(this,"signInMethod","phone")}function Do(e){if(e&&"phone"===e.providerId&&(e.verificationId&&e.verificationCode||e.temporaryProof&&e.phoneNumber)){var t={};return V(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){e[n]&&(t[n]=e[n])})),new Ro(t)}return null}function Oo(e){return e.a.La&&e.a.ea?{temporaryProof:e.a.La,phoneNumber:e.a.ea}:{sessionInfo:e.a.fb,code:e.a.eb}}function Lo(e){try{this.a=e||Gf.auth()}catch(t){throw new T("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}$r(this,{providerId:"phone",isOAuthProvider:!1})}function Mo(e,t){if(!e)throw new T("missing-verification-id");if(!t)throw new T("missing-verification-code");return new Ro({fb:e,eb:t})}function Fo(e){if(e.temporaryProof&&e.phoneNumber)return new Ro({La:e.temporaryProof,ea:e.phoneNumber});var t=e&&e.providerId;if(!t||"password"===t)return null;var n=e&&e.oauthAccessToken,r=e&&e.oauthTokenSecret,i=e&&e.nonce,o=e&&e.oauthIdToken,a=e&&e.pendingToken;try{switch(t){case"google.com":return Io(o,n);case"facebook.com":return wo(n);case"github.com":return Eo(n);case"twitter.com":return So(n,r);default:return n||r||o||a?a?0==t.indexOf("saml.")?new co(t,a):new fo(t,{pendingToken:a,idToken:e.oauthIdToken,accessToken:e.oauthAccessToken},t):new yo(t).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(s){return null}}function Uo(e){if(!e.isOAuthProvider)throw new T("invalid-oauth-provider")}function jo(e,t,n,r,i,o,a){if(this.c=e,this.b=t||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new T("invalid-auth-event");if(this.g&&this.a)throw new T("invalid-auth-event");if(this.g&&!this.f)throw new T("invalid-auth-event")}function qo(e){return(e=e||{}).type?new jo(e.type,e.eventId,e.urlResponse,e.sessionId,e.error&&I(e.error),e.postBody,e.tenantId):null}function Vo(){this.b=null,this.a=[]}io.prototype.Ha=function(){return this.a?St(this.a):St(this.b)},io.prototype.w=function(){return this.type==oo?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},so.prototype.ka=function(){},so.prototype.b=function(){},so.prototype.c=function(){},so.prototype.w=function(){},co.prototype.ka=function(e){return bs(e,lo(this))},co.prototype.b=function(e,t){var n=lo(this);return n.idToken=t,ws(e,n)},co.prototype.c=function(e,t){return uo(_s(e,lo(this)),t)},co.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},fo.prototype.ka=function(e){return bs(e,po(this))},fo.prototype.b=function(e,t){var n=po(this);return n.idToken=t,ws(e,n)},fo.prototype.c=function(e,t){return uo(_s(e,po(this)),t)},fo.prototype.w=function(){var e={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(e.oauthIdToken=this.idToken),this.accessToken&&(e.oauthAccessToken=this.accessToken),this.secret&&(e.oauthTokenSecret=this.secret),this.nonce&&(e.nonce=this.nonce),this.a&&(e.pendingToken=this.a),e},go.prototype.Ka=function(e){return this.Jb=fe(e),this},_(mo,go),_(yo,go),yo.prototype.Ca=function(e){return W(this.a,e)||this.a.push(e),this},yo.prototype.Rb=function(){return $(this.a)},yo.prototype.credential=function(e,t){var n;if(!(n=p(e)?{idToken:e.idToken||null,accessToken:e.accessToken||null,nonce:e.rawNonce||null}:{idToken:e||null,accessToken:t||null}).idToken&&!n.accessToken)throw new T("argument-error","credential failed: must provide the ID token and/or the access token.");return new fo(this.providerId,n,this.providerId)},_(bo,yo),Qr(bo,"PROVIDER_ID","facebook.com"),Qr(bo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),_(_o,yo),Qr(_o,"PROVIDER_ID","github.com"),Qr(_o,"GITHUB_SIGN_IN_METHOD","github.com"),_(To,yo),Qr(To,"PROVIDER_ID","google.com"),Qr(To,"GOOGLE_SIGN_IN_METHOD","google.com"),_(ko,go),Qr(ko,"PROVIDER_ID","twitter.com"),Qr(ko,"TWITTER_SIGN_IN_METHOD","twitter.com"),Co.prototype.ka=function(e){return this.signInMethod==Ao.EMAIL_LINK_SIGN_IN_METHOD?nu(e,As,{email:this.a,oobCode:this.f}):nu(e,Xs,{email:this.a,password:this.f})},Co.prototype.b=function(e,t){return this.signInMethod==Ao.EMAIL_LINK_SIGN_IN_METHOD?nu(e,xs,{idToken:t,email:this.a,oobCode:this.f}):nu(e,zs,{idToken:t,email:this.a,password:this.f})},Co.prototype.c=function(e,t){return uo(this.ka(e),t)},Co.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},$r(Ao,{PROVIDER_ID:"password"}),$r(Ao,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),$r(Ao,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Ro.prototype.ka=function(e){return e.gb(Oo(this))},Ro.prototype.b=function(e,t){var n=Oo(this);return n.idToken=t,nu(e,Zs,n)},Ro.prototype.c=function(e,t){var n=Oo(this);return n.operation="REAUTH",uo(e=nu(e,eu,n),t)},Ro.prototype.w=function(){var e={providerId:"phone"};return this.a.fb&&(e.verificationId=this.a.fb),this.a.eb&&(e.verificationCode=this.a.eb),this.a.La&&(e.temporaryProof=this.a.La),this.a.ea&&(e.phoneNumber=this.a.ea),e},Lo.prototype.gb=function(e,t){var n=this.a.a;return St(t.verify()).then((function(r){if("string"!=typeof r)throw new T("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(t.type){case"recaptcha":var i=p(e)?e.session:null,o=p(e)?e.phoneNumber:e;return(i&&i.type==oo?i.Ha().then((function(e){return function(e,t){return nu(e,Ws,t).then((function(e){return e.phoneSessionInfo.sessionInfo}))}(n,{idToken:e,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})})):i&&i.type==ao?i.Ha().then((function(t){return function(e,t){return nu(e,Hs,t).then((function(e){return e.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:t,mfaEnrollmentId:e.multiFactorHint&&e.multiFactorHint.uid||e.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(e,t){return nu(e,Vs,t)}(n,{phoneNumber:o,recaptchaToken:r})).then((function(e){return"function"==typeof t.reset&&t.reset(),e}),(function(e){throw"function"==typeof t.reset&&t.reset(),e}));default:throw new T("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},$r(Lo,{PROVIDER_ID:"phone"}),$r(Lo,{PHONE_SIGN_IN_METHOD:"phone"}),jo.prototype.getUid=function(){var e=[];return e.push(this.c),this.b&&e.push(this.b),this.f&&e.push(this.f),this.h&&e.push(this.h),e.join("-")},jo.prototype.T=function(){return this.h},jo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Bo,zo=null;function Ko(e){var t="unauthorized-domain",n=void 0,r=Fn(e);e=r.a,"chrome-extension"==(r=r.c)?n=qe("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):"http"==r||"https"==r?n=qe("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):t="operation-not-supported-in-this-environment",T.call(this,t,n)}function Wo(e,t,n){T.call(this,e,n),(e=t||{}).Kb&&Qr(this,"email",e.Kb),e.ea&&Qr(this,"phoneNumber",e.ea),e.credential&&Qr(this,"credential",e.credential),e.$b&&Qr(this,"tenantId",e.$b)}function Ho(e){if(e.code){var t=e.code||"";0==t.indexOf(S)&&(t=t.substring(S.length));var n={credential:Fo(e),$b:e.tenantId};if(e.email)n.Kb=e.email;else if(e.phoneNumber)n.ea=e.phoneNumber;else if(!n.credential)return new T(t,e.message||void 0);return new Wo(t,n,e.message)}return null}function Go(){}function Qo(e){return e.c||(e.c=e.b())}function $o(){}function Yo(e){if(!e.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<t.length;n++){var r=t[n];try{return new ActiveXObject(r),e.f=r}catch(aO){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return e.f}function Xo(){}function Jo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=b(this.qc,this),this.a.onerror=b(this.Tb,this),this.a.onprogress=b(this.rc,this),this.a.ontimeout=b(this.vc,this)}function Zo(e,t){e.readyState=t,e.onreadystatechange&&e.onreadystatechange()}function ea(e,t,n){this.reset(e,t,n,void 0,void 0)}function ta(e){this.f=e,this.b=this.c=this.a=null}function na(e,t){this.name=e,this.value=t}_(Ko,T),_(Wo,T),Wo.prototype.w=function(){var e={code:this.code,message:this.message};this.email&&(e.email=this.email),this.phoneNumber&&(e.phoneNumber=this.phoneNumber),this.tenantId&&(e.tenantId=this.tenantId);var t=this.credential&&this.credential.w();return t&&pe(e,t),e},Wo.prototype.toJSON=function(){return this.w()},Go.prototype.c=null,_($o,Go),$o.prototype.a=function(){var e=Yo(this);return e?new ActiveXObject(e):new XMLHttpRequest},$o.prototype.b=function(){var e={};return Yo(this)&&(e[0]=!0,e[1]=!0),e},Bo=new $o,_(Xo,Go),Xo.prototype.a=function(){var e=new XMLHttpRequest;if("withCredentials"in e)return e;if("undefined"!=typeof XDomainRequest)return new Jo;throw Error("Unsupported browser")},Xo.prototype.b=function(){return{}},(e=Jo.prototype).open=function(e,t,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(e,t)},e.send=function(e){if(e){if("string"!=typeof e)throw Error("Only string data is supported");this.a.send(e)}else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(e){return"content-type"==e.toLowerCase()?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Zo(this,4)},e.Tb=function(){this.status=500,this.response=this.responseText="",Zo(this,4)},e.vc=function(){this.Tb()},e.rc=function(){this.status=200,Zo(this,1)},e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},ea.prototype.a=null,ea.prototype.reset=function(e,t,n,r,i){delete this.a},na.prototype.toString=function(){return this.name};var ra=new na("SEVERE",1e3),ia=new na("WARNING",900),oa=new na("CONFIG",700),aa=new na("FINE",500);function sa(e){return e.c?e.c:e.a?sa(e.a):(D("Root logger has no level set."),null)}ta.prototype.log=function(e,t,n){if(e.value>=sa(this).value)for(d(t)&&(t=t()),e=new ea(e,String(t),this.f),n&&(e.a=n),n=this;n;)n=n.a};var ua={},ca=null;function la(e){var t;if(ca||(ca=new ta(""),ua[""]=ca,ca.c=oa),!(t=ua[e])){t=new ta(e);var n=e.lastIndexOf("."),r=e.substr(n+1);(n=la(e.substr(0,n))).b||(n.b={}),n.b[r]=t,t.a=n,ua[e]=t}return t}function ha(e,t){e&&e.log(aa,t,void 0)}function fa(e){this.f=e}function da(e){bn.call(this),this.u=e,this.h=void 0,this.readyState=pa,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=la("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}_(fa,Go),fa.prototype.a=function(){return new da(this.f)},fa.prototype.b=function(e){return function(){return e}}({}),_(da,bn);var pa=0;function va(e){e.c.read().then(e.pc.bind(e)).catch(e.Va.bind(e))}function ga(e){e.readyState=4,e.g=null,e.c=null,e.m=null,ma(e)}function ma(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function ya(e){bn.call(this),this.headers=new Cn,this.D=e||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=ba,this.u=this.S=!1}(e=da.prototype).open=function(e,t){if(this.readyState!=pa)throw this.abort(),Error("Error reopening a connection");this.s=e,this.f=t,this.readyState=1,ma(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var t={headers:this.l,method:this.s,credentials:this.h,cache:void 0};e&&(t.body=e),this.u.fetch(new Request(this.f,t)).then(this.uc.bind(this),this.Va.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ga(this)),this.readyState=pa},e.uc=function(e){this.a&&(this.g=e,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=e.headers,this.readyState=2,ma(this)),this.a&&(this.readyState=3,ma(this),this.a&&("arraybuffer"===this.responseType?e.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):void 0!==a.ReadableStream&&"body"in e?(this.response=this.responseText="",this.c=e.body.getReader(),this.m=new TextDecoder,va(this)):e.text().then(this.tc.bind(this),this.Va.bind(this)))))},e.pc=function(e){if(this.a){var t=this.m.decode(e.value?e.value:new Uint8Array(0),{stream:!e.done});t&&(this.response=this.responseText+=t),e.done?ga(this):ma(this),3==this.readyState&&va(this)}},e.tc=function(e){this.a&&(this.response=this.responseText=e,ga(this))},e.sc=function(e){this.a&&(this.response=e,ga(this))},e.Va=function(e){var t=this.i;t&&t.log(ia,"Failed to fetch url "+this.f,e instanceof Error?e:Error(e)),this.a&&ga(this)},e.setRequestHeader=function(e,t){this.l.append(e,t)},e.getResponseHeader=function(e){return this.b?this.b.get(e.toLowerCase())||"":((e=this.i)&&e.log(ia,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var e=this.i;return e&&e.log(ia,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}e=[];for(var t=this.b.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(da.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(e){this.h=e?"include":"same-origin"}}),_(ya,bn);var ba="";ya.prototype.b=la("goog.net.XhrIo");var wa=/^https?$/i,_a=["POST","PUT"];function Ea(e,t,n,r,i){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.l+"; newUri="+t);n=n?n.toUpperCase():"GET",e.l=t,e.h="",e.P=n,e.J=!1,e.c=!0,e.a=e.D?e.D.a():Bo.a(),e.C=e.D?Qo(e.D):Qo(Bo),e.a.onreadystatechange=b(e.Wb,e);try{ha(e.b,Pa(e,"Opening Xhr")),e.N=!0,e.a.open(n,String(t),!0),e.N=!1}catch(s){return ha(e.b,Pa(e,"Error opening Xhr: "+s.message)),void Ia(e,s)}t=r||"";var o=new Cn(e.headers);i&&function(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(f(e)||"string"==typeof e)V(e,t,void 0);else for(var n=Sn(e),r=kn(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(i,(function(e,t){o.set(t,e)})),i=function(e){e:{for(var t=Ta,n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(o.Y()),r=a.FormData&&t instanceof a.FormData,!W(_a,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(e,t){this.a.setRequestHeader(t,e)}),e),e.m&&(e.a.responseType=e.m),"withCredentials"in e.a&&e.a.withCredentials!==e.S&&(e.a.withCredentials=e.S);try{Na(e),0<e.g&&(e.u=function(e){return We&&rt(9)&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(e.a),ha(e.b,Pa(e,"Will abort after "+e.g+"ms if incomplete, xhr2 "+e.u)),e.u?(e.a.timeout=e.g,e.a.ontimeout=b(e.Ma,e)):e.s=Tn(e.Ma,e.g,e)),ha(e.b,Pa(e,"Sending request")),e.i=!0,e.a.send(t),e.i=!1}catch(s){ha(e.b,Pa(e,"Send error: "+s.message)),Ia(e,s)}}function Ta(e){return"content-type"==e.toLowerCase()}function Ia(e,t){e.c=!1,e.a&&(e.f=!0,e.a.abort(),e.f=!1),e.h=t,ka(e),Ca(e)}function ka(e){e.J||(e.J=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function Sa(e){if(e.c&&void 0!==o)if(e.C[1]&&4==Aa(e)&&2==xa(e))ha(e.b,Pa(e,"Local request error detected and ignored"));else if(e.i&&4==Aa(e))Tn(e.Wb,0,e);else if(e.dispatchEvent("readystatechange"),4==Aa(e)){ha(e.b,Pa(e,"Request complete")),e.c=!1;try{var t,n=xa(e);e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var s=String(e.l).match(xn)[1]||null;if(!s&&a.self&&a.self.location){var u=a.self.location.protocol;s=u.substr(0,u.length-1)}i=!wa.test(s?s.toLowerCase():"")}t=i}if(t)e.dispatchEvent("complete"),e.dispatchEvent("success");else{try{var c=2<Aa(e)?e.a.statusText:""}catch(l){ha(e.b,"Can not get status: "+l.message),c=""}e.h=c+" ["+xa(e)+"]",ka(e)}}finally{Ca(e)}}}function Ca(e,t){if(e.a){Na(e);var n=e.a,r=e.C[0]?l:null;e.a=null,e.C=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(aO){(e=e.b)&&e.log(ra,"Problem encountered resetting onreadystatechange: "+aO.message,void 0)}}}function Na(e){e.a&&e.u&&(e.a.ontimeout=null),e.s&&(a.clearTimeout(e.s),e.s=null)}function Aa(e){return e.a?e.a.readyState:0}function xa(e){try{return 2<Aa(e)?e.a.status:-1}catch(t){return-1}}function Pa(e,t){return t+" ["+e.P+" "+e.l+" "+xa(e)+"]"}function Ra(e){var t=za;this.g=[],this.u=t,this.s=e||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Da(e,t,n){e.a=!0,e.c=n,e.f=!t,Fa(e)}function Oa(e){if(e.a){if(!e.v)throw new Ua(e);e.v=!1}}function La(e,t,n,r){e.g.push([t,n,r]),e.a&&Fa(e)}function Ma(e){return K(e.g,(function(e){return d(e[1])}))}function Fa(e){if(e.h&&e.a&&Ma(e)){var t=e.h,n=Va[t];n&&(a.clearTimeout(n.a),delete Va[t]),e.h=0}e.b&&(e.b.l--,delete e.b),t=e.c;for(var r=n=!1;e.g.length&&!e.i;){var i=e.g.shift(),o=i[0],s=i[1];if(i=i[2],o=e.f?s:o)try{var u=o.call(i||e.s,t);void 0!==u&&(e.f=e.f&&(u==t||u instanceof Error),e.c=t=u),(x(t)||"function"==typeof a.Promise&&t instanceof a.Promise)&&(r=!0,e.i=!0)}catch(c){t=c,e.f=!0,Ma(e)||(n=!0)}}e.c=t,r&&(u=b(e.m,e,!0),r=b(e.m,e,!1),t instanceof Ra?(La(t,u,r),t.C=!0):t.then(u,r)),n&&(t=new qa(t),Va[t.a]=t,e.h=t.a)}function Ua(){P.call(this)}function ja(){P.call(this)}function qa(e){this.a=a.setTimeout(b(this.c,this),0),this.b=e}(e=ya.prototype).Ma=function(){void 0!==o&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ha(this.b,Pa(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},e.abort=function(){this.a&&this.c&&(ha(this.b,Pa(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Ca(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Ca(this,!0)),ya.bb.Da.call(this)},e.Wb=function(){this.ya||(this.N||this.i||this.f?Sa(this):this.Jc())},e.Jc=function(){Sa(this)},e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ba:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var e=this.b;return e&&e.log(ra,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return ha(this.b,"Can not get response: "+t.message),null}},Ra.prototype.cancel=function(e){if(this.a)this.c instanceof Ra&&this.c.cancel();else{if(this.b){var t=this.b;delete this.b,e?t.cancel(e):(t.l--,0>=t.l&&t.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(e=new ja(this),Oa(this),Da(this,!1,e))}},Ra.prototype.m=function(e,t){this.i=!1,Da(this,e,t)},Ra.prototype.then=function(e,t,n){var r,i,o=new bt((function(e,t){r=e,i=t}));return La(this,r,(function(e){e instanceof ja?o.cancel():i(e)})),o.then(e,t,n)},Ra.prototype.$goog_Thenable=!0,_(Ua,P),Ua.prototype.message="Deferred has already fired",Ua.prototype.name="AlreadyCalledError",_(ja,P),ja.prototype.message="Deferred was canceled",ja.prototype.name="CanceledError",qa.prototype.c=function(){throw delete Va[this.a],this.b};var Va={};function Ba(e){var t,n=document,r=Te(e).toString(),i=dt(document,"SCRIPT"),o={Xb:i,Ma:void 0},s=new Ra(o);return t=window.setTimeout((function(){Ka(i,!0);var e=new Ga(Ha,"Timeout reached for loading script "+r);Oa(s),Da(s,!1,e)}),5e3),o.Ma=t,i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Ka(i,!1,t),Oa(s),Da(s,!0,null))},i.onerror=function(){Ka(i,!0,t);var e=new Ga(Wa,"Error while loading script "+r);Oa(s),Da(s,!1,e)},pe(o={},{type:"text/javascript",charset:"UTF-8"}),ut(i,o),function(e,t){ve(e,"HTMLScriptElement"),e.src=Te(t),(t=e.ownerDocument&&e.ownerDocument.defaultView)&&t!=a?t=c(t.document):(null===u&&(u=c(a.document)),t=u),t&&e.setAttribute("nonce",t)}(i,e),function(e){var t;return(t=(e||document).getElementsByTagName("HEAD"))&&0!=t.length?t[0]:e.documentElement}(n).appendChild(i),s}function za(){if(this&&this.Xb){var e=this.Xb;e&&"SCRIPT"==e.tagName&&Ka(e,!0,this.Ma)}}function Ka(e,t,n){null!=n&&a.clearTimeout(n),e.onload=l,e.onerror=l,e.onreadystatechange=l,t&&window.setTimeout((function(){e&&e.parentNode&&e.parentNode.removeChild(e)}),0)}var Wa=0,Ha=1;function Ga(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),P.call(this,n),this.code=e}function Qa(e){this.f=e}function $a(e,t,n){if(this.c=e,e=t||{},this.l=e.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=e.secureTokenTimeout||Ja,this.g=fe(e.secureTokenHeaders||Za),this.h=e.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=e.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=e.firebaseTimeout||es,this.a=fe(e.firebaseHeaders||ts),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==wr(),!(n=a.XMLHttpRequest||n&&Gf.INTERNAL.node&&Gf.INTERNAL.node.XMLHttpRequest)&&!br())throw new T("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,br()?this.f=new fa(self):_r()?this.f=new Qa(n):this.f=new Xo,this.b=null}_(Ga,P),_(Qa,Go),Qa.prototype.a=function(){return new this.f},Qa.prototype.b=function(){return{}};var Ya,Xa="idToken",Ja=new qr(3e4,6e4),Za={"Content-Type":"application/x-www-form-urlencoded"},es=new qr(3e4,6e4),ts={"Content-Type":"application/json"};function ns(e,t){t?e.a["X-Firebase-Locale"]=t:delete e.a["X-Firebase-Locale"]}function rs(e,t){t&&(e.l=is("https://securetoken.googleapis.com/v1/token",t),e.h=is("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",t),e.i=is("https://identitytoolkit.googleapis.com/v2/",t))}function is(e,t){return e=Fn(e),t=Fn(t.url),e.f=e.a+e.f,Rn(e,t.c),e.a=t.a,Dn(e,t.g),e.toString()}function os(e,t){t?(e.a["X-Client-Version"]=t,e.g["X-Client-Version"]=t):(delete e.a["X-Client-Version"],delete e.g["X-Client-Version"])}function as(e,t,n,r,i,o,s){(function(){var e=Cr();return!((e=Ir(e)!=Tr?null:(e=e.match(/\sChrome\/(\d+)/i))&&2==e.length?parseInt(e[1],10):null)&&30>e||We&&ot&&!(9<ot))})()||br()?e=b(e.u,e):(Ya||(Ya=new bt((function(e,t){!function(e,t){if(((window.gapi||{}).client||{}).request)e();else{a[us]=function(){((window.gapi||{}).client||{}).request?e():t(Error("CORS_UNSUPPORTED"))},function(e,t){La(e,null,t,void 0)}(Ba(Ie(ss,{onload:us})),(function(){t(Error("CORS_UNSUPPORTED"))}))}}(e,t)}))),e=b(e.s,e)),e(t,n,r,i,o,s)}$a.prototype.T=function(){return this.b},$a.prototype.u=function(e,t,n,r,i,o){if(br()&&(void 0===a.fetch||void 0===a.Headers||void 0===a.Request))throw new T("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s=new ya(this.f);if(o){s.g=Math.max(0,o);var u=setTimeout((function(){s.dispatchEvent("timeout")}),o)}wn(s,"complete",(function(){u&&clearTimeout(u);var e=null;try{e=JSON.parse(function(e){try{return e.a?e.a.responseText:""}catch(t){return ha(e.b,"Can not get responseText: "+t.message),""}}(this))||null}catch(n){e=null}t&&t(e)})),_n(s,"ready",(function(){u&&clearTimeout(u),zt(this)})),_n(s,"timeout",(function(){u&&clearTimeout(u),zt(this),t&&t(null)})),Ea(s,e,n,r,i)};var ss=new ge(we,"https://apis.google.com/js/client.js?onload=%{onload}"),us="__fcb"+Math.floor(1e6*Math.random()).toString();function cs(e,t,n,r,i,o,a){var s=Fn(t+n);Ln(s,"key",e.c),a&&Ln(s,"cb",Date.now().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Ln(s,c,i[c]);return new bt((function(t,n){as(e,s.toString(),(function(e){e?e.error?n(iu(e,o||{})):t(e):n(new T("network-request-failed"))}),r,u?void 0:tr(Lr(i)),e.a,e.v.get())}))}function ls(e){if("string"!=typeof(e=e.email)||!vr.test(e))throw new T("invalid-email")}function hs(e){"email"in e&&ls(e)}function fs(e){if(!e[Xa]){if(e.mfaPendingCredential)throw new T("multi-factor-auth-required",null,fe(e));throw new T("internal-error")}}function ds(e){if(e.phoneNumber||e.temporaryProof){if(!e.phoneNumber||!e.temporaryProof)throw new T("internal-error")}else{if(!e.sessionInfo)throw new T("missing-verification-id");if(!e.code)throw new T("missing-verification-code")}}$a.prototype.s=function(e,t,n,r,i){var o=this;Ya.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:e,method:n,body:r,headers:i,authType:"none",callback:function(e){window.gapi.auth.setToken(a),t&&t(e)}})})).o((function(e){t&&t({error:{message:e&&e.message||"CORS_UNSUPPORTED"}})}))},$a.prototype.Ab=function(){return nu(this,Ks,{})},$a.prototype.Cb=function(e,t){return nu(this,Bs,{idToken:e,email:t})},$a.prototype.Db=function(e,t){return nu(this,zs,{idToken:e,password:t})};var ps={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function vs(e){if(!e.phoneVerificationInfo)throw new T("internal-error");if(!e.phoneVerificationInfo.sessionInfo)throw new T("missing-verification-id");if(!e.phoneVerificationInfo.code)throw new T("missing-verification-code")}function gs(e){if(!e.requestUri||!e.sessionId&&!e.postBody&&!e.pendingToken)throw new T("internal-error")}function ms(e,t){return t.oauthIdToken&&t.providerId&&0==t.providerId.indexOf("oidc.")&&!t.pendingToken&&(e.sessionId?t.nonce=e.sessionId:e.postBody&&(Xn(e=new Gn(e.postBody),"nonce")&&(t.nonce=e.get("nonce")))),t}function ys(e){var t=null;if(e.needConfirmation?(e.code="account-exists-with-different-credential",t=Ho(e)):"FEDERATED_USER_ID_ALREADY_LINKED"==e.errorMessage?(e.code="credential-already-in-use",t=Ho(e)):"EMAIL_EXISTS"==e.errorMessage?(e.code="email-already-in-use",t=Ho(e)):e.errorMessage&&(t=ru(e.errorMessage)),t)throw t;fs(e)}function bs(e,t){return t.returnIdpCredential=!0,nu(e,Gs,t)}function ws(e,t){return t.returnIdpCredential=!0,nu(e,$s,t)}function _s(e,t){return t.returnIdpCredential=!0,t.autoCreate=!1,nu(e,Qs,t)}function Es(e){if(!e.oobCode)throw new T("invalid-action-code")}(e=$a.prototype).Eb=function(e,t){var n={idToken:e},r=[];return le(ps,(function(e,i){var o=t[i];null===o?r.push(e):i in t&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),nu(this,Bs,n)},e.wb=function(e,t){return pe(e={requestType:"PASSWORD_RESET",email:e},t),nu(this,Fs,e)},e.xb=function(e,t){return pe(e={requestType:"EMAIL_SIGNIN",email:e},t),nu(this,Os,e)},e.vb=function(e,t){return pe(e={requestType:"VERIFY_EMAIL",idToken:e},t),nu(this,Ls,e)},e.Fb=function(e,t,n){return pe(e={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:e,newEmail:t},n),nu(this,Ms,e)},e.gb=function(e){return nu(this,Js,e)},e.ob=function(e,t){return nu(this,qs,{oobCode:e,newPassword:t})},e.Sa=function(e){return nu(this,Is,{oobCode:e})},e.kb=function(e){return nu(this,Ts,{oobCode:e})};var Ts={endpoint:"setAccountInfo",A:Es,Z:"email",B:!0},Is={endpoint:"resetPassword",A:Es,G:function(e){var t=e.requestType;if(!t||!e.email&&"EMAIL_SIGNIN"!=t&&"VERIFY_AND_CHANGE_EMAIL"!=t)throw new T("internal-error")},B:!0},ks={endpoint:"signupNewUser",A:function(e){if(ls(e),!e.password)throw new T("weak-password")},G:fs,V:!0,B:!0},Ss={endpoint:"createAuthUri",B:!0},Cs={endpoint:"deleteAccount",O:["idToken"]},Ns={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(e){if(!Array.isArray(e.deleteProvider))throw new T("internal-error")}},As={endpoint:"emailLinkSignin",O:["email","oobCode"],A:ls,G:fs,V:!0,B:!0},xs={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:ls,G:fs,V:!0},Ps={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:vs,G:fs,B:!0,Na:!0},Rs={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:vs,G:fs,B:!0,Na:!0},Ds={endpoint:"getAccountInfo"},Os={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(e){if("EMAIL_SIGNIN"!=e.requestType)throw new T("internal-error");ls(e)},Z:"email",B:!0},Ls={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(e){if("VERIFY_EMAIL"!=e.requestType)throw new T("internal-error")},Z:"email",B:!0},Ms={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(e){if("VERIFY_AND_CHANGE_EMAIL"!=e.requestType)throw new T("internal-error")},Z:"email",B:!0},Fs={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(e){if("PASSWORD_RESET"!=e.requestType)throw new T("internal-error");ls(e)},Z:"email",B:!0},Us={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},js={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(e){if(!e.recaptchaSiteKey)throw new T("internal-error")}},qs={endpoint:"resetPassword",A:Es,Z:"email",B:!0},Vs={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Bs={endpoint:"setAccountInfo",O:["idToken"],A:hs,V:!0},zs={endpoint:"setAccountInfo",O:["idToken"],A:function(e){if(hs(e),!e.password)throw new T("weak-password")},G:fs,V:!0},Ks={endpoint:"signupNewUser",G:fs,V:!0,B:!0},Ws={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(e){if(!e.phoneEnrollmentInfo)throw new T("internal-error");if(!e.phoneEnrollmentInfo.phoneNumber)throw new T("missing-phone-number");if(!e.phoneEnrollmentInfo.recaptchaToken)throw new T("missing-app-credential")},G:function(e){if(!e.phoneSessionInfo||!e.phoneSessionInfo.sessionInfo)throw new T("internal-error")},B:!0,Na:!0},Hs={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(e){if(!e.phoneSignInInfo||!e.phoneSignInInfo.recaptchaToken)throw new T("missing-app-credential")},G:function(e){if(!e.phoneResponseInfo||!e.phoneResponseInfo.sessionInfo)throw new T("internal-error")},B:!0,Na:!0},Gs={endpoint:"verifyAssertion",A:gs,Za:ms,G:ys,V:!0,B:!0},Qs={endpoint:"verifyAssertion",A:gs,Za:ms,G:function(e){if(e.errorMessage&&"USER_NOT_FOUND"==e.errorMessage)throw new T("user-not-found");if(e.errorMessage)throw ru(e.errorMessage);fs(e)},V:!0,B:!0},$s={endpoint:"verifyAssertion",A:function(e){if(gs(e),!e.idToken)throw new T("internal-error")},Za:ms,G:ys,V:!0},Ys={endpoint:"verifyCustomToken",A:function(e){if(!e.token)throw new T("invalid-custom-token")},G:fs,V:!0,B:!0},Xs={endpoint:"verifyPassword",A:function(e){if(ls(e),!e.password)throw new T("wrong-password")},G:fs,V:!0,B:!0},Js={endpoint:"verifyPhoneNumber",A:ds,G:fs,B:!0},Zs={endpoint:"verifyPhoneNumber",A:function(e){if(!e.idToken)throw new T("internal-error");ds(e)},G:function(e){if(e.temporaryProof)throw e.code="credential-already-in-use",Ho(e);fs(e)}},eu={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:ds,G:fs,B:!0},tu={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(e){if(!!e[Xa]^!!e.refreshToken)throw new T("internal-error")},B:!0,Na:!0};function nu(e,t,n){if(!function(e,t){if(!t||!t.length)return!0;if(!e)return!1;for(var n=0;n<t.length;n++){var r=e[t[n]];if(null==r||""===r)return!1}return!0}(n,t.O))return Ct(new T("internal-error"));var r,i=!!t.Na,o=t.Vb||"POST";return St(n).then(t.A).then((function(){return t.V&&(n.returnSecureToken=!0),t.B&&e.b&&void 0===n.tenantId&&(n.tenantId=e.b),cs(e,i?e.i:e.h,t.endpoint,o,n,t.Ib,t.mb||!1)})).then((function(e){return r=e,t.Za?t.Za(n,r):r})).then(t.G).then((function(){if(!t.Z)return r;if(!(t.Z in r))throw new T("internal-error");return r[t.Z]}))}function ru(e){return iu({error:{errors:[{message:e}],code:400,message:e}})}function iu(e,t){var n=(e.error&&e.error.errors&&e.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new T(r[n]):null)return n;for(var i in n=e.error&&e.error.message||"",pe(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},t||{}),t=(t=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<t.length?t[1]:void 0,r)if(0===n.indexOf(i))return new T(r[i],t);return!t&&e&&(t=Or(e)),new T("internal-error",t)}function ou(e){this.b=e,this.a=null,this.sb=function(e){return(cu||(cu=new bt((function(e,t){function n(){jr(),Nr("gapi.load")("gapi.iframes",{callback:e,ontimeout:function(){jr(),t(Error("Network Error"))},timeout:su.get()})}if(Nr("gapi.iframes.Iframe"))e();else if(Nr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();a[r]=function(){Nr("gapi.load")?n():t(Error("Network Error"))},St(Ba(r=Ie(au,{onload:r}))).o((function(){t(Error("Network Error"))}))}})).o((function(e){throw cu=null,e})))).then((function(){return new bt((function(t,n){Nr("gapi.iframes.getContext")().open({where:document.body,url:e.b,messageHandlersFilter:Nr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),t()}e.a=r,e.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),uu.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var au=new ge(we,"https://apis.google.com/js/api.js?onload=%{onload}"),su=new qr(3e4,6e4),uu=new qr(5e3,15e3),cu=null;function lu(e,t,n,r){this.l=e,this.h=t,this.i=n,this.g=r,this.f=null,this.g?e=Un((e=Fn(this.g.url)).c,e.a,e.g,"/emulator/auth/iframe"):e=Un("https",this.l,null,"/__/auth/iframe"),this.a=e,Ln(this.a,"apiKey",this.h),Ln(this.a,"appName",this.i),this.b=null,this.c=[]}function hu(e,t,n,r,i,o){this.u=e,this.s=t,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function fu(e){try{return Gf.app(e).auth().Ga()}catch(t){return[]}}function du(e,t,n,r,i,o){this.s=e,this.g=t,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function pu(e){var t=ur();return function(e){return nu(e,Us,{}).then((function(e){return e.authorizedDomains||[]}))}(e).then((function(e){e:{var n=Fn(t),r=n.c;n=n.a;for(var i=0;i<e.length;i++){var o=e[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=Fn(o).a==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:pr.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){e=!0;break e}}e=!1}if(!e)throw new Ko(ur())}))}function vu(e){return e.m||(e.m=gr().then((function(){if(!e.u){var t=e.c,n=e.i,r=fu(e.b),i=new lu(e.s,e.g,e.b,e.f);i.f=t,i.b=n,i.c=$(r||[]),e.u=i.toString()}e.v=new ou(e.u),function(e){if(!e.v)throw Error("IfcHandler must be initialized!");!function(e,t){e.sb.then((function(){e.a.register("authEvent",t,Nr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(e.v,(function(t){var n={};if(t&&t.authEvent){var r=!1;for(t=qo(t.authEvent),n=0;n<e.h.length;n++)r=e.h[n](t)||r;return(n={}).status=r?"ACK":"ERROR",St(n)}return n.status="ERROR",St(n)}))}(e)}))),e.m}function gu(e){return e.l||(e.C=e.c?Sr(e.c,fu(e.b)):null,e.l=new $a(e.g,A(e.i),e.C),e.f&&rs(e.l,e.f)),e.l}function mu(e,t,n,r,i,o,a,s,u,c,l,h){return(e=new hu(e,t,n,r,i,h)).l=o,e.g=a,e.i=s,e.b=fe(u||null),e.f=c,e.zb(l).toString()}function yu(e){if(this.a=e||Gf.INTERNAL.reactNative&&Gf.INTERNAL.reactNative.AsyncStorage,!this.a)throw new T("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function bu(e){this.b=e,this.a={},this.f=b(this.c,this)}lu.prototype.toString=function(){return this.f?Ln(this.a,"v",this.f):Yn(this.a.b,"v"),this.b?Ln(this.a,"eid",this.b):Yn(this.a.b,"eid"),this.c.length?Ln(this.a,"fw",this.c.join(",")):Yn(this.a.b,"fw"),this.a.toString()},hu.prototype.zb=function(e){return this.h=e,this},hu.prototype.toString=function(){if(this.v){var e=Fn(this.v.url);e=Un(e.c,e.a,e.g,"/emulator/auth/handler")}else e=Un("https",this.u,null,"/__/auth/handler");if(Ln(e,"apiKey",this.s),Ln(e,"appName",this.c),Ln(e,"authType",this.m),this.a.isOAuthProvider){var t=this.a;try{var n=Gf.app(this.c).auth().la()}catch(s){n=null}for(var r in t.pb=n,Ln(e,"providerId",this.a.providerId),t=Lr((n=this.a).Jb))t[r]=t[r].toString();r=n.Qc,t=fe(t);for(var i=0;i<r.length;i++){var o=r[i];o in t&&delete t[o]}n.qb&&n.pb&&!t[n.qb]&&(t[n.qb]=n.pb),he(t)||Ln(e,"customParameters",Or(t))}if("function"==typeof this.a.Rb&&((n=this.a.Rb()).length&&Ln(e,"scopes",n.join(","))),this.l?Ln(e,"redirectUrl",this.l):Yn(e.b,"redirectUrl"),this.g?Ln(e,"eventId",this.g):Yn(e.b,"eventId"),this.i?Ln(e,"v",this.i):Yn(e.b,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Mn(e,a)&&Ln(e,a,this.b[a]);return this.h?Ln(e,"tid",this.h):Yn(e.b,"tid"),this.f?Ln(e,"eid",this.f):Yn(e.b,"eid"),(a=fu(this.c)).length&&Ln(e,"fw",a.join(",")),e.toString()},(e=du.prototype).Pb=function(e,t,n){var r=new T("popup-closed-by-user"),i=new T("web-storage-unsupported"),o=this,a=!1;return this.ma().then((function(){(function(e){var t={type:"webStorageSupport"};return vu(e).then((function(){return function(e,t){return e.sb.then((function(){return new bt((function(n){e.a.send(t.type,t,n,Nr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(e.v,t)})).then((function(e){if(e&&e.length&&void 0!==e[0].webStorageSupport)return e[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(e&&fr(e),t(i),a=!0)}))})).o((function(){})).then((function(){if(!a)return function(e){return new bt((function(t){return function n(){In(2e3).then((function(){if(e&&!e.closed)return n();t()}))}()}))}(e)})).then((function(){if(!a)return In(n).then((function(){t(r)}))}))},e.Yb=function(){var e=Cr();return!Dr(e)&&!Ur(e)},e.Ub=function(){return!1},e.Nb=function(e,t,n,r,i,o,a,s){if(!e)return Ct(new T("popup-blocked"));if(a&&!Dr())return this.ma().o((function(t){fr(e),i(t)})),r(),St();this.a||(this.a=pu(gu(this)));var u=this;return this.a.then((function(){var t=u.ma().o((function(t){throw fr(e),i(t),t}));return r(),t})).then((function(){(Uo(n),a)||cr(mu(u.s,u.g,u.b,t,n,null,o,u.c,void 0,u.i,s,u.f),e)})).o((function(e){throw"auth/network-request-failed"==e.code&&(u.a=null),e}))},e.Ob=function(e,t,n,r){this.a||(this.a=pu(gu(this)));var i=this;return this.a.then((function(){Uo(t),cr(mu(i.s,i.g,i.b,e,t,ur(),n,i.c,void 0,i.i,r,i.f))})).o((function(e){throw"auth/network-request-failed"==e.code&&(i.a=null),e}))},e.ma=function(){var e=this;return vu(this).then((function(){return e.v.sb})).o((function(){throw e.a=null,new T("network-request-failed")}))},e.ac=function(){return!0},e.Ea=function(e){this.h.push(e)},e.Ta=function(e){G(this.h,(function(t){return t==e}))},(e=yu.prototype).get=function(e){return St(this.a.getItem(e)).then((function(e){return e&&Mr(e)}))},e.set=function(e,t){return St(this.a.setItem(e,Or(t)))},e.U=function(e){return St(this.a.removeItem(e))},e.ca=function(){},e.ia=function(){};var wu,_u=[];function Eu(e,t,n){he(e.a)&&e.b.addEventListener("message",e.f),void 0===e.a[t]&&(e.a[t]=[]),e.a[t].push(n)}function Tu(e){this.a=e}function Iu(e){this.c=e,this.b=!1,this.a=[]}function ku(e,t,n,r){var i,o,a,s,u=n||{},c=null;if(e.b)return Ct(Error("connection_unavailable"));var l=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new bt((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),l),c={messageChannel:h,onMessage:o=function(e){e.data.eventId===i&&("ack"===e.data.status?(clearTimeout(a),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===e.data.status?(clearTimeout(s),void 0!==e.data.response?n(e.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))}},e.a.push(c),h.port1.addEventListener("message",o),e.c.postMessage({eventType:t,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))})).then((function(t){return Su(e,c),t})).o((function(t){throw Su(e,c),t}))}function Su(e,t){if(t){var n=t.messageChannel,r=t.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),G(e.a,(function(e){return e==t}))}}function Cu(){if(!Pu())throw new T("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=a.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var e=this;br()&&self?(this.v=function(){var e=br()?self:null;if(V(_u,(function(n){n.b==e&&(t=n)})),!t){var t=new bu(e);_u.push(t)}return t}(),Eu(this.v,"keyChanged",(function(t,n){return Mu(e).then((function(t){return 0<t.length&&V(e.a,(function(e){e(t)})),{keyProcessed:W(t,n.key)}}))})),Eu(this.v,"ping",(function(){return St(["keyChanged"])}))):function(){var e=a.navigator;return e&&e.serviceWorker?St().then((function(){return e.serviceWorker.ready})).then((function(e){return e.active||null})).o((function(){return null})):St(null)}().then((function(t){(e.h=t)&&(e.g=new Iu(new Tu(t)),ku(e.g,"ping",null,!0).then((function(t){t[0].fulfilled&&W(t[0].value,"keyChanged")&&(e.s=!0)})).o((function(){})))}))}function Nu(e){return new bt((function(t,n){var r=e.m.open("firebaseLocalStorageDb",1);r.onerror=function(e){try{e.preventDefault()}catch(t){}n(Error(e.target.error))},r.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?t(r):function(e){return new bt((function(t,n){var r=e.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){t()},r.onerror=function(e){n(Error(e.target.error))}}))}(e).then((function(){return Nu(e)})).then((function(e){t(e)})).o((function(e){n(e)}))}}))}function Au(e){return e.i||(e.i=Nu(e)),e.i}function xu(e,t){var n=0;return new bt((function r(i,o){Au(e).then(t).then(i).o((function(t){if(!(3<++n))return Au(e).then((function(t){return t.close(),e.i=void 0,r(i,o)})).o((function(e){o(e)}));o(t)}))}))}function Pu(){try{return!!a.indexedDB}catch(tt){return!1}}function Ru(e){return e.objectStore("firebaseLocalStorage")}function Du(e,t){return e.transaction(["firebaseLocalStorage"],t?"readwrite":"readonly")}function Ou(e){return new bt((function(t,n){e.onsuccess=function(e){e&&e.target?t(e.target.result):t()},e.onerror=function(e){n(e.target.error)}}))}function Lu(e,t){return e.g&&e.h&&function(){var e=a.navigator;return e&&e.serviceWorker&&e.serviceWorker.controller||null}()===e.h?ku(e.g,"keyChanged",{key:t},e.s).then((function(){})).o((function(){})):St()}function Mu(e){return Au(e).then((function(e){var t=Ru(Du(e,!1));return t.getAll?Ou(t.getAll()):new bt((function(e,n){var r=[],i=t.openCursor();i.onsuccess=function(t){(t=t.target.result)?(r.push(t.value),t.continue()):e(r)},i.onerror=function(e){n(e.target.error)}}))})).then((function(t){var n={},r=[];if(0==e.b){for(r=0;r<t.length;r++)n[t[r].fbase_key]=t[r].value;r=lr(e.c,n),e.c=n}return r}))}function Fu(e){e.l&&e.l.cancel("STOP_EVENT"),e.f&&(clearTimeout(e.f),e.f=null)}function Uu(e){var t=this,n=null;this.a=[],this.type="indexedDB",this.c=e,this.b=St().then((function(){if(Pu()){var e=Fr(),r="__sak"+e;return wu||(wu=new Cu),(n=wu).set(r,e).then((function(){return n.get(r)})).then((function(t){if(t!==e)throw Error("indexedDB not supported!");return n.U(r)})).then((function(){return n})).o((function(){return t.c}))}return t.c})).then((function(e){return t.type=e.type,e.ca((function(e){V(t.a,(function(t){t(e)}))})),e}))}function ju(){this.a={},this.type="inMemory"}function qu(){if(!function(){var e="Node"==wr();if(!(e=Vu()||e&&Gf.INTERNAL.node&&Gf.INTERNAL.node.localStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==wr())throw new T("internal-error","The LocalStorage compatibility library was not found.");throw new T("web-storage-unsupported")}this.a=Vu()||Gf.INTERNAL.node.localStorage,this.type="localStorage"}function Vu(){try{var e=a.localStorage,t=Fr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(n){return null}}function Bu(){this.type="nullStorage"}function zu(){if(!function(){var e="Node"==wr();if(!(e=Ku()||e&&Gf.INTERNAL.node&&Gf.INTERNAL.node.sessionStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==wr())throw new T("internal-error","The SessionStorage compatibility library was not found.");throw new T("web-storage-unsupported")}this.a=Ku()||Gf.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Ku(){try{var e=a.sessionStorage,t=Fr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(n){return null}}function Wu(){var e={};e.Browser=Qu,e.Node=$u,e.ReactNative=Yu,e.Worker=Xu,this.a=e[wr()]}bu.prototype.c=function(e){var t=e.data.eventType,n=e.data.eventId,r=this.a[t];if(r&&0<r.length){e.ports[0].postMessage({status:"ack",eventId:n,eventType:t,response:null});var i=[];V(r,(function(t){i.push(St().then((function(){return t(e.origin,e.data.data)})))})),At(i).then((function(r){var i=[];V(r,(function(e){i.push({fulfilled:e.Qb,value:e.value,reason:e.reason?e.reason.message:void 0})})),V(i,(function(e){for(var t in e)void 0===e[t]&&delete e[t]})),e.ports[0].postMessage({status:"done",eventId:n,eventType:t,response:i})}))}},Tu.prototype.postMessage=function(e,t){this.a.postMessage(e,t)},Iu.prototype.close=function(){for(;0<this.a.length;)Su(this,this.a[0]);this.b=!0},(e=Cu.prototype).set=function(e,t){var n=this,r=!1;return xu(this,(function(t){return Ou((t=Ru(Du(t,!0))).get(e))})).then((function(i){return xu(n,(function(o){if(o=Ru(Du(o,!0)),i)return i.value=t,Ou(o.put(i));n.b++,r=!0;var a={};return a.fbase_key=e,a.value=t,Ou(o.add(a))}))})).then((function(){return n.c[e]=t,Lu(n,e)})).oa((function(){r&&n.b--}))},e.get=function(e){return xu(this,(function(t){return Ou(Ru(Du(t,!1)).get(e))})).then((function(e){return e&&e.value}))},e.U=function(e){var t=this,n=!1;return xu(this,(function(r){return n=!0,t.b++,Ou(Ru(Du(r,!0)).delete(e))})).then((function(){return delete t.c[e],Lu(t,e)})).oa((function(){n&&t.b--}))},e.ca=function(e){0==this.a.length&&function(e){function t(){e.f=setTimeout((function(){e.l=Mu(e).then((function(t){0<t.length&&V(e.a,(function(e){e(t)}))})).then((function(){t()})).o((function(e){"STOP_EVENT"!=e.message&&t()}))}),800)}Fu(e),t()}(this),this.a.push(e)},e.ia=function(e){G(this.a,(function(t){return t==e})),0==this.a.length&&Fu(this)},(e=Uu.prototype).get=function(e){return this.b.then((function(t){return t.get(e)}))},e.set=function(e,t){return this.b.then((function(n){return n.set(e,t)}))},e.U=function(e){return this.b.then((function(t){return t.U(e)}))},e.ca=function(e){this.a.push(e)},e.ia=function(e){G(this.a,(function(t){return t==e}))},(e=ju.prototype).get=function(e){return St(this.a[e])},e.set=function(e,t){return this.a[e]=t,St()},e.U=function(e){return delete this.a[e],St()},e.ca=function(){},e.ia=function(){},(e=qu.prototype).get=function(e){var t=this;return St().then((function(){return Mr(t.a.getItem(e))}))},e.set=function(e,t){var n=this;return St().then((function(){var r=Or(t);null===r?n.U(e):n.a.setItem(e,r)}))},e.U=function(e){var t=this;return St().then((function(){t.a.removeItem(e)}))},e.ca=function(e){a.window&&sn(a.window,"storage",e)},e.ia=function(e){a.window&&ln(a.window,"storage",e)},(e=Bu.prototype).get=function(){return St(null)},e.set=function(){return St()},e.U=function(){return St()},e.ca=function(){},e.ia=function(){},(e=zu.prototype).get=function(e){var t=this;return St().then((function(){return Mr(t.a.getItem(e))}))},e.set=function(e,t){var n=this;return St().then((function(){var r=Or(t);null===r?n.U(e):n.a.setItem(e,r)}))},e.U=function(e){var t=this;return St().then((function(){t.a.removeItem(e)}))},e.ca=function(){},e.ia=function(){};var Hu,Gu,Qu={F:qu,cb:zu},$u={F:qu,cb:zu},Yu={F:yu,cb:Bu},Xu={F:qu,cb:Bu},Ju={rd:"local",NONE:"none",td:"session"};function Zu(){var e=!(Ur(Cr())||!yr()),t=Dr(),n=Ar();this.m=e,this.h=t,this.l=n,this.a={},Hu||(Hu=new Wu),e=Hu;try{this.g=!sr()&&zr()||!a.indexedDB?new e.a.F:new Uu(br()?new ju:new e.a.F)}catch(r){this.g=new ju,this.h=!0}try{this.i=new e.a.cb}catch(r){this.i=new ju}this.v=new ju,this.f=b(this.Zb,this),this.b={}}function ec(){return Gu||(Gu=new Zu),Gu}function tc(e,t){switch(t){case"session":return e.i;case"none":return e.v;default:return e.g}}function nc(e,t){return"firebase:"+e.name+(t?":"+t:"")}function rc(e,t,n){return n=nc(t,n),"local"==t.F&&(e.b[n]=null),tc(e,t.F).U(n)}function ic(e){e.c&&(clearInterval(e.c),e.c=null)}function oc(e){this.a=e,this.b=ec()}(e=Zu.prototype).get=function(e,t){return tc(this,e.F).get(nc(e,t))},e.set=function(e,t,n){var r=nc(e,n),i=this,o=tc(this,e.F);return o.set(r,t).then((function(){return o.get(r)})).then((function(t){"local"==e.F&&(i.b[r]=t)}))},e.addListener=function(e,t,n){e=nc(e,t),this.l&&(this.b[e]=a.localStorage.getItem(e)),he(this.a)&&(tc(this,"local").ca(this.f),this.h||(sr()||!zr())&&a.indexedDB||!this.l||function(e){ic(e),e.c=setInterval((function(){for(var t in e.a){var n=a.localStorage.getItem(t),r=e.b[t];n!=r&&(e.b[t]=n,n=new $t({type:"storage",key:t,target:window,oldValue:r,newValue:n,a:!0}),e.Zb(n))}}),1e3)}(this)),this.a[e]||(this.a[e]=[]),this.a[e].push(n)},e.removeListener=function(e,t,n){e=nc(e,t),this.a[e]&&(G(this.a[e],(function(e){return e==n})),0==this.a[e].length&&delete this.a[e]),he(this.a)&&(tc(this,"local").ia(this.f),ic(this))},e.Zb=function(e){if(e&&e.g){var t=e.a.key;if(null==t)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=a.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.nb(n))}else if(0==t.indexOf("firebase:")&&this.a[t]){if(void 0!==e.a.a?tc(this,"local").ia(this.f):ic(this),this.m)if(n=a.localStorage.getItem(t),(r=e.a.newValue)!==n)null!==r?a.localStorage.setItem(t,r):a.localStorage.removeItem(t);else if(this.b[t]===r&&void 0===e.a.a)return;var o=this;n=function(){void 0===e.a.a&&o.b[t]===a.localStorage.getItem(t)||(o.b[t]=a.localStorage.getItem(t),o.nb(t))},We&&ot&&10==ot&&a.localStorage.getItem(t)!==e.a.newValue&&e.a.newValue!==e.a.oldValue?setTimeout(n,10):n()}}else V(e,b(this.nb,this))},e.nb=function(e){this.a[e]&&V(this.a[e],(function(e){e()}))};var ac,sc={name:"authEvent",F:"local"};function uc(){this.a=ec()}function cc(e,t){this.b=lc,this.f=a.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=e,this.h=t,this.l=a.Int32Array?new Int32Array(64):Array(64),void 0===ac&&(ac=a.Int32Array?new Int32Array(mc):mc),this.reset()}_(cc,(function(){this.b=-1}));for(var lc=64,hc=lc-1,fc=[],dc=0;dc<hc;dc++)fc[dc]=0;var pc=Q(128,fc);function vc(e){for(var t=e.f,n=e.l,r=0,i=0;i<t.length;)n[r++]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i=4*r;for(t=16;64>t;t++){i=0|n[t-15],r=0|n[t-2];var o=(0|n[t-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[t-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[t]=o+a|0}r=0|e.a[0],i=0|e.a[1];var s=0|e.a[2],u=0|e.a[3],c=0|e.a[4],l=0|e.a[5],h=0|e.a[6];for(o=0|e.a[7],t=0;64>t;t++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&h)+(0|ac[t])|0)+(0|n[t])|0)|0,o=h,h=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+f|0}e.a[0]=e.a[0]+r|0,e.a[1]=e.a[1]+i|0,e.a[2]=e.a[2]+s|0,e.a[3]=e.a[3]+u|0,e.a[4]=e.a[4]+c|0,e.a[5]=e.a[5]+l|0,e.a[6]=e.a[6]+h|0,e.a[7]=e.a[7]+o|0}function gc(e,t,n){void 0===n&&(n=t.length);var r=0,i=e.c;if("string"==typeof t)for(;r<n;)e.f[i++]=t.charCodeAt(r++),i==e.b&&(vc(e),i=0);else{if(!f(t))throw Error("message must be string or array");for(;r<n;){var o=t[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");e.f[i++]=o,i==e.b&&(vc(e),i=0)}}e.c=i,e.g+=n}cc.prototype.reset=function(){this.g=this.c=0,this.a=a.Int32Array?new Int32Array(this.h):$(this.h)};var mc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function yc(){cc.call(this,8,bc)}_(yc,cc);var bc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function wc(e,t,n,r,i,o){this.v=e,this.i=t,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=t+":"+n,this.C=new uc,this.g=new oc(this.h),this.f=null,this.b=[],this.a=this.c=null}function _c(e){return new T("invalid-cordova-configuration",e)}function Ec(e){var t=new yc;gc(t,e),e=[];var n=8*t.g;56>t.c?gc(t,pc,56-t.c):gc(t,pc,t.b-(t.c-56));for(var r=63;56<=r;r--)t.f[r]=255&n,n/=256;for(vc(t),r=n=0;r<t.i;r++)for(var i=24;0<=i;i-=8)e[n++]=t.a[r]>>i&255;return function(e){return z(e,(function(e){return 1<(e=e.toString(16)).length?e:"0"+e})).join("")}(e)}function Tc(e,t){for(var n=0;n<e.b.length;n++)try{e.b[n](t)}catch(r){}}function Ic(e){return e.f||(e.f=e.ma().then((function(){return new bt((function(t){e.Ea((function n(r){return t(r),e.Ta(n),!1})),function(e){function t(t){r=!0,i&&i.cancel(),kc(e).then((function(r){var i=n;if(r&&t&&t.url){var o=null;-1!=(i=ro(t.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Mr(Mn(o=Fn(i),"firebaseError")||null))?I(o):null)?new jo(r.c,r.b,null,null,o,null,r.T()):new jo(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}Tc(e,i)}))}var n=new jo("unknown",null,null,null,new T("no-auth-event")),r=!1,i=In(500).then((function(){return kc(e).then((function(){r||Tc(e,n)}))})),o=a.handleOpenURL;a.handleOpenURL=function(e){if(0==e.toLowerCase().indexOf(Nr("BuildInfo.packageName",a).toLowerCase()+"://")&&t({url:e}),"function"==typeof o)try{o(e)}catch(n){console.error(n)}},zo||(zo=new Vo),function(e){var t=zo;t.a.push(e),t.b||(t.b=function(e){for(var n=0;n<t.a.length;n++)t.a[n](e)},"function"==typeof(e=Nr("universalLinks.subscribe",a))&&e(null,t.b))}(t)}(e)}))}))),e.f}function kc(e){var t=null;return function(e){return e.b.get(sc,e.a).then((function(e){return qo(e)}))}(e.g).then((function(n){return t=n,rc((n=e.g).b,sc,n.a)})).then((function(){return t}))}function Sc(e){this.a=e,this.b=ec()}(e=wc.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(mr(void 0)?gr().then((function(){return new bt((function(e,t){var n=a.document,r=setTimeout((function(){t(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),e()}),!1)}))})):Ct(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof Nr("universalLinks.subscribe",a))throw _c("cordova-universal-links-plugin-fix is not installed");if(void 0===Nr("BuildInfo.packageName",a))throw _c("cordova-plugin-buildinfo is not installed");if("function"!=typeof Nr("cordova.plugins.browsertab.openUrl",a))throw _c("cordova-plugin-browsertab is not installed");if("function"!=typeof Nr("cordova.InAppBrowser.open",a))throw _c("cordova-plugin-inappbrowser is not installed")}),(function(){throw new T("cordova-not-ready")}))},e.Pb=function(e,t){return t(new T("operation-not-supported-in-this-environment")),St()},e.Nb=function(){return Ct(new T("operation-not-supported-in-this-environment"))},e.ac=function(){return!1},e.Yb=function(){return!0},e.Ub=function(){return!0},e.Ob=function(e,t,n,r){if(this.c)return Ct(new T("redirect-operation-pending"));var i=this,o=a.document,s=null,u=null,c=null,l=null;return this.c=St().then((function(){return Uo(t),Ic(i)})).then((function(){return function(e,t,n,r,i){var o=function(){for(var e=20,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}(),s=new jo(t,r,null,o,new T("no-auth-event"),null,i),u=Nr("BuildInfo.packageName",a);if("string"!=typeof u)throw new T("invalid-cordova-configuration");var c=Nr("BuildInfo.displayName",a),l={};if(Cr().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=u;else{if(!Cr().toLowerCase().match(/android/))return Ct(new T("operation-not-supported-in-this-environment"));l.apn=u}c&&(l.appDisplayName=c),o=Ec(o),l.sessionId=o;var h=mu(e.v,e.i,e.l,t,n,null,r,e.m,l,e.u,i,e.s);return e.ma().then((function(){var t=e.h;return e.C.a.set(sc,s.w(),t)})).then((function(){var t=Nr("cordova.plugins.browsertab.isAvailable",a);if("function"!=typeof t)throw new T("invalid-cordova-configuration");var n=null;t((function(t){if(t){if("function"!=typeof(n=Nr("cordova.plugins.browsertab.openUrl",a)))throw new T("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=Nr("cordova.InAppBrowser.open",a)))throw new T("invalid-cordova-configuration");t=Cr(),e.a=n(h,t.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,e,t,n,r)})).then((function(){return new bt((function(e,t){u=function(){var t=Nr("cordova.plugins.browsertab.close",a);return e(),"function"==typeof t&&t(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(u),c=function(){s||(s=In(2e3).then((function(){t(new T("redirect-cancelled-by-user"))})))},l=function(){Vr()&&c()},o.addEventListener("resume",c,!1),Cr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).o((function(e){return kc(i).then((function(){throw e}))}))})).oa((function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),s&&s.cancel(),u&&i.Ta(u),i.c=null}))},e.Ea=function(e){this.b.push(e),Ic(this).o((function(t){"auth/invalid-cordova-configuration"===t.code&&(t=new jo("unknown",null,null,null,new T("no-auth-event")),e(t))}))},e.Ta=function(e){G(this.b,(function(t){return t==e}))};var Cc={name:"pendingRedirect",F:"session"};function Nc(e){return rc(e.b,Cc,e.a)}function Ac(e,t,n,r){this.i={},this.u=0,this.D=e,this.v=t,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=b(this.s,this),this.b=new Kc,this.C=new $c,this.g=new Sc(Bc(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=xc(this.D,this.v,this.m,k,this.J)}function xc(e,t,n,r,i){var o=Gf.SDK_VERSION||null;return mr()?new wc(e,t,n,o,r,i):new du(e,t,n,o,r,i)}function Pc(e){e.f||(e.f=!0,e.a.Ea(e.l));var t=e.a;return e.a.ma().o((function(n){throw e.a==t&&e.reset(),n}))}function Rc(e){e.a.Yb()&&Pc(e).o((function(t){var n=new jo("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));Uc(t)&&e.s(n)})),e.a.Ub()||Wc(e.b)}function Dc(e,t){W(e.h,t)||e.h.push(t),e.f||function(e){return e.b.get(Cc,e.a).then((function(e){return"pending"==e}))}(e.g).then((function(t){t?Nc(e.g).then((function(){Pc(e).o((function(t){var n=new jo("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));Uc(t)&&e.s(n)}))})):Rc(e)})).o((function(){Rc(e)}))}function Oc(e,t){G(e.h,(function(e){return e==t}))}Ac.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=xc(this.D,this.v,this.m,null,this.J),this.i={}},Ac.prototype.s=function(e){if(!e)throw new T("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),e&&e.getUid()&&this.i.hasOwnProperty(e.getUid()))return!1;for(var t=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Gb(e.c,e.b)){(t=this.c[e.c])&&(t.h(e,r),e&&(e.f||e.b)&&(this.i[e.getUid()]=!0,this.u=Date.now())),t=!0;break}}return Wc(this.b),t};var Lc=new qr(2e3,1e4),Mc=new qr(3e4,6e4);function Fc(e,t,n,r,i,o,a){return e.a.Nb(t,n,r,(function(){e.f||(e.f=!0,e.a.Ea(e.l))}),(function(){e.reset()}),i,o,a)}function Uc(e){return!(!e||"auth/cordova-not-ready"!=e.code)}function jc(e,t,n,r,i){var o;return function(e){return e.b.set(Cc,"pending",e.a)}(e.g).then((function(){return e.a.Ob(t,n,r,i).o((function(t){if(Uc(t))throw new T("operation-not-supported-in-this-environment");return o=t,Nc(e.g).then((function(){throw o}))})).then((function(){return e.a.ac()?new bt((function(){})):Nc(e.g).then((function(){return e.ra()})).then((function(){})).o((function(){}))}))}))}function qc(e,t,n,r,i){return e.a.Pb(r,(function(e){t.na(n,null,e,i)}),Lc.get())}Ac.prototype.ra=function(){return this.b.ra()};var Vc={};function Bc(e,t,n){return e=e+":"+t,n&&(e=e+":"+n.url),e}function zc(e,t,n,r){var i=Bc(t,n,r);return Vc[i]||(Vc[i]=new Ac(e,t,n,r)),Vc[i]}function Kc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Wc(e){e.g||(e.g=!0,Qc(e,!1,null,null))}function Hc(e){e.g&&!e.i&&Qc(e,!1,null,null)}function Gc(e,t){if(e.b=function(){return St(t)},e.f.length)for(var n=0;n<e.f.length;n++)e.f[n](t)}function Qc(e,t,n,r){t?r?function(e,t){if(e.b=function(){return Ct(t)},e.c.length)for(var n=0;n<e.c.length;n++)e.c[n](t)}(e,r):Gc(e,n):Gc(e,{user:null}),e.f=[],e.c=[]}function $c(){}function Yc(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(e){this.jb=e},enumerable:!1})}function Xc(e,t){this.a=t,Qr(this,"verificationId",e)}function Jc(e,t,n,r){return new Lo(e).gb(t,n).then((function(e){return new Xc(e,r)}))}function Zc(e){var t=zi(e);if(!(t&&t.exp&&t.auth_time&&t.iat))throw new T("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");$r(this,{token:e,expirationTime:Br(1e3*t.exp),authTime:Br(1e3*t.auth_time),issuedAtTime:Br(1e3*t.iat),signInProvider:t.firebase&&t.firebase.sign_in_provider?t.firebase.sign_in_provider:null,signInSecondFactor:t.firebase&&t.firebase.sign_in_second_factor?t.firebase.sign_in_second_factor:null,claims:t})}function el(e,t,n){var r=t&&t[nl];if(!r)throw new T("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=e,this.f=fe(t),this.g=n,this.c=new io(null,r),this.b=[];var i=this;V(t[tl]||[],(function(e){(e=Zr(e))&&i.b.push(e)})),Qr(this,"auth",this.a),Qr(this,"session",this.c),Qr(this,"hints",this.b)}Kc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Kc.prototype.h=function(e,t){if(e){this.reset(),this.g=!0;var n=e.c,r=e.b,i=e.a&&"auth/web-storage-unsupported"==e.a.code,o=e.a&&"auth/operation-not-supported-in-this-environment"==e.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?e.a?(Qc(this,!0,null,e.a),St()):t.Fa(n,r)?function(e,t,n){n=n.Fa(t.c,t.b);var r=t.g,i=t.f,o=t.i,a=t.T(),s=!!t.c.match(/Redirect$/);n(r,i,a,o).then((function(t){Qc(e,s,t,null)})).o((function(t){Qc(e,s,null,t)}))}(this,e,t):Ct(new T("invalid-auth-event")):(Qc(this,!1,null,null),St())}else Ct(new T("invalid-auth-event"))},Kc.prototype.ra=function(){var e=this;return new bt((function(t,n){e.b?e.b().then(t,n):(e.f.push(t),e.c.push(n),function(e){var t=new T("timeout");e.a&&e.a.cancel(),e.a=In(Mc.get()).then((function(){e.b||(e.g=!0,Qc(e,!0,null,t))}))}(e))}))},$c.prototype.h=function(e,t){if(e){var n=e.c,r=e.b;e.a?(t.na(e.c,null,e.a,e.b),St()):t.Fa(n,r)?function(e,t){var n=e.b,r=e.c;t.Fa(r,n)(e.g,e.f,e.T(),e.i).then((function(e){t.na(r,e,null,n)})).o((function(e){t.na(r,null,e,n)}))}(e,t):Ct(new T("invalid-auth-event"))}else Ct(new T("invalid-auth-event"))},Xc.prototype.confirm=function(e){return e=Mo(this.verificationId,e),this.a(e)};var tl="mfaInfo",nl="mfaPendingCredential";function rl(e,t,n,r){T.call(this,"multi-factor-auth-required",r,t),this.b=new el(e,t,n),Qr(this,"resolver",this.b)}function il(e,t,n){if(e&&p(e.serverResponse)&&"auth/multi-factor-auth-required"===e.code)try{return new rl(t,e.serverResponse,n,e.message)}catch(r){}return null}function ol(){}function al(e){Qr(this,"factorId",e.fa),this.a=e}function sl(e){if(al.call(this,e),this.a.fa!=Lo.PROVIDER_ID)throw new T("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function ul(e,t){for(var n in Qt.call(this,e),t)this[n]=t[n]}function cl(e,t){this.a=e,this.b=[],this.c=b(this.yc,this),sn(this.a,"userReloaded",this.c);var n=[];t&&t.multiFactor&&t.multiFactor.enrolledFactors&&V(t.multiFactor.enrolledFactors,(function(e){var t=null,r={};if(e){e.uid&&(r[ni]=e.uid),e.displayName&&(r[ei]=e.displayName),e.enrollmentTime&&(r[ti]=new Date(e.enrollmentTime).toISOString()),e.phoneNumber&&(r[ri]=e.phoneNumber);try{t=new ii(r)}catch(i){}e=t}else e=null;e&&n.push(e)})),ll(this,n)}function ll(e,t){e.b=t,Qr(e,"enrolledFactors",t)}function hl(e,t,n){if(this.h=e,this.i=t,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function fl(e,t){e.stop(),e.b=In(function(e,t){return t?(e.a=e.c,e.g()):(t=e.a,e.a*=2,e.a>e.f&&(e.a=e.f),t)}(e,t)).then((function(){return function(){var e=a.document,t=null;return Vr()||!e?St():new bt((function(n){t=function(){Vr()&&(e.removeEventListener("visibilitychange",t,!1),n())},e.addEventListener("visibilitychange",t,!1)})).o((function(n){throw e.removeEventListener("visibilitychange",t,!1),n}))}()})).then((function(){return e.h()})).then((function(){fl(e,!0)})).o((function(t){e.i(t)&&fl(e,!1)}))}function dl(e){this.f=e,this.b=this.a=null,this.c=Date.now()}function pl(e,t){void 0===t&&(e.b?t=(t=e.b).a-t.g:t=0),e.c=Date.now()+1e3*t}function vl(e,t){e.b=Bi(t[Xa]||""),e.a=t.refreshToken,pl(e,void 0!==(t=t.expiresIn)?Number(t):void 0)}function gl(e,t){return function(e,t){return new bt((function(n,r){"refresh_token"==t.grant_type&&t.refresh_token||"authorization_code"==t.grant_type&&t.code?as(e,e.l+"?key="+encodeURIComponent(e.c),(function(e){e?e.error?r(iu(e)):e.access_token&&e.refresh_token?n(e):r(new T("internal-error")):r(new T("network-request-failed"))}),"POST",$n(t).toString(),e.g,e.m.get()):r(new T("internal-error"))}))}(e.f,t).then((function(t){return e.b=Bi(t.access_token),e.a=t.refresh_token,pl(e,t.expires_in),{accessToken:e.b.toString(),refreshToken:e.a}})).o((function(t){throw"auth/user-token-expired"==t.code&&(e.a=null),t}))}function ml(e,t){this.a=e||null,this.b=t||null,$r(this,{lastSignInTime:Br(t||null),creationTime:Br(e||null)})}function yl(e,t,n,r,i,o){$r(this,{uid:e,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:t})}function bl(e,t,n){this.N=[],this.l=e.apiKey,this.m=e.appName,this.s=e.authDomain||null;var r=Gf.SDK_VERSION?Sr(Gf.SDK_VERSION):null;this.a=new $a(this.l,A(k),r),(this.u=e.emulatorConfig||null)&&rs(this.a,this.u),this.h=new dl(this.a),Nl(this,t[Xa]),vl(this.h,t),Qr(this,"refreshToken",this.h.a),Pl(this,n||{}),bn.call(this),this.P=!1,this.s&&xr()&&(this.b=zc(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=function(e){return new hl((function(){return e.I(!0)}),(function(e){return!(!e||"auth/network-request-failed"!=e.code)}),(function(){var t=e.h.c-Date.now()-3e5;return 0<t?t:0}))}(this),this.ba=b(this.ib,this);var i=this;this.za=null,this.Pa=function(e){i.xa(e.h)},this.qa=null,this.Ba=function(e){wl(i,e.c)},this.$=null,this.aa=[],this.Oa=function(e){Tl(i,e.f)},this.ja=null,this.S=new cl(this,n),Qr(this,"multiFactor",this.S)}function wl(e,t){e.u=t,rs(e.a,t),e.b&&(t=e.b,e.b=zc(e.s,e.l,e.m,e.u),e.P&&(Oc(t,e),Dc(e.b,e)))}function _l(e,t){e.qa&&ln(e.qa,"languageCodeChanged",e.Pa),(e.qa=t)&&sn(t,"languageCodeChanged",e.Pa)}function El(e,t){e.$&&ln(e.$,"emulatorConfigChanged",e.Ba),(e.$=t)&&sn(t,"emulatorConfigChanged",e.Ba)}function Tl(e,t){e.aa=t,os(e.a,Gf.SDK_VERSION?Sr(Gf.SDK_VERSION,e.aa):null)}function Il(e,t){e.ja&&ln(e.ja,"frameworkChanged",e.Oa),(e.ja=t)&&sn(t,"frameworkChanged",e.Oa)}function kl(e){try{return Gf.app(e.m).auth()}catch(t){throw new T("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.m+"'!")}}function Sl(e){e.J||e.D.b||(e.D.start(),ln(e,"tokenChanged",e.ba),sn(e,"tokenChanged",e.ba))}function Cl(e){ln(e,"tokenChanged",e.ba),e.D.stop()}function Nl(e,t){e.Aa=t,Qr(e,"_lat",t)}function Al(e){for(var t=[],n=0;n<e.W.length;n++)t.push(e.W[n](e));return At(t).then((function(){return e}))}function xl(e){e.b&&!e.P&&(e.P=!0,Dc(e.b,e))}function Pl(e,t){$r(e,{uid:t.uid,displayName:t.displayName||null,photoURL:t.photoURL||null,email:t.email||null,emailVerified:t.emailVerified||!1,phoneNumber:t.phoneNumber||null,isAnonymous:t.isAnonymous||!1,tenantId:t.tenantId||null,metadata:new ml(t.createdAt,t.lastLoginAt),providerData:[]}),e.a.b=e.tenantId}function Rl(){}function Dl(e){return St().then((function(){if(e.J)throw new T("app-deleted")}))}function Ol(e){return z(e.providerData,(function(e){return e.providerId}))}function Ll(e,t){t&&(Ml(e,t.providerId),e.providerData.push(t))}function Ml(e,t){G(e.providerData,(function(e){return e.providerId==t}))}function Fl(e,t,n){("uid"!=t||n)&&e.hasOwnProperty(t)&&Qr(e,t,n)}function Ul(e,t){e!=t&&($r(e,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,phoneNumber:t.phoneNumber,isAnonymous:t.isAnonymous,tenantId:t.tenantId,providerData:[]}),t.metadata?Qr(e,"metadata",function(e){return new ml(e.a,e.b)}(t.metadata)):Qr(e,"metadata",new ml),V(t.providerData,(function(t){Ll(e,t)})),function(e,t){e.b=t.b,e.a=t.a,e.c=t.c}(e.h,t.h),Qr(e,"refreshToken",e.h.a),ll(e.S,t.S.b))}function jl(e){return e.I().then((function(t){var n=e.isAnonymous;return function(e,t){return nu(e.a,Ds,{idToken:t}).then(b(e.Kc,e))}(e,t).then((function(){return n||Fl(e,"isAnonymous",!1),t}))}))}function ql(e,t){t[Xa]&&e.Aa!=t[Xa]&&(vl(e.h,t),e.dispatchEvent(new ul("tokenChanged")),Nl(e,t[Xa]),Fl(e,"refreshToken",e.h.a))}function Vl(e,t){return jl(e).then((function(){if(W(Ol(e),t))return Al(e).then((function(){throw new T("provider-already-linked")}))}))}function Bl(e,t,n){return Yr({user:e,credential:Fo(t),additionalUserInfo:t=Qi(t),operationType:n})}function zl(e,t){return ql(e,t),e.reload().then((function(){return e}))}function Kl(e,t,n,r,i){if(!xr())return Ct(new T("operation-not-supported-in-this-environment"));if(e.i&&!i)return Ct(e.i);var o=Gi(n.providerId),a=Fr(e.uid+":::"),s=null;(!Dr()||yr())&&e.s&&n.isOAuthProvider&&(s=mu(e.s,e.l,e.m,t,n,null,a,Gf.SDK_VERSION||null,null,null,e.tenantId,e.u));var u=dr(s,o&&o.va,o&&o.ua);return r=r().then((function(){if(Hl(e),!i)return e.I().then((function(){}))})).then((function(){return Fc(e.b,u,t,n,a,!!s,e.tenantId)})).then((function(){return new bt((function(n,r){e.na(t,null,new T("cancelled-popup-request"),e.g||null),e.f=n,e.C=r,e.g=a,e.c=qc(e.b,e,t,u,a)}))})).then((function(e){return u&&fr(u),e?Yr(e):null})).o((function(e){throw u&&fr(u),e})),Gl(e,r,i)}function Wl(e,t,n,r,i){if(!xr())return Ct(new T("operation-not-supported-in-this-environment"));if(e.i&&!i)return Ct(e.i);var o=null,a=Fr(e.uid+":::");return r=r().then((function(){if(Hl(e),!i)return e.I().then((function(){}))})).then((function(){return e.ga=a,Al(e)})).then((function(t){return e.ha&&(t=(t=e.ha).b.set(Yl,e.w(),t.a)),t})).then((function(){return jc(e.b,t,n,a,e.tenantId)})).o((function(t){if(o=t,e.ha)return Xl(e.ha);throw o})).then((function(){if(o)throw o})),Gl(e,r,i)}function Hl(e){if(!e.b||!e.P){if(e.b&&!e.P)throw new T("internal-error");throw new T("auth-domain-config-required")}}function Gl(e,t,n){var r=function(e,t,n){return e.i&&!n?(t.cancel(),Ct(e.i)):t.o((function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(e.i||e.dispatchEvent(new ul("userInvalidated")),e.i=t),t}))}(e,t,n);return e.N.push(r),r.oa((function(){H(e.N,r)})),r.o((function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=il(t.w(),kl(e),b(e.jc,e))),n||t}))}function Ql(e){if(!e.apiKey)return null;var t={apiKey:e.apiKey,authDomain:e.authDomain,appName:e.appName,emulatorConfig:e.emulatorConfig},n={};if(!e.stsTokenManager||!e.stsTokenManager.accessToken)return null;n[Xa]=e.stsTokenManager.accessToken,n.refreshToken=e.stsTokenManager.refreshToken||null;var r=e.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new bl(t,n,e);return e.providerData&&V(e.providerData,(function(e){e&&Ll(i,Yr(e))})),e.redirectEventId&&(i.ga=e.redirectEventId),i}function $l(e){this.a=e,this.b=ec()}el.prototype.Rc=function(e){var t=this;return e.tb(this.a.a,this.c).then((function(e){var n=fe(t.f);return delete n[tl],delete n[nl],pe(n,e),t.g(n)}))},_(rl,T),ol.prototype.tb=function(e,t,n){return t.type==oo?function(e,t,n,r){return n.Ha().then((function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),pe(n,{phoneVerificationInfo:Oo(e.a)}),nu(t,Ps,n)}))}(this,e,t,n):function(e,t,n){return n.Ha().then((function(n){return pe(n={mfaPendingCredential:n},{phoneVerificationInfo:Oo(e.a)}),nu(t,Rs,n)}))}(this,e,t)},_(al,ol),_(sl,al),_(ul,Qt),(e=cl.prototype).yc=function(e){ll(this,function(e){var t=[];return V(e.mfaInfo||[],(function(e){(e=Zr(e))&&t.push(e)})),t}(e.hd))},e.Sb=function(){return this.a.I().then((function(e){return new io(e,null)}))},e.fc=function(e,t){var n=this,r=this.a.a;return this.Sb().then((function(n){return e.tb(r,n,t)})).then((function(e){return ql(n.a,e),n.a.reload()}))},e.bd=function(e){var t=this,n="string"==typeof e?e:e.uid,r=this.a.a;return this.a.I().then((function(e){return nu(r,tu,{idToken:e,mfaEnrollmentId:n})})).then((function(e){var r=B(t.b,(function(e){return e.uid!=n}));return ll(t,r),ql(t.a,e),t.a.reload().o((function(e){if("auth/user-token-expired"!=e.code)throw e}))}))},e.w=function(){return{multiFactor:{enrolledFactors:z(this.b,(function(e){return e.w()}))}}},hl.prototype.start=function(){this.a=this.c,fl(this,!0)},hl.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},dl.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},dl.prototype.getToken=function(e){return e=!!e,this.b&&!this.a?Ct(new T("user-token-expired")):e||!this.b||Date.now()>this.c-3e4?this.a?gl(this,{grant_type:"refresh_token",refresh_token:this.a}):St(null):St({accessToken:this.b.toString(),refreshToken:this.a})},ml.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},_(bl,bn),bl.prototype.xa=function(e){this.za=e,ns(this.a,e)},bl.prototype.la=function(){return this.za},bl.prototype.Ga=function(){return $(this.aa)},bl.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())},Qr(bl.prototype,"providerId","firebase"),(e=bl.prototype).reload=function(){var e=this;return Gl(this,Dl(this).then((function(){return jl(e).then((function(){return Al(e)})).then(Rl)})))},e.oc=function(e){return this.I(e).then((function(e){return new Zc(e)}))},e.I=function(e){var t=this;return Gl(this,Dl(this).then((function(){return t.h.getToken(e)})).then((function(e){if(!e)throw new T("internal-error");return e.accessToken!=t.Aa&&(Nl(t,e.accessToken),t.dispatchEvent(new ul("tokenChanged"))),Fl(t,"refreshToken",e.refreshToken),e.accessToken})))},e.Kc=function(e){if(!(e=e.users)||!e.length)throw new T("internal-error");Pl(this,{uid:(e=e[0]).localId,displayName:e.displayName,photoURL:e.photoUrl,email:e.email,emailVerified:!!e.emailVerified,phoneNumber:e.phoneNumber,lastLoginAt:e.lastLoginAt,createdAt:e.createdAt,tenantId:e.tenantId});for(var t=function(e){return(e=e.providerUserInfo)&&e.length?z(e,(function(e){return new yl(e.rawId,e.providerId,e.email,e.displayName,e.photoUrl,e.phoneNumber)})):[]}(e),n=0;n<t.length;n++)Ll(this,t[n]);Fl(this,"isAnonymous",!(this.email&&e.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new ul("userReloaded",{hd:e}))},e.Lc=function(e){return Hr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(e)},e.ub=function(e){var t=this,n=null;return Gl(this,e.c(this.a,this.uid).then((function(e){return ql(t,e),n=Bl(t,e,"reauthenticate"),t.i=null,t.reload()})).then((function(){return n})),!0)},e.Cc=function(e){return Hr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(e)},e.rb=function(e){var t=this,n=null;return Gl(this,Vl(this,e.providerId).then((function(){return t.I()})).then((function(n){return e.b(t.a,n)})).then((function(e){return n=Bl(t,e,"link"),zl(t,e)})).then((function(){return n})))},e.Dc=function(e,t){var n=this;return Gl(this,Vl(this,"phone").then((function(){return Jc(kl(n),e,t,b(n.rb,n))})))},e.Mc=function(e,t){var n=this;return Gl(this,St().then((function(){return Jc(kl(n),e,t,b(n.ub,n))})),!0)},e.Cb=function(e){var t=this;return Gl(this,this.I().then((function(n){return t.a.Cb(n,e)})).then((function(e){return ql(t,e),t.reload()})))},e.ed=function(e){var t=this;return Gl(this,this.I().then((function(n){return e.b(t.a,n)})).then((function(e){return ql(t,e),t.reload()})))},e.Db=function(e){var t=this;return Gl(this,this.I().then((function(n){return t.a.Db(n,e)})).then((function(e){return ql(t,e),t.reload()})))},e.Eb=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return Dl(this);var t=this;return Gl(this,this.I().then((function(n){return t.a.Eb(n,{displayName:e.displayName,photoUrl:e.photoURL})})).then((function(e){return ql(t,e),Fl(t,"displayName",e.displayName||null),Fl(t,"photoURL",e.photoUrl||null),V(t.providerData,(function(e){"password"===e.providerId&&(Qr(e,"displayName",t.displayName),Qr(e,"photoURL",t.photoURL))})),Al(t)})).then(Rl))},e.cd=function(e){var t=this;return Gl(this,jl(this).then((function(n){return W(Ol(t),e)?function(e,t,n){return nu(e,Ns,{idToken:t,deleteProvider:n})}(t.a,n,[e]).then((function(e){var n={};return V(e.providerUserInfo||[],(function(e){n[e.providerId]=!0})),V(Ol(t),(function(e){n[e]||Ml(t,e)})),n[Lo.PROVIDER_ID]||Qr(t,"phoneNumber",null),Al(t)})):Al(t).then((function(){throw new T("no-such-provider")}))})))},e.delete=function(){var e=this;return Gl(this,this.I().then((function(t){return nu(e.a,Cs,{idToken:t})})).then((function(){e.dispatchEvent(new ul("userDeleted"))}))).then((function(){for(var t=0;t<e.N.length;t++)e.N[t].cancel("app-deleted");_l(e,null),El(e,null),Il(e,null),e.N=[],e.J=!0,Cl(e),Qr(e,"refreshToken",null),e.b&&Oc(e.b,e)}))},e.Gb=function(e,t){return!!("linkViaPopup"==e&&(this.g||null)==t&&this.f||"reauthViaPopup"==e&&(this.g||null)==t&&this.f||"linkViaRedirect"==e&&(this.ga||null)==t||"reauthViaRedirect"==e&&(this.ga||null)==t)},e.na=function(e,t,n,r){"linkViaPopup"!=e&&"reauthViaPopup"!=e||r!=(this.g||null)||(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(e,t){return"linkViaPopup"==e&&t==(this.g||null)?b(this.Lb,this):"reauthViaPopup"==e&&t==(this.g||null)?b(this.Mb,this):"linkViaRedirect"==e&&(this.ga||null)==t?b(this.Lb,this):"reauthViaRedirect"==e&&(this.ga||null)==t?b(this.Mb,this):null},e.Ec=function(e){var t=this;return Kl(this,"linkViaPopup",e,(function(){return Vl(t,e.providerId).then((function(){return Al(t)}))}),!1)},e.Nc=function(e){return Kl(this,"reauthViaPopup",e,(function(){return St()}),!0)},e.Fc=function(e){var t=this;return Wl(this,"linkViaRedirect",e,(function(){return Vl(t,e.providerId)}),!1)},e.Oc=function(e){return Wl(this,"reauthViaRedirect",e,(function(){return St()}),!0)},e.Lb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Gl(this,this.I().then((function(n){return ws(i.a,{requestUri:e,postBody:r,sessionId:t,idToken:n})})).then((function(e){return o=Bl(i,e,"link"),zl(i,e)})).then((function(){return o})))},e.Mb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Gl(this,St().then((function(){return uo(_s(i.a,{requestUri:e,sessionId:t,postBody:r,tenantId:n}),i.uid)})).then((function(e){return o=Bl(i,e,"reauthenticate"),ql(i,e),i.i=null,i.reload()})).then((function(){return o})),!0)},e.vb=function(e){var t=this,n=null;return Gl(this,this.I().then((function(t){return n=t,void 0===e||he(e)?{}:Ui(new Ni(e))})).then((function(e){return t.a.vb(n,e)})).then((function(e){if(t.email!=e)return t.reload()})).then((function(){})))},e.Fb=function(e,t){var n=this,r=null;return Gl(this,this.I().then((function(e){return r=e,void 0===t||he(t)?{}:Ui(new Ni(t))})).then((function(t){return n.a.Fb(r,e,t)})).then((function(e){if(n.email!=e)return n.reload()})).then((function(){})))},e.jc=function(e){var t=null,n=this;return Gl(this,e=uo(St(e),n.uid).then((function(e){return t=Bl(n,e,"reauthenticate"),ql(n,e),n.i=null,n.reload()})).then((function(){return t})),!0)},e.toJSON=function(){return this.w()},e.w=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&pe(e,this.metadata.w()),V(this.providerData,(function(t){e.providerData.push(function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}(t))})),pe(e,this.S.w()),e};var Yl={name:"redirectUser",F:"session"};function Xl(e){return rc(e.b,Yl,e.a)}function Jl(e){this.a=e,this.b=ec(),this.c=null,this.f=function(e){var t=th("local"),n=th("session"),r=th("none");return function(e,t,n){var r=nc(t,n),i=tc(e,t.F);return e.get(t,n).then((function(o){var s=null;try{s=Mr(a.localStorage.getItem(r))}catch(u){}if(s&&!o)return a.localStorage.removeItem(r),e.set(t,s,n);s&&o&&"localStorage"!=i.type&&a.localStorage.removeItem(r)}))}(e.b,t,e.a).then((function(){return e.b.get(n,e.a)})).then((function(i){return i?n:e.b.get(r,e.a).then((function(n){return n?r:e.b.get(t,e.a).then((function(n){return n?t:e.b.get(eh,e.a).then((function(e){return e?th(e):t}))}))}))})).then((function(t){return e.c=t,Zl(e,t.F)})).o((function(){e.c||(e.c=t)}))}(this),this.b.addListener(th("local"),this.a,b(this.g,this))}function Zl(e,t){var n,r=[];for(n in Ju)Ju[n]!==t&&r.push(rc(e.b,th(Ju[n]),e.a));return r.push(rc(e.b,eh,e.a)),function(e){return new bt((function(t,n){var r=e.length,i=[];if(r)for(var o=function(e,n){r--,i[e]=n,0==r&&t(i)},a=function(e){n(e)},s=0;s<e.length;s++)Nt(e[s],w(o,s),a);else t(i)}))}(r)}Jl.prototype.g=function(){var e=this,t=th("local");oh(this,(function(){return St().then((function(){return e.c&&"local"!=e.c.F?e.b.get(t,e.a):null})).then((function(n){if(n)return Zl(e,"local").then((function(){e.c=t}))}))}))};var eh={name:"persistence",F:"session"};function th(e){return{name:"authUser",F:e}}function nh(e,t){return oh(e,(function(){return e.b.set(e.c,t.w(),e.a)}))}function rh(e){return oh(e,(function(){return rc(e.b,e.c,e.a)}))}function ih(e,t,n){return oh(e,(function(){return e.b.get(e.c,e.a).then((function(e){return e&&t&&(e.authDomain=t),e&&n&&(e.emulatorConfig=n),Ql(e||{})}))}))}function oh(e,t){return e.f=e.f.then(t,t),e.f}function ah(e){if(this.l=!1,Qr(this,"settings",new Yc),Qr(this,"app",e),!vh(this).options||!vh(this).options.apiKey)throw new T("invalid-api-key");e=Gf.SDK_VERSION?Sr(Gf.SDK_VERSION):null,this.a=new $a(vh(this).options&&vh(this).options.apiKey,A(k),e),this.P=[],this.s=[],this.N=[],this.Pa=Gf.INTERNAL.createSubscribe(b(this.zc,this)),this.W=void 0,this.ib=Gf.INTERNAL.createSubscribe(b(this.Ac,this)),dh(this,null),this.i=new Jl(vh(this).options.apiKey+":"+vh(this).name),this.D=new $l(vh(this).options.apiKey+":"+vh(this).name),this.$=bh(this,function(e){var t=vh(e).options.authDomain,n=function(e){var t=function(e,t){return e.b.get(Yl,e.a).then((function(e){return e&&t&&(e.authDomain=t),Ql(e||{})}))}(e.D,vh(e).options.authDomain).then((function(t){return(e.m=t)&&(t.ha=e.D),Xl(e.D)}));return bh(e,t)}(e).then((function(){return ih(e.i,t,e.R)})).then((function(t){return t?(t.ha=e.D,e.m&&(e.m.ga||null)==(t.ga||null)?t:t.reload().then((function(){return nh(e.i,t).then((function(){return t}))})).o((function(n){return"auth/network-request-failed"==n.code?t:rh(e.i)}))):null})).then((function(t){dh(e,t||null)}));return bh(e,n)}(this)),this.h=bh(this,function(e){return e.$.then((function(){return hh(e)})).o((function(){})).then((function(){if(!e.l)return e.ja()})).o((function(){})).then((function(){if(!e.l){e.ba=!0;var t=e.i;t.b.addListener(th("local"),t.a,e.ja)}}))}(this)),this.ba=!1,this.ja=b(this.Zc,this),this.Ba=b(this.da,this),this.qa=b(this.mc,this),this.za=b(this.wc,this),this.Aa=b(this.xc,this),this.b=null,function(e){var t=vh(e).options.authDomain,n=vh(e).options.apiKey;t&&xr()&&(e.Oa=e.$.then((function(){if(!e.l){if(e.b=zc(t,n,vh(e).name,e.R),Dc(e.b,e),gh(e)&&xl(gh(e)),e.m){xl(e.m);var r=e.m;r.xa(e.la()),_l(r,e),Tl(r=e.m,e.J),Il(r,e),wl(r=e.m,e.R),El(r,e),e.m=null}return e.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=b(this.delete,this),this.INTERNAL.logFramework=b(this.Gc,this),this.u=0,bn.call(this),function(e){Object.defineProperty(e,"lc",{get:function(){return this.la()},set:function(e){this.xa(e)},enumerable:!1}),e.aa=null,Object.defineProperty(e,"ti",{get:function(){return this.T()},set:function(e){this.zb(e)},enumerable:!1}),e.S=null,Object.defineProperty(e,"emulatorConfig",{get:function(){if(this.R){var e=Fn(this.R.url);e=Yr({protocol:e.c,host:e.a,port:e.g,options:Yr({disableWarnings:this.R.ec})})}else e=null;return e},enumerable:!1})}(this),this.J=[],this.R=null}function sh(e){Qt.call(this,"languageCodeChanged"),this.h=e}function uh(e){Qt.call(this,"emulatorConfigChanged"),this.c=e}function ch(e){Qt.call(this,"frameworkChanged"),this.f=e}function lh(e){return e.Oa||Ct(new T("auth-domain-config-required"))}function hh(e){if(!xr())return Ct(new T("operation-not-supported-in-this-environment"));var t=lh(e).then((function(){return e.b.ra()})).then((function(e){return e?Yr(e):null}));return bh(e,t)}function fh(e,t){var n={};return n.apiKey=vh(e).options.apiKey,n.authDomain=vh(e).options.authDomain,n.appName=vh(e).name,e.R&&(n.emulatorConfig=e.R),e.$.then((function(){return function(e,t,n,r){var i=new bl(e,t);return n&&(i.ha=n),r&&Tl(i,r),i.reload().then((function(){return i}))}(n,t,e.D,e.Ga())})).then((function(t){return gh(e)&&t.uid==gh(e).uid?(Ul(gh(e),t),e.da(t)):(dh(e,t),xl(t),e.da(t))})).then((function(){yh(e)}))}function dh(e,t){gh(e)&&(function(e,t){G(e.W,(function(e){return e==t}))}(gh(e),e.Ba),ln(gh(e),"tokenChanged",e.qa),ln(gh(e),"userDeleted",e.za),ln(gh(e),"userInvalidated",e.Aa),Cl(gh(e))),t&&(t.W.push(e.Ba),sn(t,"tokenChanged",e.qa),sn(t,"userDeleted",e.za),sn(t,"userInvalidated",e.Aa),0<e.u&&Sl(t)),Qr(e,"currentUser",t),t&&(t.xa(e.la()),_l(t,e),Tl(t,e.J),Il(t,e),wl(t,e.R),El(t,e))}function ph(e,t){var n=null,r=null;return bh(e,t.then((function(t){return n=Fo(t),r=Qi(t),fh(e,t)}),(function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=il(t.w(),e,b(e.kc,e))),n||t})).then((function(){return Yr({user:gh(e),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function vh(e){return e.app}function gh(e){return e.currentUser}function mh(e){return gh(e)&&gh(e)._lat||null}function yh(e){if(e.ba){for(var t=0;t<e.s.length;t++)e.s[t]&&e.s[t](mh(e));if(e.W!==e.getUid()&&e.N.length)for(e.W=e.getUid(),t=0;t<e.N.length;t++)e.N[t]&&e.N[t](mh(e))}}function bh(e,t){return e.P.push(t),t.oa((function(){H(e.P,t)})),t}function wh(){}function _h(){this.a={},this.b=1e12}Jl.prototype.yb=function(e){var t=null,n=this;return function(e){var t=new T("invalid-persistence-type"),n=new T("unsupported-persistence-type");e:{for(r in Ju)if(Ju[r]==e){var r=!0;break e}r=!1}if(!r||"string"!=typeof e)throw t;switch(wr()){case"ReactNative":if("session"===e)throw n;break;case"Node":if("none"!==e)throw n;break;case"Worker":if("session"===e||!Pu()&&"none"!==e)throw n;break;default:if(!Ar()&&"none"!==e)throw n}}(e),oh(this,(function(){return e!=n.c.F?n.b.get(n.c,n.a).then((function(r){return t=r,Zl(n,e)})).then((function(){if(n.c=th(e),t)return n.b.set(n.c,t,n.a)})):St()}))},_(ah,bn),_(sh,Qt),_(uh,Qt),_(ch,Qt),(e=ah.prototype).yb=function(e){return bh(this,e=this.i.yb(e))},e.xa=function(e){this.aa===e||this.l||(this.aa=e,ns(this.a,this.aa),this.dispatchEvent(new sh(this.la())))},e.la=function(){return this.aa},e.fd=function(){var e=a.navigator;this.xa(e&&(e.languages&&e.languages[0]||e.language||e.userLanguage)||null)},e.gd=function(e,t){if(!this.R){if(!/^https?:\/\//.test(e))throw new T("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(e){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),a.document&&!e&&gr().then((function(){var e=a.document.createElement("div");e.innerText="Running in emulator mode. Do not use with production credentials.",e.style.position="fixed",e.style.width="100%",e.style.backgroundColor="#ffffff",e.style.border=".1em solid #000000",e.style.color="#b50000",e.style.bottom="0px",e.style.left="0px",e.style.margin="0px",e.style.zIndex=1e4,e.style.textAlign="center",e.classList.add("firebase-emulator-warning"),a.document.body.appendChild(e)}))})(t=!!t&&!!t.disableWarnings),this.R={url:e,ec:t},this.settings.jb=!0,rs(this.a,this.R),this.dispatchEvent(new uh(this.R))}},e.Gc=function(e){this.J.push(e),os(this.a,Gf.SDK_VERSION?Sr(Gf.SDK_VERSION,this.J):null),this.dispatchEvent(new ch(this.J))},e.Ga=function(){return $(this.J)},e.zb=function(e){this.S===e||this.l||(this.S=e,this.a.b=this.S)},e.T=function(){return this.S},e.toJSON=function(){return{apiKey:vh(this).options.apiKey,authDomain:vh(this).options.authDomain,appName:vh(this).name,currentUser:gh(this)&&gh(this).w()}},e.Gb=function(e,t){switch(e){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==t&&!!this.f;default:return!1}},e.na=function(e,t,n,r){"signInViaPopup"==e&&this.g==r&&(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(e,t){return"signInViaRedirect"==e||"signInViaPopup"==e&&this.g==t&&this.f?b(this.ic,this):null},e.ic=function(e,t,n,r){var i=this,o={requestUri:e,postBody:r,sessionId:t,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return ph(i,bs(i.a,o))}))},e.Xc=function(e){if(!xr())return Ct(new T("operation-not-supported-in-this-environment"));var t=this,n=Gi(e.providerId),r=Fr(),i=null;(!Dr()||yr())&&vh(this).options.authDomain&&e.isOAuthProvider&&(i=mu(vh(this).options.authDomain,vh(this).options.apiKey,vh(this).name,"signInViaPopup",e,null,r,Gf.SDK_VERSION||null,null,null,this.T(),this.R));var o=dr(i,n&&n.va,n&&n.ua);return bh(this,n=lh(this).then((function(n){return Fc(n,o,"signInViaPopup",e,r,!!i,t.T())})).then((function(){return new bt((function(e,n){t.na("signInViaPopup",null,new T("cancelled-popup-request"),t.g),t.f=e,t.C=n,t.g=r,t.c=qc(t.b,t,"signInViaPopup",o,r)}))})).then((function(e){return o&&fr(o),e?Yr(e):null})).o((function(e){throw o&&fr(o),e})))},e.Yc=function(e){if(!xr())return Ct(new T("operation-not-supported-in-this-environment"));var t=this;return bh(this,lh(this).then((function(){return function(e){return oh(e,(function(){return e.b.set(eh,e.c.F,e.a)}))}(t.i)})).then((function(){return jc(t.b,"signInViaRedirect",e,void 0,t.T())})))},e.ra=function(){var e=this;return hh(this).then((function(t){return e.b&&Hc(e.b.b),t})).o((function(t){throw e.b&&Hc(e.b.b),t}))},e.dd=function(e){if(!e)return Ct(new T("null-user"));if(this.S!=e.tenantId)return Ct(new T("tenant-id-mismatch"));var t=this,n={};n.apiKey=vh(this).options.apiKey,n.authDomain=vh(this).options.authDomain,n.appName=vh(this).name;var r=function(e,t,n,r){var i=e.h,o={};return o[Xa]=i.b&&i.b.toString(),o.refreshToken=i.a,t=new bl(t||{apiKey:e.l,authDomain:e.s,appName:e.m},o),n&&(t.ha=n),r&&Tl(t,r),Ul(t,e),t}(e,n,t.D,t.Ga());return bh(this,this.h.then((function(){if(vh(t).options.apiKey!=e.l)return r.reload()})).then((function(){return gh(t)&&e.uid==gh(t).uid?(Ul(gh(t),e),t.da(e)):(dh(t,r),xl(r),t.da(r))})).then((function(){yh(t)})))},e.Bb=function(){var e=this;return bh(this,this.h.then((function(){return e.b&&Hc(e.b.b),gh(e)?(dh(e,null),rh(e.i).then((function(){yh(e)}))):St()})))},e.Zc=function(){var e=this;return ih(this.i,vh(this).options.authDomain).then((function(t){if(!e.l){var n;if(n=gh(e)&&t){n=gh(e).uid;var r=t.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return Ul(gh(e),t),gh(e).I();(gh(e)||t)&&(dh(e,t),t&&(xl(t),t.ha=e.D),e.b&&Dc(e.b,e),yh(e))}}))},e.da=function(e){return nh(this.i,e)},e.mc=function(){yh(this),this.da(gh(this))},e.wc=function(){this.Bb()},e.xc=function(){this.Bb()},e.kc=function(e){var t=this;return this.h.then((function(){return ph(t,St(e))}))},e.zc=function(e){var t=this;this.addAuthTokenListener((function(){e.next(gh(t))}))},e.Ac=function(e){var t=this;!function(e,t){e.N.push(t),bh(e,e.h.then((function(){!e.l&&W(e.N,t)&&e.W!==e.getUid()&&(e.W=e.getUid(),t(mh(e)))})))}(this,(function(){e.next(gh(t))}))},e.Ic=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"==typeof e?e(gh(r)):"function"==typeof e.next&&e.next(gh(r))})),this.Pa(e,t,n)},e.Hc=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.W=r.getUid(),"function"==typeof e?e(gh(r)):"function"==typeof e.next&&e.next(gh(r))})),this.ib(e,t,n)},e.nc=function(e){var t=this;return bh(this,this.h.then((function(){return gh(t)?gh(t).I(e).then((function(e){return{accessToken:e}})):null})))},e.Tc=function(e){var t=this;return this.h.then((function(){return ph(t,nu(t.a,Ys,{token:e}))})).then((function(e){var n=e.user;return Fl(n,"isAnonymous",!1),t.da(n),e}))},e.Uc=function(e,t){var n=this;return this.h.then((function(){return ph(n,nu(n.a,Xs,{email:e,password:t}))}))},e.dc=function(e,t){var n=this;return this.h.then((function(){return ph(n,nu(n.a,ks,{email:e,password:t}))}))},e.ab=function(e){var t=this;return this.h.then((function(){return ph(t,e.ka(t.a))}))},e.Sc=function(e){return Hr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(e)},e.Ab=function(){var e=this;return this.h.then((function(){var t=gh(e);if(t&&t.isAnonymous){var n=Yr({providerId:null,isNewUser:!1});return Yr({user:t,credential:null,additionalUserInfo:n,operationType:"signIn"})}return ph(e,e.a.Ab()).then((function(t){var n=t.user;return Fl(n,"isAnonymous",!0),e.da(n),t}))}))},e.getUid=function(){return gh(this)&&gh(this).uid||null},e.cc=function(e){this.addAuthTokenListener(e),this.u++,0<this.u&&gh(this)&&Sl(gh(this))},e.Pc=function(e){var t=this;V(this.s,(function(n){n==e&&t.u--})),0>this.u&&(this.u=0),0==this.u&&gh(this)&&Cl(gh(this)),this.removeAuthTokenListener(e)},e.addAuthTokenListener=function(e){var t=this;this.s.push(e),bh(this,this.h.then((function(){t.l||W(t.s,e)&&e(mh(t))})))},e.removeAuthTokenListener=function(e){G(this.s,(function(t){return t==e}))},e.delete=function(){this.l=!0;for(var e=0;e<this.P.length;e++)this.P[e].cancel("app-deleted");return this.P=[],this.i&&(e=this.i).b.removeListener(th("local"),e.a,this.ja),this.b&&(Oc(this.b,this),Hc(this.b.b)),Promise.resolve()},e.hc=function(e){return bh(this,function(e,t){return nu(e,Ss,{identifier:t,continueUri:Pr()?ur():"http://localhost"}).then((function(e){return e.signinMethods||[]}))}(this.a,e))},e.Bc=function(e){return!!Po(e)},e.xb=function(e,t){var n=this;return bh(this,St().then((function(){var e=new Ni(t);if(!e.c)throw new T("argument-error",Pi+" must be true when sending sign in link to email");return Ui(e)})).then((function(t){return n.a.xb(e,t)})).then((function(){})))},e.jd=function(e){return this.Sa(e).then((function(e){return e.data.email}))},e.ob=function(e,t){return bh(this,this.a.ob(e,t).then((function(){})))},e.Sa=function(e){return bh(this,this.a.Sa(e).then((function(e){return new oi(e)})))},e.kb=function(e){return bh(this,this.a.kb(e).then((function(){})))},e.wb=function(e,t){var n=this;return bh(this,St().then((function(){return void 0===t||he(t)?{}:Ui(new Ni(t))})).then((function(t){return n.a.wb(e,t)})).then((function(){})))},e.Wc=function(e,t){return bh(this,Jc(this,e,t,b(this.ab,this)))},e.Vc=function(e,t){var n=this;return bh(this,St().then((function(){var r=t||ur(),i=xo(e,r);if(!(r=Po(r)))throw new T("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new T("tenant-id-mismatch");return n.ab(i)})))},wh.prototype.render=function(){},wh.prototype.reset=function(){},wh.prototype.getResponse=function(){},wh.prototype.execute=function(){};var Eh=null;function Th(e,t){return(t=Ih(t))&&e.a[t]||null}function Ih(e){return(e=void 0===e?1e12:e)?e.toString():null}function kh(e,t){this.g=!1,this.c=t,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=st(e);var n=this;this.i=function(){n.execute()},this.h?this.execute():sn(this.f,"click",this.i)}function Sh(e){if(e.g)throw Error("reCAPTCHA mock was already deleted!")}function Ch(){}function Nh(){}_h.prototype.render=function(e,t){return this.a[this.b.toString()]=new kh(e,t),this.b++},_h.prototype.reset=function(e){var t=Th(this,e);e=Ih(e),t&&e&&(t.delete(),delete this.a[e])},_h.prototype.getResponse=function(e){return(e=Th(this,e))?e.getResponse():null},_h.prototype.execute=function(e){(e=Th(this,e))&&e.execute()},kh.prototype.getResponse=function(){return Sh(this),this.b},kh.prototype.execute=function(){Sh(this);var e=this;this.a||(this.a=setTimeout((function(){e.b=function(){for(var e=50,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}();var t=e.c.callback,n=e.c["expired-callback"];if(t)try{t(e.b)}catch(r){}e.a=setTimeout((function(){if(e.a=null,e.b=null,n)try{n()}catch(r){}e.h&&e.execute()}),6e4)}),500))},kh.prototype.delete=function(){Sh(this),this.g=!0,clearTimeout(this.a),this.a=null,ln(this.f,"click",this.i)},Qr(Ch,"FACTOR_ID","phone"),Nh.prototype.g=function(){return Eh||(Eh=new _h),St(Eh)},Nh.prototype.c=function(){};var Ah=null;function xh(){this.b=a.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Ph=new ge(we,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Rh=new qr(3e4,6e4);xh.prototype.g=function(e){var t=this;return new bt((function(n,r){var i=setTimeout((function(){r(new T("network-request-failed"))}),Rh.get());!a.grecaptcha||e!==t.f&&!t.b?(a[t.a]=function(){if(a.grecaptcha){t.f=e;var o=a.grecaptcha.render;a.grecaptcha.render=function(e,n){return e=o(e,n),t.b++,e},clearTimeout(i),n(a.grecaptcha)}else clearTimeout(i),r(new T("internal-error"));delete a[t.a]},St(Ba(Ie(Ph,{onload:t.a,hl:e||""}))).o((function(){clearTimeout(i),r(new T("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(a.grecaptcha))}))},xh.prototype.c=function(){this.b--};var Dh=null;function Oh(e,t,n,r,i,o,s){if(Qr(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=t,this.g=null,s?(Ah||(Ah=new Nh),s=Ah):(Dh||(Dh=new xh),s=Dh),this.m=s,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Fh])throw new T("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Uh],!a.document)throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!st(t)||!this.i&&st(t).hasChildNodes())throw new T("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new $a(e,o||null,i||null),this.u=r||function(){return null};var u=this;this.l=[];var c=this.a[Lh];this.a[Lh]=function(e){if(jh(u,e),"function"==typeof c)c(e);else if("string"==typeof c){var t=Nr(c,a);"function"==typeof t&&t(e)}};var l=this.a[Mh];this.a[Mh]=function(){if(jh(u,null),"function"==typeof l)l();else if("string"==typeof l){var e=Nr(l,a);"function"==typeof e&&e()}}}var Lh="callback",Mh="expired-callback",Fh="sitekey",Uh="size";function jh(e,t){for(var n=0;n<e.l.length;n++)try{e.l[n](t)}catch(r){}}function qh(e,t){return e.h.push(t),t.oa((function(){H(e.h,t)})),t}function Vh(e){if(e.J)throw new T("internal-error","RecaptchaVerifier instance has been destroyed.")}function Bh(e,t,n){var r=!1;try{this.b=n||Gf.app()}catch(a){throw new T("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new T("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ga()}catch(a){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(a){}o=Gf.SDK_VERSION?Sr(Gf.SDK_VERSION,o):null,Oh.call(this,n,e,t,(function(){try{var e=i.b.auth().la()}catch(t){e=null}return e}),o,A(k),r)}function zh(e,t,n,r){e:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<t.length;a++)if(t[a].optional)o=!0;else{if(o)throw new T("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=t.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=t[i].optional&&void 0===n[i],!t[i].M(n[i])&&!o){if(t=t[i],0>i||i>=Kh.length)throw new T("internal-error","Argument validator received an unsupported number of arguments.");n=Kh[i],r=(r?"":n+" argument ")+(t.name?'"'+t.name+'" ':"")+"must be "+t.K+".";break e}r=null}}if(r)throw new T("argument-error",e+" failed: "+r)}(e=Oh.prototype).Ia=function(){var e=this;return this.f?this.f:this.f=qh(this,St().then((function(){if(Pr()&&!br())return gr();throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return e.m.g(e.u())})).then((function(t){return e.g=t,nu(e.s,js,{})})).then((function(t){e.a[Fh]=t.recaptchaSiteKey})).o((function(t){throw e.f=null,t})))},e.render=function(){Vh(this);var e=this;return qh(this,this.Ia().then((function(){if(null===e.c){var t=e.v;if(!e.i){var n=st(t);t=function(e,t,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!at&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',Ve(a.name),'"'),a.type){o.push(' type="',Ve(a.type),'"');var s={};pe(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=dt(i,o),a&&("string"==typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):ut(o,a)),2<r.length&&ft(i,o,r),o}("DIV"),n.appendChild(t)}e.c=e.g.render(t,e.a)}return e.c})))},e.verify=function(){Vh(this);var e=this;return qh(this,this.render().then((function(t){return new bt((function(n){var r=e.g.getResponse(t);if(r)n(r);else{var i=function(t){t&&(function(e,t){G(e.l,(function(e){return e==t}))}(e,i),n(t))};e.l.push(i),e.i&&e.g.execute(e.c)}}))})))},e.reset=function(){Vh(this),null!==this.c&&this.g.reset(this.c)},e.clear=function(){Vh(this),this.J=!0,this.m.c();for(var e=0;e<this.h.length;e++)this.h[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){e=st(this.v);for(var t;t=e.firstChild;)e.removeChild(t)}},_(Bh,Oh);var Kh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Wh(e,t){return{name:e||"",K:"a valid string",optional:!!t,M:function(e){return"string"==typeof e}}}function Hh(e,t){return{name:e||"",K:"a boolean",optional:!!t,M:function(e){return"boolean"==typeof e}}}function Gh(e,t){return{name:e||"",K:"a valid object",optional:!!t,M:p}}function Qh(e,t){return{name:e||"",K:"a function",optional:!!t,M:function(e){return"function"==typeof e}}}function $h(e,t){return{name:e||"",K:"null",optional:!!t,M:function(e){return null===e}}}function Yh(e){return{name:e?e+"Credential":"credential",K:e?"a valid "+e+" credential":"a valid credential",optional:!1,M:function(t){if(!t)return!1;var n=!e||t.providerId===e;return!(!t.ka||!n)}}}function Xh(e,t){return p(e)&&"string"==typeof e.type&&e.type===t&&"function"==typeof e.Ha}function Jh(e){return p(e)&&"string"==typeof e.uid}function Zh(e,t,n,r){return{name:n||"",K:e.K+" or "+t.K,optional:!!r,M:function(n){return e.M(n)||t.M(n)}}}function ef(e,t){for(var n in t){var r=t[n].name;e[r]=rf(r,e[n],t[n].j)}}function tf(e,t){for(var n in t){var r=t[n].name;r!==n&&Object.defineProperty(e,r,{get:w((function(e){return this[e]}),n),set:w((function(e,t,n,r){zh(e,[n],[r],!0),this[t]=r}),r,n,t[n].lb),enumerable:!0})}}function nf(e,t,n,r){e[t]=rf(t,n,r)}function rf(e,t,n){function r(){var e=Array.prototype.slice.call(arguments);return zh(o,n,e),t.apply(this,e)}if(!n)return t;var i,o=function(e){return(e=e.split("."))[e.length-1]}(e);for(i in t)r[i]=t[i];for(i in t.prototype)r.prototype[i]=t.prototype[i];return r}ef(ah.prototype,{kb:{name:"applyActionCode",j:[Wh("code")]},Sa:{name:"checkActionCode",j:[Wh("code")]},ob:{name:"confirmPasswordReset",j:[Wh("code"),Wh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Wh("email"),Wh("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Wh("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Wh("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Zh(Gh(),Qh(),"nextOrObserver"),Qh("opt_error",!0),Qh("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Zh(Gh(),Qh(),"nextOrObserver"),Qh("opt_error",!0),Qh("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[Wh("email"),Zh(Gh("opt_actionCodeSettings",!0),$h(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[Wh("email"),Gh("actionCodeSettings")]},yb:{name:"setPersistence",j:[Wh("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Yh()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[Yh()]},Tc:{name:"signInWithCustomToken",j:[Wh("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Wh("email"),Wh("password")]},Vc:{name:"signInWithEmailLink",j:[Wh("email"),Wh("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Wh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[Zh({name:"user",K:"an instance of Firebase User",optional:!1,M:function(e){return!!(e&&e instanceof bl)}},$h(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Wh(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Wh("url"),Gh("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Wh("code")]}}),tf(ah.prototype,{lc:{name:"languageCode",lb:Zh(Wh(),$h(),"languageCode")},ti:{name:"tenantId",lb:Zh(Wh(),$h(),"tenantId")}}),ah.Persistence=Ju,ah.Persistence.LOCAL="local",ah.Persistence.SESSION="session",ah.Persistence.NONE="none",ef(bl.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Hh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Hh("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Yh()]},rb:{name:"linkWithCredential",j:[Yh()]},Dc:{name:"linkWithPhoneNumber",j:[Wh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Yh()]},ub:{name:"reauthenticateWithCredential",j:[Yh()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Wh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[Zh(Gh("opt_actionCodeSettings",!0),$h(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Wh(null,!0)]},cd:{name:"unlink",j:[Wh("provider")]},Cb:{name:"updateEmail",j:[Wh("email")]},Db:{name:"updatePassword",j:[Wh("password")]},ed:{name:"updatePhoneNumber",j:[Yh("phone")]},Eb:{name:"updateProfile",j:[Gh("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[Wh("email"),Zh(Gh("opt_actionCodeSettings",!0),$h(null,!0),"opt_actionCodeSettings",!0)]}}),ef(_h.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),ef(wh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),ef(bt.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),tf(Yc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:Hh("appVerificationDisabledForTesting")}}),ef(Xc.prototype,{confirm:{name:"confirm",j:[Wh("verificationCode")]}}),nf(so,"fromJSON",(function(e){e="string"==typeof e?JSON.parse(e):e;for(var t,n=[vo,No,Do,ho],r=0;r<n.length;r++)if(t=n[r](e))return t;return null}),[Zh(Wh(),Gh(),"json")]),nf(Ao,"credential",(function(e,t){return new Co(e,t)}),[Wh("email"),Wh("password")]),ef(Co.prototype,{w:{name:"toJSON",j:[Wh(null,!0)]}}),ef(bo.prototype,{Ca:{name:"addScope",j:[Wh("scope")]},Ka:{name:"setCustomParameters",j:[Gh("customOAuthParameters")]}}),nf(bo,"credential",wo,[Zh(Wh(),Gh(),"token")]),nf(Ao,"credentialWithLink",xo,[Wh("email"),Wh("emailLink")]),ef(_o.prototype,{Ca:{name:"addScope",j:[Wh("scope")]},Ka:{name:"setCustomParameters",j:[Gh("customOAuthParameters")]}}),nf(_o,"credential",Eo,[Zh(Wh(),Gh(),"token")]),ef(To.prototype,{Ca:{name:"addScope",j:[Wh("scope")]},Ka:{name:"setCustomParameters",j:[Gh("customOAuthParameters")]}}),nf(To,"credential",Io,[Zh(Wh(),Zh(Gh(),$h()),"idToken"),Zh(Wh(),$h(),"accessToken",!0)]),ef(ko.prototype,{Ka:{name:"setCustomParameters",j:[Gh("customOAuthParameters")]}}),nf(ko,"credential",So,[Zh(Wh(),Gh(),"token"),Wh("secret",!0)]),ef(yo.prototype,{Ca:{name:"addScope",j:[Wh("scope")]},credential:{name:"credential",j:[Zh(Wh(),Zh(Gh(),$h()),"optionsOrIdToken"),Zh(Wh(),$h(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Gh("customOAuthParameters")]}}),ef(fo.prototype,{w:{name:"toJSON",j:[Wh(null,!0)]}}),ef(co.prototype,{w:{name:"toJSON",j:[Wh(null,!0)]}}),nf(Lo,"credential",Mo,[Wh("verificationId"),Wh("verificationCode")]),ef(Lo.prototype,{gb:{name:"verifyPhoneNumber",j:[Zh(Wh(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(e){return!!e&&(e.session&&e.phoneNumber?Xh(e.session,oo)&&"string"==typeof e.phoneNumber:e.session&&e.multiFactorHint?Xh(e.session,ao)&&Jh(e.multiFactorHint):e.session&&e.multiFactorUid?Xh(e.session,ao)&&"string"==typeof e.multiFactorUid:!!e.phoneNumber&&"string"==typeof e.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]}}),ef(Ro.prototype,{w:{name:"toJSON",j:[Wh(null,!0)]}}),ef(T.prototype,{toJSON:{name:"toJSON",j:[Wh(null,!0)]}}),ef(Wo.prototype,{toJSON:{name:"toJSON",j:[Wh(null,!0)]}}),ef(Ko.prototype,{toJSON:{name:"toJSON",j:[Wh(null,!0)]}}),ef(rl.prototype,{toJSON:{name:"toJSON",j:[Wh(null,!0)]}}),ef(el.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.tb}}]}}),ef(cl.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.tb}},Wh("displayName",!0)]},bd:{name:"unenroll",j:[Zh({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Jh},Wh(),"multiFactorInfoIdentifier")]}}),ef(Bh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),nf(bi,"parseLink",Ci,[Wh("link")]),nf(Ch,"assertion",(function(e){return new sl(e)}),[Yh("phone")]),function(){if(void 0===Gf||!Gf.INTERNAL||!Gf.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var e={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:si,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ai,VERIFY_AND_CHANGE_EMAIL:ui,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:ah,AuthCredential:so,Error:T};nf(e,"EmailAuthProvider",Ao,[]),nf(e,"FacebookAuthProvider",bo,[]),nf(e,"GithubAuthProvider",_o,[]),nf(e,"GoogleAuthProvider",To,[]),nf(e,"TwitterAuthProvider",ko,[]),nf(e,"OAuthProvider",yo,[Wh("providerId")]),nf(e,"SAMLAuthProvider",mo,[Wh("providerId")]),nf(e,"PhoneAuthProvider",Lo,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(e){return!!(e&&e instanceof ah)}}]),nf(e,"RecaptchaVerifier",Bh,[Zh(Wh(),{name:"",K:"an HTML element",optional:!1,M:function(e){return!!(e&&e instanceof Element)}},"recaptchaContainer"),Gh("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(e){return!!(e&&e instanceof Gf.app.App)}}]),nf(e,"ActionCodeURL",bi,[]),nf(e,"PhoneMultiFactorGenerator",Ch,[]),Gf.INTERNAL.registerComponent({name:"auth",instanceFactory:function(e){return new ah(e=e.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:e,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(e){e.getProvider("auth-internal").initialize()}}),Gf.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(e){return{getUid:b((e=e.getProvider("auth").getImmediate()).getUid,e),getToken:b(e.nc,e),addAuthTokenListener:b(e.cc,e),removeAuthTokenListener:b(e.Pc,e)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),Gf.registerVersion("@firebase/auth","0.16.8"),Gf.INTERNAL.extendNamespace({User:bl})}()}.apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Qf="";function $f(e){Qf=e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yf,Xf=function(){function e(e){this.domStorage_=e,this.prefix_="firebase:"}return e.prototype.set=function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),tf(t))},e.prototype.get=function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:ef(t)},e.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},e.prototype.prefixedName_=function(e){return this.prefix_+e},e.prototype.toString=function(){return this.domStorage_.toString()},e}(),Jf=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t},e.prototype.get=function(e){return rf(this.cache_,e)?this.cache_[e]:null},e.prototype.remove=function(e){delete this.cache_[e]},e}(),Zf=function(e){try{if("undefined"!=typeof window&&void 0!==window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Xf(t)}}catch(aO){}return new Jf},ed=Zf("localStorage"),td=Zf("sessionStorage"),nd=new Rf("@firebase/database"),rd=(Yf=1,function(){return Yf++}),id=function(e){var t=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var o=i-55296;r++,Rh(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(o<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new uf;n.update(t);var r=n.digest();return Lh.encodeByteArray(r)},od=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n="",r=0;r<e.length;r++){var i=e[r];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?n+=od.apply(null,i):n+="object"==typeof i?tf(i):i,n+=" "}return n},ad=null,sd=!0,ud=function(e,t){Rh(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(nd.logLevel=If.VERBOSE,ad=nd.log.bind(nd),t&&td.set("logging_enabled",!0)):"function"==typeof e?ad=e:(ad=null,td.remove("logging_enabled"))},cd=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!0===sd&&(sd=!1,null===ad&&!0===td.get("logging_enabled")&&ud(!0)),ad){var n=od.apply(null,e);ad(n)}},ld=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];cd.apply(void 0,Ah([e],Nh(t)))}},hd=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+od.apply(void 0,Ah([],Nh(e)));nd.error(n)},fd=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+od.apply(void 0,Ah([],Nh(e)));throw nd.error(n),new Error(n)},dd=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+od.apply(void 0,Ah([],Nh(e)));nd.warn(n)},pd=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},vd="[MIN_NAME]",gd="[MAX_NAME]",md=function(e,t){if(e===t)return 0;if(e===vd||t===gd)return-1;if(t===vd||e===gd)return 1;var n=kd(e),r=kd(t);return null!==n?null!==r?n-r==0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},yd=function(e,t){return e===t?0:e<t?-1:1},bd=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+tf(t))},wd=function(e){if("object"!=typeof e||null===e)return tf(e);var t=[];for(var n in e)t.push(n);t.sort();for(var r="{",i=0;i<t.length;i++)0!==i&&(r+=","),r+=tf(t[i]),r+=":",r+=wd(e[t[i]]);return r+="}"},_d=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ed(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var Td=function(e){Rh(!pd(e),"Invalid JSON number");var t,n,r,i,o,a=1023;0===e?(n=0,r=0,t=1/e==-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),a))+a,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var s=[];for(o=52;o;o-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(o=11;o;o-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(t?1:0),s.reverse();var u=s.join(""),c="";for(o=0;o<64;o+=8){var l=parseInt(u.substr(o,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()};var Id=new RegExp("^-?(0*)\\d{1,10}$"),kd=function(e){if(Id.test(e)){var t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},Sd=function(e){try{e()}catch(aO){setTimeout((function(){var t=aO.stack||"";throw dd("Exception was thrown by user callback.",t),aO}),Math.floor(0))}},Cd=function(e,t){var n=setTimeout(e,t);return"object"==typeof n&&n.unref&&n.unref(),n},Nd=function(){function e(e,t){var n=this;this.appName_=e,this.appCheckProvider=t,this.appCheck=null==t?void 0:t.getImmediate({optional:!0}),this.appCheck||null==t||t.get().then((function(e){return n.appCheck=e}))}return e.prototype.getToken=function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))},e.prototype.addTokenChangeListener=function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){dd('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},e}(),Ad=function(){function e(e,t,n){var r=this;this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((function(e){return r.auth_=e}))}return e.prototype.getToken=function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(cd("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))},e.prototype.addTokenChangeListener=function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))},e.prototype.removeTokenChangeListener=function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',dd(e)},e}(),xd=function(){function e(e){this.accessToken=e}return e.prototype.getToken=function(e){return Promise.resolve({accessToken:this.accessToken})},e.prototype.addTokenChangeListener=function(e){e(this.accessToken)},e.prototype.removeTokenChangeListener=function(e){},e.prototype.notifyForInvalidToken=function(){},e.OWNER="owner",e}(),Pd=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Rd=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===a&&(a=!1),this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ed.get("host:"+e)||this._host}return e.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},e.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ed.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),e.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},e.prototype.toURLString=function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+e+this.host+"/"+t},e}();function Dd(e,t,n){var r;if(Rh("string"==typeof t,"typeof type must == string"),Rh("object"==typeof n,"typeof params must == object"),"websocket"===t)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if("long_polling"!==t)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return Ed(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Od=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(e,t){void 0===t&&(t=1),rf(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t},e.prototype.get=function(){return Fh(this.counters_)},e}(),Ld={},Md={};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fd(e){var t=e.toString();return Ld[t]||(Ld[t]=new Od),Ld[t]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Ud=function(){function e(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var t=function(t){e[t]&&Sd((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum];){if("break"===r())break}},e}(),jd=function(){function e(e,t,n,r,i,o,a){var s=this;this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ld(e),this.stats_=Fd(t),this.urlFn=function(e){return s.appCheckToken&&(e.ac=s.appCheckToken),Dd(t,"long_polling",e)}}return e.prototype.open=function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Ud(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if("complete"===document.readyState)e();else{var t=!1,n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new qd((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Nh(e,5),i=r[0],o=r[1],a=r[2];if(r[3],r[4],n.incrementIncomingBytes_(e),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,"start"===i)n.id=o,n.password=a;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Nh(e,2),i=r[0],o=r[1];n.incrementIncomingBytes_(e),n.myPacketOrderer.handleResponse(i,o)}),(function(){n.onClosed_()}),n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v="5",n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e.ac=n.appCheckToken),"undefined"!=typeof location&&location.hostname&&Pd.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return!!e.forceAllow_||!(e.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI)},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(e){var t=tf(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n,r=(n=Oh(t),Lh.encodeByteArray(n,!0)),i=_d(r,1840),o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(e,t){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)},e.prototype.incrementIncomingBytes_=function(e){var t=tf(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)},e}(),qd=function(){function e(t,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,this.uniqueCallbackIdentifier=rd(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(o='<script>document.domain="'+document.domain+'";<\/script>');var a="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(aO){cd("frame writing exception"),aO.stack&&cd(aO.stack),cd(aO)}}return e.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||cd("No IE domain setting required")}catch(aO){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},e.prototype.close=function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())},e.prototype.startLongPoll=function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1},e.prototype.enqueueSegment=function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))},e.prototype.addTag=function(e,t){var n=this;setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){cd("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(aO){}}),Math.floor(1))},e}(),Vd=null;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */"undefined"!=typeof MozWebSocket?Vd=MozWebSocket:"undefined"!=typeof WebSocket&&(Vd=WebSocket);var Bd=function(){function e(t,n,r,i,o,a,s){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ld(this.connId),this.stats_=Fd(n),this.connURL=e.connectionURL_(n,a,s,i),this.nodeAdmin=n.nodeAdmin}return e.connectionURL_=function(e,t,n,r){var i={v:"5"};return"undefined"!=typeof location&&location.hostname&&Pd.test(location.hostname)&&(i.r="f"),t&&(i.s=t),n&&(i.ls=n),r&&(i.ac=r),Dd(e,"websocket",i)},e.prototype.open=function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ed.set("previous_websocket_failure",!0);try{if(Hh());else{var r={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new Vd(this.connURL,[],r)}}catch(aO){this.log_("Error instantiating WebSocket.");var i=aO.message||aO.data;return i&&this.log_(i),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==Vd&&!e.forceDisallow_},e.previouslyFailed=function(){return ed.isInMemoryStorage||!0===ed.get("previous_websocket_failure")},e.prototype.markConnectionHealthy=function(){ed.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=ef(t);this.onMessage(n)}},e.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},e.prototype.extractFrameCount_=function(e){if(Rh(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e},e.prototype.handleIncomingFrame=function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}},e.prototype.send=function(e){this.resetKeepAlive();var t=tf(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=_d(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))},e.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(aO){this.log_("Exception thrown from WebSocket.send():",aO.message||aO.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}(),zd=function(){function e(e){this.initTransports_(e)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[jd,Bd]},enumerable:!1,configurable:!0}),e.prototype.initTransports_=function(t){var n,r,i=Bd&&Bd.isAvailable(),o=i&&!Bd.previouslyFailed();if(t.webSocketOnly&&(i||dd("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[Bd];else{var a=this.transports_=[];try{for(var s=Ch(e.ALL_TRANSPORTS),u=s.next();!u.done;u=s.next()){var c=u.value;c&&c.isAvailable()&&a.push(c)}}catch(l){n={error:l}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}(),Kd=function(){function e(e,t,n,r,i,o,a,s,u,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=s,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ld("c:"+this.id+":"),this.transportManager_=new zd(t),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=Cd((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}},e.prototype.connReceiver_=function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}},e.prototype.sendRequest=function(e){var t={t:"d",d:e};this.sendData_(t)},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(e){var t=bd("t",e),n=bd("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(e){var t=bd("t",e),n=bd("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)},e.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(e){var t=bd("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?hd("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):hd("Unknown control packet command: "+t)}},e.prototype.onHandshake_=function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==n&&dd("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},e.prototype.startUpgrade_=function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Cd((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))},e.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Cd((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()},e.prototype.onConnectionLost_=function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ed.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},e.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)},e.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}(),Wd=function(){function e(){}return e.prototype.put=function(e,t,n,r){},e.prototype.merge=function(e,t,n,r){},e.prototype.refreshAuthToken=function(e){},e.prototype.refreshAppCheckToken=function(e){},e.prototype.onDisconnectPut=function(e,t,n){},e.prototype.onDisconnectMerge=function(e,t,n){},e.prototype.onDisconnectCancel=function(e,t){},e.prototype.reportStats=function(e){},e}(),Hd=function(){function e(e){this.allowedEvents_=e,this.listeners_={},Rh(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Array.isArray(this.listeners_[e]))for(var r=Ah([],Nh(this.listeners_[e])),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)},e.prototype.on=function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)},e.prototype.off=function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)},e.prototype.validateEventType_=function(e){Rh(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)},e}(),Gd=function(e){function t(){var t=e.call(this,["online"])||this;return t.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||Bh()||(window.addEventListener("online",(function(){t.online_||(t.online_=!0,t.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){t.online_&&(t.online_=!1,t.trigger("online",!1))}),!1)),t}return Th(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return Rh("online"===e,"Unknown event type: "+e),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(Hd),Qd=function(){function e(e,t){if(void 0===t){this.pieces_=e.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}return e.prototype.toString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $d(){return new Qd("")}function Yd(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Xd(e){return e.pieces_.length-e.pieceNum_}function Jd(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new Qd(e.pieces_,t)}function Zd(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function ep(e,t){return void 0===t&&(t=0),e.pieces_.slice(e.pieceNum_+t)}function tp(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Qd(t,0)}function np(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Qd)for(r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{var i=t.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new Qd(n,0)}function rp(e){return e.pieceNum_>=e.pieces_.length}function ip(e,t){var n=Yd(e),r=Yd(t);if(null===n)return t;if(n===r)return ip(Jd(e),Jd(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function op(e,t){for(var n=ep(e,0),r=ep(t,0),i=0;i<n.length&&i<r.length;i++){var o=md(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function ap(e,t){if(Xd(e)!==Xd(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function sp(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(Xd(e)>Xd(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var up=function(e,t){this.errorPrefix_=t,this.parts_=ep(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=gf(this.parts_[n]);cp(this)};function cp(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+lp(e))}function lp(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hp,fp,dp=function(e){function t(){var t,n,r=e.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",t="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",t="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var e=!document[t];e!==r.visible_&&(r.visible_=e,r.trigger("visible",e))}),!1),r}return Th(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return Rh("visible"===e,"Unknown event type: "+e),[this.visible_]},t}(Hd),pp=function(e){function t(n,r,i,o,a,s,u,c){var l=e.call(this)||this;if(l.repoInfo_=n,l.applicationId_=r,l.onDataUpdate_=i,l.onConnectStatus_=o,l.onServerInfoUpdate_=a,l.authTokenProvider_=s,l.appCheckTokenProvider_=u,l.authOverride_=c,l.id=t.nextPersistentConnectionId_++,l.log_=ld("p:"+l.id+":"),l.interruptReasons_={},l.listens=new Map,l.outstandingPuts_=[],l.outstandingGets_=[],l.outstandingPutCount_=0,l.outstandingGetCount_=0,l.onDisconnectRequestQueue_=[],l.connected_=!1,l.reconnectDelay_=1e3,l.maxReconnectDelay_=3e5,l.securityDebugCallback_=null,l.lastSessionId=null,l.establishConnectionTimer_=null,l.visible_=!1,l.requestCBHash_={},l.requestNumber_=0,l.realtime_=null,l.authToken_=null,l.appCheckToken_=null,l.forceTokenRefresh_=!1,l.invalidAuthTokenCount_=0,l.invalidAppCheckTokenCount_=0,l.firstConnection_=!0,l.lastConnectionAttemptTime_=null,l.lastConnectionEstablishedTime_=null,c&&!Hh())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return dp.getInstance().on("visible",l.onVisible_,l),-1===n.host.indexOf("fblocal")&&Gd.getInstance().on("online",l.onOnline_,l),l}return Th(t,e),t.prototype.sendRequest=function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(tf(i)),Rh(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},t.prototype.get=function(e){var t=this;this.initConnection_();var n=new jh,r={p:e._path.toString(),q:e._queryObject},i={action:"g",request:r,onComplete:function(e){var i=e.d;"ok"===e.s?(t.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var o=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var e=t.outstandingGets_[o];void 0!==e&&i===e&&(delete t.outstandingGets_[o],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),t.log_("get "+o+" timed out on connection"),n.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(o),n.promise},t.prototype.listen=function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),Rh(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Rh(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");var a={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(o).set(i,a),this.connected_&&this.sendListen_(a)},t.prototype.sendGet_=function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))},t.prototype.sendListen_=function(e){var n=this,r=e.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);var a={p:i};e.tag&&(a.q=r._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest("q",a,(function(a){var s=a.d,u=a.s;t.warnOnListenWarnings_(s,r),(n.listens.get(i)&&n.listens.get(i).get(o))===e&&(n.log_("listen response",a),"ok"!==u&&n.removeListen_(i,o),e.onComplete&&e.onComplete(u,s))}))},t.warnOnListenWarnings_=function(e,t){if(e&&"object"==typeof e&&rf(e,"w")){var n=of(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();dd("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},t.prototype.refreshAuthToken=function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(e){var t;(e&&40===e.length||"object"==typeof(t=nf(e).claims)&&!0===t.admin)&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},t.prototype.refreshAppCheckToken=function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))},t.prototype.tryAuth=function(){var e,t=this;if(this.connected_&&this.authToken_){var n=this.authToken_,r=(e=nf(n).claims)&&"object"==typeof e&&e.hasOwnProperty("iat")?"auth":"gauth",i={cred:n};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,(function(e){var r=e.s,i=e.d||"error";t.authToken_===n&&("ok"===r?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(r,i))}))}},t.prototype.tryAppCheck=function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))},t.prototype.unlisten=function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),Rh(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)},t.prototype.sendUnlisten_=function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},t.prototype.onDisconnectPut=function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})},t.prototype.onDisconnectMerge=function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})},t.prototype.onDisconnectCancel=function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})},t.prototype.sendOnDisconnect_=function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))},t.prototype.put=function(e,t,n,r){this.putInternal("p",e,t,n,r)},t.prototype.merge=function(e,t,n,r){this.putInternal("m",e,t,n,r)},t.prototype.putInternal=function(e,t,n,r,i){this.initConnection_();var o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;var a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)},t.prototype.sendPut_=function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))},t.prototype.reportStats=function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}},t.prototype.onDataMessage_=function(e){if("r"in e){this.log_("from server: "+tf(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}},t.prototype.onDataPush_=function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):hd("Unrecognized action received from server: "+tf(e)+"\nAre you using the latest client?")},t.prototype.onReady_=function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(e){var t=this;Rh(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))},t.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},t.prototype.onVisible_=function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)),this.visible_=e},t.prototype.onOnline_=function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=1e3),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){return kh(this,void 0,void 0,(function(){var e,n,r,i,o,a,s,u,c,l,h,f,d,p,v=this;return Sh(this,(function(g){switch(g.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+t.nextConnectionId_++,o=this.lastSessionId,a=!1,s=null,u=function(){s?s.close():(a=!0,r())},c=function(e){Rh(s,"sendRequest call when we're not connected not allowed."),s.sendRequest(e)},this.realtime_={close:u,sendRequest:c},l=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,g.label=1;case 1:return g.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(l),this.appCheckTokenProvider_.getToken(l)])];case 2:return h=Nh.apply(void 0,[g.sent(),2]),f=h[0],d=h[1],a?cd("getToken() completed but was canceled"):(cd("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=d&&d.token,s=new Kd(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,(function(e){dd(e+" ("+v.repoInfo_.toString()+")"),v.interrupt("server_kill")}),o)),[3,4];case 3:return p=g.sent(),this.log_("Failed to get token: "+p),a||(this.repoInfo_.nodeAdmin&&dd(p),u()),[3,4];case 4:return[2]}}))}))},t.prototype.interrupt=function(e){cd("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(e){cd("Resuming connection for reason: "+e),delete this.interruptReasons_[e],af(this.interruptReasons_)&&(this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})},t.prototype.cancelSentTransactions_=function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(e,t){var n;n=t?t.map((function(e){return wd(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")},t.prototype.removeListen_=function(e,t){var n,r=new Qd(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n},t.prototype.onAuthRevoked_=function(e,t){cd("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onAppCheckRevoked_=function(e,t){cd("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())},t.prototype.onSecurityDebugPacket_=function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))},t.prototype.restoreState_=function(){var e,t,n,r;this.tryAuth(),this.tryAppCheck();try{for(var i=Ch(this.listens.values()),o=i.next();!o.done;o=i.next()){var a=o.value;try{for(var s=(n=void 0,Ch(a.values())),u=s.next();!u.done;u=s.next()){var c=u.value;this.sendListen_(c)}}catch(f){n={error:f}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}}catch(d){e={error:d}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}for(var l=0;l<this.outstandingPuts_.length;l++)this.outstandingPuts_[l]&&this.sendPut_(l);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}for(l=0;l<this.outstandingGets_.length;l++)this.outstandingGets_[l]&&this.sendGet_(l)},t.prototype.sendConnectStats_=function(){var e={};e["sdk.js."+Qf.replace(/\./g,"-")]=1,Bh()?e["framework.cordova"]=1:Wh()&&(e["framework.reactnative"]=1),this.reportStats(e)},t.prototype.shouldReconnect_=function(){var e=Gd.getInstance().currentlyOnline();return af(this.interruptReasons_)&&e},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(Wd),vp=function(){function e(e,t){this.name=e,this.node=t}return e.Wrap=function(t,n){return new e(t,n)},e}(),gp=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(e,t){var n=new vp(vd,e),r=new vp(vd,t);return 0!==this.compare(n,r)},e.prototype.minPost=function(){return vp.MIN},e}(),mp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Th(t,e),Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return hp},set:function(e){hp=e},enumerable:!1,configurable:!0}),t.prototype.compare=function(e,t){return md(e.name,t.name)},t.prototype.isDefinedOn=function(e){throw Dh("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(e,t){return!1},t.prototype.minPost=function(){return vp.MIN},t.prototype.maxPost=function(){return new vp(gd,hp)},t.prototype.makePost=function(e,t){return Rh("string"==typeof e,"KeyIndex indexValue must always be a string."),new vp(e,hp)},t.prototype.toString=function(){return".key"},t}(gp),yp=new mp,bp=function(){function e(e,t,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!e.isEmpty();)if(e=e,o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}return e.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},e}(),wp=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:Ep.EMPTY_NODE,this.right=null!=o?o:Ep.EMPTY_NODE}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return Ep.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()},e.prototype.remove=function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Ep.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},e.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e},e.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},e.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}(),_p=function(){function e(){}return e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new wp(e,t,null)},e.prototype.remove=function(e,t){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),Ep=function(){function e(t,n){void 0===n&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,wp.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,wp.BLACK,null,null))},e.prototype.get=function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null},e.prototype.getPredecessorKey=function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},e.prototype.getIterator=function(e){return new bp(this.root_,null,this.comparator_,!1,e)},e.prototype.getIteratorFrom=function(e,t){return new bp(this.root_,e,this.comparator_,!1,t)},e.prototype.getReverseIteratorFrom=function(e,t){return new bp(this.root_,e,this.comparator_,!0,t)},e.prototype.getReverseIterator=function(e){return new bp(this.root_,null,this.comparator_,!0,e)},e.EMPTY_NODE=new _p,e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Tp(e,t){return md(e.name,t.name)}function Ip(e,t){return md(e,t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kp,Sp,Cp,Np=function(e){return"number"==typeof e?"number:"+Td(e):"string:"+e},Ap=function(e){if(e.isLeafNode()){var t=e.val();Rh("string"==typeof t||"number"==typeof t||"object"==typeof t&&rf(t,".sv"),"Priority must be a string or number.")}else Rh(e===fp||e.isEmpty(),"priority of unexpected type.");Rh(e===fp||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},xp=function(){function e(t,n){void 0===n&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,Rh(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Ap(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return kp},set:function(e){kp=e},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return rp(t)?this:".priority"===Yd(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(e,t){return null},e.prototype.updateImmediateChild=function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var r=Yd(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(Rh(".priority"!==r||1===Xd(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(Jd(t),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(e,t){return!1},e.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+Np(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?Td(this.value_):this.value_,this.lazyHash_=id(e)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(Rh(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),o=e.VALUE_TYPE_ORDER.indexOf(r);return Rh(i>=0,"Unknown leaf type: "+n),Rh(o>=0,"Unknown leaf type: "+r),i===o?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:o-i},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}();var Pp,Rp,Dp=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Th(t,e),t.prototype.compare=function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?md(e.name,t.name):i},t.prototype.isDefinedOn=function(e){return!e.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(e,t){return!e.getPriority().equals(t.getPriority())},t.prototype.minPost=function(){return vp.MIN},t.prototype.maxPost=function(){return new vp(gd,new xp("[PRIORITY-POST]",Cp))},t.prototype.makePost=function(e,t){var n=Sp(e);return new vp(t,new xp("[PRIORITY-POST]",n))},t.prototype.toString=function(){return".priority"},t}(gp)),Op=Math.log(2),Lp=function(){function e(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/Op,10)),this.current_=this.count-1;var n,r=(n=this.count,parseInt(Array(n+1).join("1"),2));this.bits_=e+1&r}return e.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},e}(),Mp=function(e,t,n,r){e.sort(t);var i=function(t,r){var o,a,s=r-t;if(0===s)return null;if(1===s)return o=e[t],a=n?n(o):o,new wp(a,o.node,wp.BLACK,null,null);var u=parseInt(s/2,10)+t,c=i(t,u),l=i(u+1,r);return o=e[u],a=n?n(o):o,new wp(a,o.node,wp.BLACK,c,l)},o=function(t){for(var r=null,o=null,a=e.length,s=function(t,r){var o=a-t,s=a;a-=t;var c=i(o+1,s),l=e[o],h=n?n(l):l;u(new wp(h,l.node,r,null,c))},u=function(e){r?(r.left=e,r=e):(o=e,r=e)},c=0;c<t.count;++c){var l=t.nextBitIsOne(),h=Math.pow(2,t.count-(c+1));l?s(h,wp.BLACK):(s(h,wp.BLACK),s(h,wp.RED))}return o}(new Lp(e.length));return new Ep(r||t,o)},Fp={},Up=function(){function e(e,t){this.indexes_=e,this.indexSet_=t}return Object.defineProperty(e,"Default",{get:function(){return Rh(Fp&&Dp,"ChildrenNode.ts has not been loaded"),Pp=Pp||new e({".priority":Fp},{".priority":Dp})},enumerable:!1,configurable:!0}),e.prototype.get=function(e){var t=of(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Ep?t:null},e.prototype.hasIndex=function(e){return rf(this.indexSet_,e.toString())},e.prototype.addIndex=function(t,n){Rh(t!==yp,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],o=!1,a=n.getIterator(vp.Wrap),s=a.getNext();s;)o=o||t.isDefinedOn(s.node),i.push(s),s=a.getNext();r=o?Mp(i,t.getCompare()):Fp;var u=t.toString(),c=Ih({},this.indexSet_);c[u]=t;var l=Ih({},this.indexes_);return l[u]=r,new e(l,c)},e.prototype.addToIndexes=function(t,n){var r=this;return new e(sf(this.indexes_,(function(e,i){var o=of(r.indexSet_,i);if(Rh(o,"Missing index implementation for "+i),e===Fp){if(o.isDefinedOn(t.node)){for(var a=[],s=n.getIterator(vp.Wrap),u=s.getNext();u;)u.name!==t.name&&a.push(u),u=s.getNext();return a.push(t),Mp(a,o.getCompare())}return Fp}var c=n.get(t.name),l=e;return c&&(l=l.remove(new vp(t.name,c))),l.insert(t,t.node)})),this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){return new e(sf(this.indexes_,(function(e){if(e===Fp)return e;var r=n.get(t.name);return r?e.remove(new vp(t.name,r)):e})),this.indexSet_)},e}(),jp=function(){function e(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Ap(this.priorityNode_),this.children_.isEmpty()&&Rh(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return Rp||(Rp=new e(new Ep(Ip),null,Up.Default))},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||Rp},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?Rp:t},e.prototype.getChild=function(e){var t=Yd(e);return null===t?this:this.getImmediateChild(t).getChild(Jd(e))},e.prototype.hasChild=function(e){return null!==this.children_.get(e)},e.prototype.updateImmediateChild=function(t,n){if(Rh(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r=new vp(t,n),i=void 0,o=void 0;n.isEmpty()?(i=this.children_.remove(t),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),o=this.indexMap_.addToIndexes(r,this.children_));var a=i.isEmpty()?Rp:this.priorityNode_;return new e(i,a,o)},e.prototype.updateChild=function(e,t){var n=Yd(e);if(null===n)return t;Rh(".priority"!==Yd(e)||1===Xd(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(Jd(e),t);return this.updateImmediateChild(n,r)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(Dp,(function(a,s){n[a]=s.val(t),r++,o&&e.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1})),!t&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+Np(this.getPriority().val())+":"),this.forEachChild(Dp,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":id(e)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new vp(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)},e.prototype.getFirstChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()},e.prototype.getFirstChild=function(e){var t=this.getFirstChildName(e);return t?new vp(t,this.children_.get(t)):null},e.prototype.getLastChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()},e.prototype.getLastChild=function(e){var t=this.getLastChildName(e);return t?new vp(t,this.children_.get(t)):null},e.prototype.forEachChild=function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)},e.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},e.prototype.getIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,vp.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r},e.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},e.prototype.getReverseIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,vp.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r},e.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===qp?-1:0},e.prototype.withIndex=function(t){if(t===yp||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(e){return e===yp||this.indexMap_.hasIndex(e)},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(Dp),r=t.getIterator(Dp),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},e.prototype.resolveIndex_=function(e){return e===yp?null:this.indexMap_.get(e.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),qp=new(function(e){function t(){return e.call(this,new Ep(Ip),jp.EMPTY_NODE,Up.Default)||this}return Th(t,e),t.prototype.compareTo=function(e){return e===this?0:1},t.prototype.equals=function(e){return e===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(e){return jp.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(jp));Object.defineProperties(vp,{MIN:{value:new vp(vd,jp.EMPTY_NODE)},MAX:{value:new vp(gd,qp)}}),mp.__EMPTY_NODE=jp.EMPTY_NODE,xp.__childrenNodeConstructor=jp,fp=qp,function(e){Cp=e}(qp);function Vp(e,t){if(void 0===t&&(t=null),null===e)return jp.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),Rh(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new xp(e,Vp(t));if(e instanceof Array){var n=jp.EMPTY_NODE;return Ed(e,(function(t,r){if(rf(e,t)&&"."!==t.substring(0,1)){var i=Vp(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(t,i))}})),n.updatePriority(Vp(t))}var r=[],i=!1;if(Ed(e,(function(e,t){if("."!==e.substring(0,1)){var n=Vp(t);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new vp(e,n)))}})),0===r.length)return jp.EMPTY_NODE;var o=Mp(r,Tp,(function(e){return e.name}),Ip);if(i){var a=Mp(r,Dp.getCompare());return new jp(o,Vp(t),new Up({".priority":a},{".priority":Dp}))}return new jp(o,Vp(t),Up.Default)}!function(e){Sp=e}(Vp);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Bp,zp,Kp=function(e){function t(t){var n=e.call(this)||this;return n.indexPath_=t,Rh(!rp(t)&&".priority"!==Yd(t),"Can't create PathIndex with empty path or .priority key"),n}return Th(t,e),t.prototype.extractChild=function(e){return e.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(e){return!e.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?md(e.name,t.name):i},t.prototype.makePost=function(e,t){var n=Vp(e),r=jp.EMPTY_NODE.updateChild(this.indexPath_,n);return new vp(t,r)},t.prototype.maxPost=function(){var e=jp.EMPTY_NODE.updateChild(this.indexPath_,qp);return new vp(gd,e)},t.prototype.toString=function(){return ep(this.indexPath_,0).join("/")},t}(gp),Wp=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Th(t,e),t.prototype.compare=function(e,t){var n=e.node.compareTo(t.node);return 0===n?md(e.name,t.name):n},t.prototype.isDefinedOn=function(e){return!0},t.prototype.indexedValueChanged=function(e,t){return!e.equals(t)},t.prototype.minPost=function(){return vp.MIN},t.prototype.maxPost=function(){return vp.MAX},t.prototype.makePost=function(e,t){var n=Vp(e);return new vp(t,n)},t.prototype.toString=function(){return".value"},t}(gp)),Hp="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Gp=(Bp=0,zp=[],function(e){var t,n=e===Bp;Bp=e;var r=new Array(8);for(t=7;t>=0;t--)r[t]=Hp.charAt(e%64),e=Math.floor(e/64);Rh(0===e,"Cannot push at time == 0");var i=r.join("");if(n){for(t=11;t>=0&&63===zp[t];t--)zp[t]=0;zp[t]++}else for(t=0;t<12;t++)zp[t]=Math.floor(64*Math.random());for(t=0;t<12;t++)i+=Hp.charAt(zp[t]);return Rh(20===i.length,"nextPushId: Length should be 20."),i}),Qp=function(e){if("2147483647"===e)return"-";var t=kd(e);if(null!=t)return""+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return gd;var o=n[i],a=Hp.charAt(Hp.indexOf(o)+1);return n[i]=a,n.slice(0,i+1).join("")},$p=function(e){if("-2147483648"===e)return vd;var t=kd(e);if(null!=t)return""+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=Hp.charAt(Hp.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Yp(e){return{type:"value",snapshotNode:e}}function Xp(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Jp(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Zp(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ev=function(){function e(e){this.index_=e}return e.prototype.updateChild=function(e,t,n,r,i,o){Rh(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var a=e.getImmediateChild(t);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()===n.isEmpty()?e:(null!=o&&(n.isEmpty()?e.hasChild(t)?o.trackChildChange(Jp(t,a)):Rh(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Xp(t,n)):o.trackChildChange(Zp(t,n,a))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))},e.prototype.updateFullNode=function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(Dp,(function(e,r){t.hasChild(e)||n.trackChildChange(Jp(e,r))})),t.isLeafNode()||t.forEachChild(Dp,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(Zp(t,r,i))}else n.trackChildChange(Xp(t,r))}))),t.withIndex(this.index_)},e.prototype.updatePriority=function(e,t){return e.isEmpty()?jp.EMPTY_NODE:e.updatePriority(t)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}(),tv=function(){function e(t){this.indexedFilter_=new ev(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},e.prototype.updateChild=function(e,t,n,r,i,o){return this.matches(new vp(t,n))||(n=jp.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)},e.prototype.updateFullNode=function(e,t,n){t.isLeafNode()&&(t=jp.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(jp.EMPTY_NODE);var i=this;return t.forEachChild(Dp,(function(e,t){i.matches(new vp(e,t))||(r=r.updateImmediateChild(e,jp.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()},e.getEndPost_=function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()},e}(),nv=function(){function e(e){this.rangedFilter_=new tv(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return e.prototype.updateChild=function(e,t,n,r,i,o){return this.rangedFilter_.matches(new vp(t,n))||(n=jp.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)},e.prototype.updateFullNode=function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=jp.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){r=jp.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=(r=t.withIndex(this.index_)).updatePriority(jp.EMPTY_NODE);var s=void 0,u=void 0,c=void 0;i=void 0;if(this.reverse_){i=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();c=function(e,t){return l(t,e)}}else i=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();){a=i.getNext();!h&&c(s,a)<=0&&(h=!0),h&&o<this.limit_&&c(a,u)<=0?o++:r=r.updateImmediateChild(a.name,jp.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(e,t,n,r,i){var o;if(this.reverse_){var a=this.index_.getCompare();o=function(e,t){return a(t,e)}}else o=this.index_.getCompare();var s=e;Rh(s.numChildren()===this.limit_,"");var u=new vp(t,n),c=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),l=this.rangedFilter_.matches(u);if(s.hasChild(t)){for(var h=s.getImmediateChild(t),f=r.getChildAfterChild(this.index_,c,this.reverse_);null!=f&&(f.name===t||s.hasChild(f.name));)f=r.getChildAfterChild(this.index_,f,this.reverse_);var d=null==f?1:o(f,u);if(l&&!n.isEmpty()&&d>=0)return null!=i&&i.trackChildChange(Zp(t,n,h)),s.updateImmediateChild(t,n);null!=i&&i.trackChildChange(Jp(t,h));var p=s.updateImmediateChild(t,jp.EMPTY_NODE);return null!=f&&this.rangedFilter_.matches(f)?(null!=i&&i.trackChildChange(Xp(f.name,f.node)),p.updateImmediateChild(f.name,f.node)):p}return n.isEmpty()?e:l&&o(c,u)>=0?(null!=i&&(i.trackChildChange(Jp(c.name,c.node)),i.trackChildChange(Xp(t,n))),s.updateImmediateChild(t,n).updateImmediateChild(c.name,jp.EMPTY_NODE)):e},e}(),rv=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Dp}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.hasStartAfter=function(){return this.startAfterSet_},e.prototype.hasEndBefore=function(){return this.endBeforeSet_},e.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},e.prototype.getIndexStartValue=function(){return Rh(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return Rh(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:vd},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return Rh(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return Rh(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:gd},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},e.prototype.getLimit=function(){return Rh(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Dp},e.prototype.copy=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iv(e,t,n){var r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function ov(e,t,n){var r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function av(e,t){var n=e.copy();return n.index_=t,n}function sv(e){var t,n={};return e.isDefault()||(e.index_===Dp?t="$priority":e.index_===Wp?t="$value":e.index_===yp?t="$key":(Rh(e.index_ instanceof Kp,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=tf(t),e.startSet_&&(n.startAt=tf(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+tf(e.indexStartName_))),e.endSet_&&(n.endAt=tf(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+tf(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_)),n}function uv(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==Dp&&(t.i=e.index_.toString()),t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cv=function(e){function t(t,n,r,i){var o=e.call(this)||this;return o.repoInfo_=t,o.onDataUpdate_=n,o.authTokenProvider_=r,o.appCheckTokenProvider_=i,o.log_=ld("p:rest:"),o.listens_={},o}return Th(t,e),t.prototype.reportStats=function(e){throw new Error("Method not implemented.")},t.getListenId_=function(e,t){return void 0!==t?"tag$"+t:(Rh(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())},t.prototype.listen=function(e,n,r,i){var o=this,a=e._path.toString();this.log_("Listen called for "+a+" "+e._queryIdentifier);var s=t.getListenId_(e,r),u={};this.listens_[s]=u;var c=sv(e._queryParams);this.restRequest_(a+".json",c,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&o.onDataUpdate_(a,n,!1,r),of(o.listens_,s)===u)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))},t.prototype.unlisten=function(e,n){var r=t.getListenId_(e,n);delete this.listens_[r]},t.prototype.get=function(e){var t=this,n=sv(e._queryParams),r=e._path.toString(),i=new jh;return this.restRequest_(r+".json",n,(function(e,n){var o=n;404===e&&(o=null,e=null),null===e?(t.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))})),i.promise},t.prototype.refreshAuthToken=function(e){},t.prototype.restRequest_=function(e,t,n){var r=this;return void 0===t&&(t={}),t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var o=Nh(i,2),a=o[0],s=o[1];a&&a.accessToken&&(t.auth=a.accessToken),s&&s.token&&(t.ac=s.token);var u=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+e+"?ns="+r.repoInfo_.namespace+function(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach((function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r];n(o[0],o[1])}return t.length?"&"+t.join("&"):""}(t);r.log_("Sending REST request for "+u);var c=new XMLHttpRequest;c.onreadystatechange=function(){if(n&&4===c.readyState){r.log_("REST Response for "+u+" received. status:",c.status,"response:",c.responseText);var e=null;if(c.status>=200&&c.status<300){try{e=ef(c.responseText)}catch(aO){dd("Failed to parse JSON response for "+u+": "+c.responseText)}n(null,e)}else 401!==c.status&&404!==c.status&&dd("Got unsuccessful REST response for "+u+" Status: "+c.status),n(c.status);n=null}},c.open("GET",u,!0),c.send()}))},t}(Wd),lv=function(){function e(){this.rootNode_=jp.EMPTY_NODE}return e.prototype.getNode=function(e){return this.rootNode_.getChild(e)},e.prototype.updateSnapshot=function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function hv(){return{value:null,children:new Map}}function fv(e,t,n){if(rp(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=Yd(t);e.children.has(r)||e.children.set(r,hv()),fv(e.children.get(r),t=Jd(t),n)}}function dv(e,t){if(rp(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;var n=e.value;return e.value=null,n.forEachChild(Dp,(function(t,n){fv(e,new Qd(t),n)})),dv(e,t)}if(e.children.size>0){var r=Yd(t);if(t=Jd(t),e.children.has(r))dv(e.children.get(r),t)&&e.children.delete(r);return 0===e.children.size}return!0}function pv(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e,(function(e,r){pv(r,new Qd(t.toString()+"/"+e),n)}))}var vv,gv,mv=function(){function e(e){this.collection_=e,this.last_=null}return e.prototype.get=function(){var e=this.collection_.get(),t=Ih({},e);return this.last_&&Ed(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t},e}(),yv=function(){function e(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new mv(e);var n=1e4+2e4*Math.random();Cd(this.reportStats_.bind(this),Math.floor(n))}return e.prototype.reportStats_=function(){var e=this,t=this.statsListener_.get(),n={},r=!1;Ed(t,(function(t,i){i>0&&rf(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),Cd(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bv(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(gv=vv||(vv={}))[gv.OVERWRITE=0]="OVERWRITE",gv[gv.MERGE=1]="MERGE",gv[gv.ACK_USER_WRITE=2]="ACK_USER_WRITE",gv[gv.LISTEN_COMPLETE=3]="LISTEN_COMPLETE";var wv,_v=function(){function e(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=vv.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return e.prototype.operationForChild=function(t){if(rp(this.path)){if(null!=this.affectedTree.value)return Rh(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new Qd(t));return new e($d(),n,this.revert)}return Rh(Yd(this.path)===t,"operationForChild called for unrelated child."),new e(Jd(this.path),this.affectedTree,this.revert)},e}(),Ev=function(){function e(e,t){this.source=e,this.path=t,this.type=vv.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return rp(this.path)?new e(this.source,$d()):new e(this.source,Jd(this.path))},e}(),Tv=function(){function e(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=vv.OVERWRITE}return e.prototype.operationForChild=function(t){return rp(this.path)?new e(this.source,$d(),this.snap.getImmediateChild(t)):new e(this.source,Jd(this.path),this.snap)},e}(),Iv=function(){function e(e,t,n){this.source=e,this.path=t,this.children=n,this.type=vv.MERGE}return e.prototype.operationForChild=function(t){if(rp(this.path)){var n=this.children.subtree(new Qd(t));return n.isEmpty()?null:n.value?new Tv(this.source,$d(),n.value):new e(this.source,$d(),n)}return Rh(Yd(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,Jd(this.path),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}(),kv=function(){function e(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(e){if(rp(e))return this.isFullyInitialized()&&!this.filtered_;var t=Yd(e);return this.isCompleteForChild(t)},e.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},e.prototype.getNode=function(){return this.node_},e}(),Sv=function(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cv(e,t,n,r,i,o){var a=r.filter((function(e){return e.type===n}));a.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw Dh("Should only compare child_ events.");var r=new vp(t.childName,t.snapshotNode),i=new vp(n.childName,n.snapshotNode);return e.index_.compare(r,i)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e,t,n)})),a.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,o);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function Nv(e,t){return{eventCache:e,serverCache:t}}function Av(e,t,n,r){return Nv(new kv(t,n,r),e.serverCache)}function xv(e,t,n,r){return Nv(e.eventCache,new kv(t,n,r))}function Pv(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Rv(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dv=function(){function e(e,t){void 0===t&&(wv||(wv=new Ep(yd)),t=wv),this.value=e,this.children=t}return e.fromObject=function(t){var n=new e(null);return Ed(t,(function(e,t){n=n.set(new Qd(e),t)})),n},e.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(e,t){if(null!=this.value&&t(this.value))return{path:$d(),value:this.value};if(rp(e))return null;var n=Yd(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(Jd(e),t);return null!=i?{path:np(new Qd(n),i.path),value:i.value}:null}return null},e.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))},e.prototype.subtree=function(t){if(rp(t))return this;var n=Yd(t),r=this.children.get(n);return null!==r?r.subtree(Jd(t)):new e(null)},e.prototype.set=function(t,n){if(rp(t))return new e(n,this.children);var r=Yd(t),i=(this.children.get(r)||new e(null)).set(Jd(t),n),o=this.children.insert(r,i);return new e(this.value,o)},e.prototype.remove=function(t){if(rp(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=Yd(t),r=this.children.get(n);if(r){var i=r.remove(Jd(t)),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new e(null):new e(this.value,o)}return this},e.prototype.get=function(e){if(rp(e))return this.value;var t=Yd(e),n=this.children.get(t);return n?n.get(Jd(e)):null},e.prototype.setTree=function(t,n){if(rp(t))return n;var r=Yd(t),i=(this.children.get(r)||new e(null)).setTree(Jd(t),n),o=void 0;return o=i.isEmpty()?this.children.remove(r):this.children.insert(r,i),new e(this.value,o)},e.prototype.fold=function(e){return this.fold_($d(),e)},e.prototype.fold_=function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(np(e,r),t)})),t(e,this.value,n)},e.prototype.findOnPath=function(e,t){return this.findOnPath_(e,$d(),t)},e.prototype.findOnPath_=function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(rp(e))return null;var i=Yd(e),o=this.children.get(i);return o?o.findOnPath_(Jd(e),np(t,i),n):null},e.prototype.foreachOnPath=function(e,t){return this.foreachOnPath_(e,$d(),t)},e.prototype.foreachOnPath_=function(t,n,r){if(rp(t))return this;this.value&&r(n,this.value);var i=Yd(t),o=this.children.get(i);return o?o.foreachOnPath_(Jd(t),np(n,i),r):new e(null)},e.prototype.foreach=function(e){this.foreach_($d(),e)},e.prototype.foreach_=function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(np(e,n),t)})),this.value&&t(e,this.value)},e.prototype.foreachChild=function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))},e}(),Ov=function(){function e(e){this.writeTree_=e}return e.empty=function(){return new e(new Dv(null))},e}();function Lv(e,t,n){if(rp(t))return new Ov(new Dv(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,o=r.value,a=ip(i,t);return o=o.updateChild(a,n),new Ov(e.writeTree_.set(i,o))}var s=new Dv(n),u=e.writeTree_.setTree(t,s);return new Ov(u)}function Mv(e,t,n){var r=e;return Ed(n,(function(e,n){r=Lv(r,np(t,e),n)})),r}function Fv(e,t){if(rp(t))return Ov.empty();var n=e.writeTree_.setTree(t,new Dv(null));return new Ov(n)}function Uv(e,t){return null!=jv(e,t)}function jv(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(ip(n.path,t)):null}function qv(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Dp,(function(e,n){t.push(new vp(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new vp(e,n.value))})),t}function Vv(e,t){if(rp(t))return e;var n=jv(e,t);return new Ov(null!=n?new Dv(n):e.writeTree_.subtree(t))}function Bv(e){return e.writeTree_.isEmpty()}function zv(e,t){return Kv($d(),e.writeTree_,t)}function Kv(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?(Rh(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=Kv(np(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(np(e,".priority"),r)),n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wv(e,t){return ig(t,e)}function Hv(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));Rh(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,o=!1,a=e.allWrites.length-1;i&&a>=0;){var s=e.allWrites[a];s.visible&&(a>=n&&Gv(s,r.path)?i=!1:sp(r.path,s.path)&&(o=!0)),a--}if(i){if(o)return function(e){e.visibleWrites=$v(e.allWrites,Qv,$d()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=Fv(e.visibleWrites,r.path):Ed(r.children,(function(t){e.visibleWrites=Fv(e.visibleWrites,np(r.path,t))}));return!0}return!1}function Gv(e,t){if(e.snap)return sp(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&sp(np(e.path,n),t))return!0;return!1}function Qv(e){return e.visible}function $v(e,t,n){for(var r=Ov.empty(),i=0;i<e.length;++i){var o=e[i];if(t(o)){var a=o.path,s=void 0;if(o.snap)sp(n,a)?r=Lv(r,s=ip(n,a),o.snap):sp(a,n)&&(s=ip(a,n),r=Lv(r,$d(),o.snap.getChild(s)));else{if(!o.children)throw Dh("WriteRecord should have .snap or .children");if(sp(n,a))r=Mv(r,s=ip(n,a),o.children);else if(sp(a,n))if(rp(s=ip(a,n)))r=Mv(r,$d(),o.children);else{var u=of(o.children,Yd(s));if(u){var c=u.getChild(Jd(s));r=Lv(r,$d(),c)}}}}}return r}function Yv(e,t,n,r,i){if(r||i){var o=Vv(e.visibleWrites,t);if(!i&&Bv(o))return n;if(i||null!=n||Uv(o,$d())){return zv($v(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(sp(e.path,t)||sp(t,e.path))}),t),n||jp.EMPTY_NODE)}return null}var a=jv(e.visibleWrites,t);if(null!=a)return a;var s=Vv(e.visibleWrites,t);return Bv(s)?n:null!=n||Uv(s,$d())?zv(s,n||jp.EMPTY_NODE):null}function Xv(e,t,n,r){return Yv(e.writeTree,e.treePath,t,n,r)}function Jv(e,t){return function(e,t,n){var r=jp.EMPTY_NODE,i=jv(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Dp,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var o=Vv(e.visibleWrites,t);return n.forEachChild(Dp,(function(e,t){var n=zv(Vv(o,new Qd(e)),t);r=r.updateImmediateChild(e,n)})),qv(o).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return qv(Vv(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function Zv(e,t,n,r){return function(e,t,n,r,i){Rh(r||i,"Either existingEventSnap or existingServerSnap must exist");var o=np(t,n);if(Uv(e.visibleWrites,o))return null;var a=Vv(e.visibleWrites,o);return Bv(a)?i.getChild(n):zv(a,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function eg(e,t){return function(e,t){return jv(e.visibleWrites,t)}(e.writeTree,np(e.treePath,t))}function tg(e,t,n,r,i,o){return function(e,t,n,r,i,o,a){var s,u=Vv(e.visibleWrites,t),c=jv(u,$d());if(null!=c)s=c;else{if(null==n)return[];s=zv(u,n)}if((s=s.withIndex(a)).isEmpty()||s.isLeafNode())return[];for(var l=[],h=a.getCompare(),f=o?s.getReverseIteratorFrom(r,a):s.getIteratorFrom(r,a),d=f.getNext();d&&l.length<i;)0!==h(d,r)&&l.push(d),d=f.getNext();return l}(e.writeTree,e.treePath,t,n,r,i,o)}function ng(e,t,n){return function(e,t,n,r){var i=np(t,n),o=jv(e.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?zv(Vv(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function rg(e,t){return ig(np(e.treePath,t),e.writeTree)}function ig(e,t){return{treePath:e,writeTree:t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var og=function(){function e(){this.changeMap=new Map}return e.prototype.trackChildChange=function(e){var t=e.type,n=e.childName;Rh("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),Rh(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,Zp(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,Jp(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,Xp(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw Dh("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,Zp(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)},e.prototype.getChanges=function(){return Array.from(this.changeMap.values())},e}(),ag=new(function(){function e(){}return e.prototype.getCompleteChild=function(e){return null},e.prototype.getChildAfterChild=function(e,t,n){return null},e}()),sg=function(){function e(e,t,n){void 0===n&&(n=null),this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}return e.prototype.getCompleteChild=function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new kv(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ng(this.writes_,e,n)},e.prototype.getChildAfterChild=function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Rv(this.viewCache_),i=tg(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ug(e,t,n,r,i){var o,a,s=new og;if(n.type===vv.OVERWRITE){var u=n;u.source.fromUser?o=hg(e,t,u.path,u.snap,r,i,s):(Rh(u.source.fromServer,"Unknown source."),a=u.source.tagged||t.serverCache.isFiltered()&&!rp(u.path),o=lg(e,t,u.path,u.snap,r,i,a,s))}else if(n.type===vv.MERGE){var c=n;c.source.fromUser?o=function(e,t,n,r,i,o,a){var s=t;return r.foreach((function(r,u){var c=np(n,r);fg(t,Yd(c))&&(s=hg(e,s,c,u,i,o,a))})),r.foreach((function(r,u){var c=np(n,r);fg(t,Yd(c))||(s=hg(e,s,c,u,i,o,a))})),s}(e,t,c.path,c.children,r,i,s):(Rh(c.source.fromServer,"Unknown source."),a=c.source.tagged||t.serverCache.isFiltered(),o=pg(e,t,c.path,c.children,r,i,a,s))}else if(n.type===vv.ACK_USER_WRITE){var l=n;o=l.revert?function(e,t,n,r,i,o){var a;if(null!=eg(r,n))return t;var s=new sg(r,t,i),u=t.eventCache.getNode(),c=void 0;if(rp(n)||".priority"===Yd(n)){var l=void 0;if(t.serverCache.isFullyInitialized())l=Xv(r,Rv(t));else{var h=t.serverCache.getNode();Rh(h instanceof jp,"serverChildren would be complete if leaf node"),l=Jv(r,h)}l=l,c=e.filter.updateFullNode(u,l,o)}else{var f=Yd(n),d=ng(r,f,t.serverCache);null==d&&t.serverCache.isCompleteForChild(f)&&(d=u.getImmediateChild(f)),(c=null!=d?e.filter.updateChild(u,f,d,Jd(n),s,o):t.eventCache.getNode().hasChild(f)?e.filter.updateChild(u,f,jp.EMPTY_NODE,Jd(n),s,o):u).isEmpty()&&t.serverCache.isFullyInitialized()&&(a=Xv(r,Rv(t))).isLeafNode()&&(c=e.filter.updateFullNode(c,a,o))}return a=t.serverCache.isFullyInitialized()||null!=eg(r,$d()),Av(t,c,a,e.filter.filtersNodes())}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e,t,l.path,r,i,s):function(e,t,n,r,i,o,a){if(null!=eg(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(rp(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return lg(e,t,n,u.getNode().getChild(n),i,o,s,a);if(rp(n)){var c=new Dv(null);return u.getNode().forEachChild(yp,(function(e,t){c=c.set(new Qd(e),t)})),pg(e,t,n,c,i,o,s,a)}return t}var l=new Dv(null);return r.foreach((function(e,t){var r=np(n,e);u.isCompleteForPath(r)&&(l=l.set(e,u.getNode().getChild(r)))})),pg(e,t,n,l,i,o,s,a)}(e,t,l.path,l.affectedTree,r,i,s)}else{if(n.type!==vv.LISTEN_COMPLETE)throw Dh("Unknown operation type: "+n.type);o=function(e,t,n,r,i){var o=t.serverCache,a=xv(t,o.getNode(),o.isFullyInitialized()||rp(n),o.isFiltered());return cg(e,a,n,r,ag,i)}(e,t,n.path,r,s)}var h=s.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Pv(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(Yp(Pv(t)))}}(t,o,h),{viewCache:o,changes:h}}function cg(e,t,n,r,i,o){var a=t.eventCache;if(null!=eg(r,n))return t;var s=void 0,u=void 0;if(rp(n))if(Rh(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var c=Rv(t),l=Jv(r,c instanceof jp?c:jp.EMPTY_NODE);s=e.filter.updateFullNode(t.eventCache.getNode(),l,o)}else{var h=Xv(r,Rv(t));s=e.filter.updateFullNode(t.eventCache.getNode(),h,o)}else{var f=Yd(n);if(".priority"===f){Rh(1===Xd(n),"Can't have a priority with additional path components");var d=a.getNode(),p=Zv(r,n,d,u=t.serverCache.getNode());s=null!=p?e.filter.updatePriority(d,p):a.getNode()}else{var v=Jd(n),g=void 0;if(a.isCompleteForChild(f)){u=t.serverCache.getNode();var m=Zv(r,n,a.getNode(),u);g=null!=m?a.getNode().getImmediateChild(f).updateChild(v,m):a.getNode().getImmediateChild(f)}else g=ng(r,f,t.serverCache);s=null!=g?e.filter.updateChild(a.getNode(),f,g,v,i,o):a.getNode()}}return Av(t,s,a.isFullyInitialized()||rp(n),e.filter.filtersNodes())}function lg(e,t,n,r,i,o,a,s){var u,c=t.serverCache,l=a?e.filter:e.filter.getIndexedFilter();if(rp(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var h=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),h,null)}else{var f=Yd(n);if(!c.isCompleteForPath(n)&&Xd(n)>1)return t;var d=Jd(n),p=c.getNode().getImmediateChild(f).updateChild(d,r);u=".priority"===f?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),f,p,d,ag,null)}var v=xv(t,u,c.isFullyInitialized()||rp(n),l.filtersNodes());return cg(e,v,n,i,new sg(i,v,o),s)}function hg(e,t,n,r,i,o,a){var s,u,c=t.eventCache,l=new sg(i,t,o);if(rp(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,a),s=Av(t,u,!0,e.filter.filtersNodes());else{var h=Yd(n);if(".priority"===h)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=Av(t,u,c.isFullyInitialized(),c.isFiltered());else{var f=Jd(n),d=c.getNode().getImmediateChild(h),p=void 0;if(rp(f))p=r;else{var v=l.getCompleteChild(h);p=null!=v?".priority"===Zd(f)&&v.getChild(tp(f)).isEmpty()?v:v.updateChild(f,r):jp.EMPTY_NODE}if(d.equals(p))s=t;else s=Av(t,e.filter.updateChild(c.getNode(),h,p,f,l,a),c.isFullyInitialized(),e.filter.filtersNodes())}}return s}function fg(e,t){return e.eventCache.isCompleteForChild(t)}function dg(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function pg(e,t,n,r,i,o,a,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,c=t;u=rp(n)?r:new Dv(null).setTree(n,r);var l=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(l.hasChild(n)){var u=dg(0,t.serverCache.getNode().getImmediateChild(n),r);c=lg(e,c,new Qd(n),u,i,o,a,s)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!l.hasChild(n)&&!u){var h=dg(0,t.serverCache.getNode().getImmediateChild(n),r);c=lg(e,c,new Qd(n),h,i,o,a,s)}})),c}var vg,gg=function(){function e(e,t){this.query_=e,this.eventRegistrations_=[];var n,r=this.query_._queryParams,i=new ev(r.getIndex()),o=(n=r).loadsAllData()?new ev(n.getIndex()):n.hasLimit()?new nv(n):new tv(n);this.processor_=
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(e){return{filter:e}}(o);var a=t.serverCache,s=t.eventCache,u=i.updateFullNode(jp.EMPTY_NODE,a.getNode(),null),c=o.updateFullNode(jp.EMPTY_NODE,s.getNode(),null),l=new kv(u,a.isFullyInitialized(),i.filtersNodes()),h=new kv(c,s.isFullyInitialized(),o.filtersNodes());this.viewCache_=Nv(h,l),this.eventGenerator_=new Sv(this.query_)}return Object.defineProperty(e.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),e}();function mg(e,t){var n=Rv(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!rp(t)&&!n.getImmediateChild(Yd(t)).isEmpty())?n.getChild(t):null}function yg(e){return 0===e.eventRegistrations_.length}function bg(e,t,n){var r=[];if(n){Rh(null==t,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){for(var o=[],a=0;a<e.eventRegistrations_.length;++a){var s=e.eventRegistrations_[a];if(s.matches(t)){if(t.hasAnyCallback()){o=o.concat(e.eventRegistrations_.slice(a+1));break}}else o.push(s)}e.eventRegistrations_=o}else e.eventRegistrations_=[];return r}function wg(e,t,n,r){t.type===vv.MERGE&&null!==t.source.queryId&&(Rh(Rv(e.viewCache_),"We should always have a full cache before handling merges"),Rh(Pv(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,o,a=e.viewCache_,s=ug(e.processor_,a,t,n,r);return i=e.processor_,o=s.viewCache,Rh(o.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),Rh(o.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),Rh(s.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,_g(e,s.changes,s.viewCache.eventCache.getNode(),null)}function _g(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],o=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),Cv(e,i,"child_removed",t,r,n),Cv(e,i,"child_added",t,r,n),Cv(e,i,"child_moved",o,r,n),Cv(e,i,"child_changed",t,r,n),Cv(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Eg,Tg=function(){this.views=new Map};function Ig(e,t,n,r){var i,o,a=t.source.queryId;if(null!==a){var s=e.views.get(a);return Rh(null!=s,"SyncTree gave us an op for an invalid query."),wg(s,t,n,r)}var u=[];try{for(var c=Ch(e.views.values()),l=c.next();!l.done;l=c.next()){s=l.value;u=u.concat(wg(s,t,n,r))}}catch(h){i={error:h}}finally{try{l&&!l.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}return u}function kg(e,t,n,r,i){var o=t._queryIdentifier,a=e.views.get(o);if(!a){var s=Xv(n,i?r:null),u=!1;s?u=!0:r instanceof jp?(s=Jv(n,r),u=!1):(s=jp.EMPTY_NODE,u=!1);var c=Nv(new kv(s,u,!1),new kv(r,i,!1));return new gg(t,c)}return a}function Sg(e,t,n,r,i,o){var a=kg(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),function(e,t){e.eventRegistrations_.push(t)}(a,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Dp,(function(e,t){r.push(Xp(e,t))})),n.isFullyInitialized()&&r.push(Yp(n.getNode())),_g(e,r,n.getNode(),t)}(a,n)}function Cg(e,t,n,r){var i,o,a=t._queryIdentifier,s=[],u=[],c=Rg(e);if("default"===a)try{for(var l=Ch(e.views.entries()),h=l.next();!h.done;h=l.next()){var f=Nh(h.value,2),d=f[0],p=f[1];u=u.concat(bg(p,n,r)),yg(p)&&(e.views.delete(d),p.query._queryParams.loadsAllData()||s.push(p.query))}}catch(v){i={error:v}}finally{try{h&&!h.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}else(p=e.views.get(a))&&(u=u.concat(bg(p,n,r)),yg(p)&&(e.views.delete(a),p.query._queryParams.loadsAllData()||s.push(p.query)));return c&&!Rg(e)&&s.push(new(Rh(vg,"Reference.ts has not been loaded"),vg)(t._repo,t._path)),{removed:s,events:u}}function Ng(e){var t,n,r=[];try{for(var i=Ch(e.views.values()),o=i.next();!o.done;o=i.next()){var a=o.value;a.query._queryParams.loadsAllData()||r.push(a)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function Ag(e,t){var n,r,i=null;try{for(var o=Ch(e.views.values()),a=o.next();!a.done;a=o.next()){var s=a.value;i=i||mg(s,t)}}catch(u){n={error:u}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}function xg(e,t){if(t._queryParams.loadsAllData())return Dg(e);var n=t._queryIdentifier;return e.views.get(n)}function Pg(e,t){return null!=xg(e,t)}function Rg(e){return null!=Dg(e)}function Dg(e){var t,n;try{for(var r=Ch(e.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;if(o.query._queryParams.loadsAllData())return o}}catch(a){t={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Og=1,Lg=function(e){this.listenProvider_=e,this.syncPointTree_=new Dv(null),this.pendingWriteTree_={visibleWrites:Ov.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function Mg(e,t,n,r,i){return function(e,t,n,r,i){Rh(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Lv(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?Kg(e,new Tv({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function Fg(e,t,n,r){!function(e,t,n,r){Rh(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=Mv(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);var i=Dv.fromObject(n);return Kg(e,new Iv({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}function Ug(e,t,n){void 0===n&&(n=!1);var r=function(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(Hv(e.pendingWriteTree_,t)){var i=new Dv(null);return null!=r.snap?i=i.set($d(),!0):Ed(r.children,(function(e){i=i.set(new Qd(e),!0)})),Kg(e,new _v(r.path,i,n))}return[]}function jg(e,t,n){return Kg(e,new Tv({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function qg(e,t,n,r){var i=t._path,o=e.syncPointTree_.get(i),a=[];if(o&&("default"===t._queryIdentifier||Pg(o,t))){var s=Cg(o,t,n,r);0===o.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(i));var u=s.removed;a=s.events;var c=-1!==u.findIndex((function(e){return e._queryParams.loadsAllData()})),l=e.syncPointTree_.findOnPath(i,(function(e,t){return Rg(t)}));if(c&&!l){var h=e.syncPointTree_.subtree(i);if(!h.isEmpty())for(var f=function(e){return e.fold((function(e,t,n){if(t&&Rg(t))return[Dg(t)];var r=[];return t&&(r=Ng(t)),Ed(n,(function(e,t){r=r.concat(t)})),r}))}(h),d=0;d<f.length;++d){var p=f[d],v=p.query,g=Gg(e,p);e.listenProvider_.startListening(Zg(v),Qg(e,v),g.hashFn,g.onComplete)}}if(!l&&u.length>0&&!r)if(c){e.listenProvider_.stopListening(Zg(t),null)}else u.forEach((function(t){var n=e.queryToTagMap.get($g(t));e.listenProvider_.stopListening(Zg(t),n)}));!function(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=$g(r),o=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(o)}}}(e,u)}return a}function Vg(e,t,n){var r=t._path,i=null,o=!1;e.syncPointTree_.foreachOnPath(r,(function(e,t){var n=ip(e,r);i=i||Ag(t,n),o=o||Rg(t)}));var a,s=e.syncPointTree_.get(r);(s?(o=o||Rg(s),i=i||Ag(s,$d())):(s=new Tg,e.syncPointTree_=e.syncPointTree_.set(r,s)),null!=i)?a=!0:(a=!1,i=jp.EMPTY_NODE,e.syncPointTree_.subtree(r).foreachChild((function(e,t){var n=Ag(t,$d());n&&(i=i.updateImmediateChild(e,n))})));var u=Pg(s,t);if(!u&&!t._queryParams.loadsAllData()){var c=$g(t);Rh(!e.queryToTagMap.has(c),"View does not exist, but we have a tag");var l=Og++;e.queryToTagMap.set(c,l),e.tagToQueryMap.set(l,c)}var h=Sg(s,t,n,Wv(e.pendingWriteTree_,r),i,a);if(!u&&!o){var f=xg(s,t);h=h.concat(function(e,t,n){var r=t._path,i=Qg(e,t),o=Gg(e,n),a=e.listenProvider_.startListening(Zg(t),i,o.hashFn,o.onComplete),s=e.syncPointTree_.subtree(r);if(i)Rh(!Rg(s.value),"If we're adding a query, it shouldn't be shadowed");else for(var u=s.fold((function(e,t,n){if(!rp(e)&&t&&Rg(t))return[Dg(t).query];var r=[];return t&&(r=r.concat(Ng(t).map((function(e){return e.query})))),Ed(n,(function(e,t){r=r.concat(t)})),r})),c=0;c<u.length;++c){var l=u[c];e.listenProvider_.stopListening(Zg(l),Qg(e,l))}return a}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e,t,f))}return h}function Bg(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=Ag(n,ip(e,t));if(r)return r}));return Yv(r,t,i,n,!0)}function zg(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(function(e,t){var i=ip(e,n);r=r||Ag(t,i)}));var i=e.syncPointTree_.get(n);i?r=r||Ag(i,$d()):(i=new Tg,e.syncPointTree_=e.syncPointTree_.set(n,i));var o=null!=r,a=o?new kv(r,!0,!1):null;return function(e){return Pv(e.viewCache_)}(kg(i,t,Wv(e.pendingWriteTree_,t._path),o?a.getNode():jp.EMPTY_NODE,o))}function Kg(e,t){return Wg(t,e.syncPointTree_,null,Wv(e.pendingWriteTree_,$d()))}function Wg(e,t,n,r){if(rp(e.path))return Hg(e,t,n,r);var i=t.get($d());null==n&&null!=i&&(n=Ag(i,$d()));var o=[],a=Yd(e.path),s=e.operationForChild(a),u=t.children.get(a);if(u&&s){var c=n?n.getImmediateChild(a):null,l=rg(r,a);o=o.concat(Wg(s,u,c,l))}return i&&(o=o.concat(Ig(i,e,r,n))),o}function Hg(e,t,n,r){var i=t.get($d());null==n&&null!=i&&(n=Ag(i,$d()));var o=[];return t.children.inorderTraversal((function(t,i){var a=n?n.getImmediateChild(t):null,s=rg(r,t),u=e.operationForChild(t);u&&(o=o.concat(Hg(u,i,a,s)))})),i&&(o=o.concat(Ig(i,e,r,n))),o}function Gg(e,t){var n=t.query,r=Qg(e,n);return{hashFn:function(){return(function(e){return e.viewCache_.serverCache.getNode()}(t)||jp.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=Yg(e,n);if(r){var i=Xg(r),o=i.path,a=i.queryId,s=ip(o,t);return Jg(e,o,new Ev(bv(a),s))}return[]}(e,n._path,r):function(e,t){return Kg(e,new Ev({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return qg(e,n,null,i)}}}function Qg(e,t){var n=$g(t);return e.queryToTagMap.get(n)}function $g(e){return e._path.toString()+"$"+e._queryIdentifier}function Yg(e,t){return e.tagToQueryMap.get(t)}function Xg(e){var t=e.indexOf("$");return Rh(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Qd(e.substr(0,t))}}function Jg(e,t,n){var r=e.syncPointTree_.get(t);return Rh(r,"Missing sync point for query tag that we're tracking"),Ig(r,n,Wv(e.pendingWriteTree_,t),null)}function Zg(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(Rh(Eg,"Reference.ts has not been loaded"),Eg)(e._repo,e._path):e}var em=function(){function e(e){this.node_=e}return e.prototype.getImmediateChild=function(t){return new e(this.node_.getImmediateChild(t))},e.prototype.node=function(){return this.node_},e}(),tm=function(){function e(e,t){this.syncTree_=e,this.path_=t}return e.prototype.getImmediateChild=function(t){var n=np(this.path_,t);return new e(this.syncTree_,n)},e.prototype.node=function(){return Bg(this.syncTree_,this.path_)},e}(),nm=function(e,t,n){return e&&"object"==typeof e?(Rh(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?rm(e[".sv"],t,n):"object"==typeof e[".sv"]?im(e[".sv"],t):void Rh(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},rm=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:Rh(!1,"Unexpected server value: "+e)}},im=function(e,t,n){e.hasOwnProperty("increment")||Rh(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!=typeof r&&Rh(!1,"Unexpected increment value: "+r);var i=t.node();if(Rh(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var o=i.getValue();return"number"!=typeof o?r:o+r},om=function(e,t,n,r){return sm(t,new tm(n,e),r)},am=function(e,t,n){return sm(e,new em(t),n)};function sm(e,t,n){var r,i=e.getPriority().val(),o=nm(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var a=e,s=nm(a.getValue(),t,n);return s!==a.getValue()||o!==a.getPriority().val()?new xp(s,Vp(o)):e}var u=e;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new xp(o))),u.forEachChild(Dp,(function(e,i){var o=sm(i,t.getImmediateChild(e),n);o!==i&&(r=r.updateImmediateChild(e,o))})),r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var um=function(e,t,n){void 0===e&&(e=""),void 0===t&&(t=null),void 0===n&&(n={children:{},childCount:0}),this.name=e,this.parent=t,this.node=n};function cm(e,t){for(var n=t instanceof Qd?t:new Qd(t),r=e,i=Yd(n);null!==i;){var o=of(r.node.children,i)||{children:{},childCount:0};r=new um(i,r,o),i=Yd(n=Jd(n))}return r}function lm(e){return e.node.value}function hm(e,t){e.node.value=t,gm(e)}function fm(e){return e.node.childCount>0}function dm(e,t){Ed(e.node.children,(function(n,r){t(new um(n,e,r))}))}function pm(e,t,n,r){n&&!r&&t(e),dm(e,(function(e){pm(e,t,!0,r)})),n&&r&&t(e)}function vm(e){return new Qd(null===e.parent?e.name:vm(e.parent)+"/"+e.name)}function gm(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===lm(e)&&!fm(e)}(n),i=rf(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,gm(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,gm(e))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e.parent,e.name,e)}var mm=/[\[\].#$\/\u0000-\u001F\u007F]/,ym=/[\[\].#$\u0000-\u001F\u007F]/,bm=function(e){return"string"==typeof e&&0!==e.length&&!mm.test(e)},wm=function(e){return"string"==typeof e&&0!==e.length&&!ym.test(e)},_m=function(e){return null===e||"string"==typeof e||"number"==typeof e&&!pd(e)||e&&"object"==typeof e&&rf(e,".sv")},Em=function(e,t,n,r){r&&void 0===t||Tm(df(e,"value"),t,n)},Tm=function(e,t,n){var r=n instanceof Qd?new up(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+lp(r));if("function"==typeof t)throw new Error(e+"contains a function "+lp(r)+" with contents = "+t.toString());if(pd(t))throw new Error(e+"contains "+t.toString()+" "+lp(r));if("string"==typeof t&&t.length>10485760/3&&gf(t)>10485760)throw new Error(e+"contains a string greater than 10485760 utf8 bytes "+lp(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){var i=!1,o=!1;if(Ed(t,(function(t,n){if(".value"===t)i=!0;else if(".priority"!==t&&".sv"!==t&&(o=!0,!bm(t)))throw new Error(e+" contains an invalid key ("+t+") "+lp(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var a,s;s=t,(a=r).parts_.length>0&&(a.byteLength_+=1),a.parts_.push(s),a.byteLength_+=gf(s),cp(a),Tm(e,n,r),function(e){var t=e.parts_.pop();e.byteLength_-=gf(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)})),i&&o)throw new Error(e+' contains ".value" child '+lp(r)+" in addition to actual children.")}},Im=function(e,t,n,r){if(!r||void 0!==t){var i=df(e,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var o=[];Ed(t,(function(e,t){var r=new Qd(e);if(Tm(i,t,np(n,r)),".priority"===Zd(r)&&!_m(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(r)})),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=ep(r=t[n]),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!bm(i[o]))throw new Error(e+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(op);var a=null;for(n=0;n<t.length;n++){if(r=t[n],null!==a&&sp(a,r))throw new Error(e+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(i,o)}},km=function(e,t,n){if(!n||void 0!==t){if(pd(t))throw new Error(df(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!_m(t))throw new Error(df(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Sm=function(e,t,n){if(!n||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(df(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Cm=function(e,t,n,r){if(!(r&&void 0===n||bm(n)))throw new Error(df(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Nm=function(e,t,n,r){if(!(r&&void 0===n||wm(n)))throw new Error(df(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Am=function(e,t){if(".info"===Yd(t))throw new Error(e+" failed = Can't modify data under /.info/")},xm=function(e,t){var n=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!bm(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),wm(e)}(n))throw new Error(df(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Pm=function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error(df(e,t)+"must be a boolean.")},Rm=function(){this.eventLists_=[],this.recursionDepth_=0};function Dm(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],o=i.getPath();null===n||ap(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function Om(e,t,n){Dm(e,n),Mm(e,(function(e){return ap(e,t)}))}function Lm(e,t,n){Dm(e,n),Mm(e,(function(e){return sp(e,t)||sp(t,e)}))}function Mm(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(Fm(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function Fm(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();ad&&cd("event: "+n.toString()),Sd(r)}}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Um=function(){function e(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Rm,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=hv(),this.transactionQueueTree_=new um,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e}();function jm(e,t,n){if(e.stats_=Fd(e.repoInfo_),e.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new cv(e.repoInfo_,(function(t,n,r,i){Bm(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return zm(e,!0)}),0);else{if(null!=n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{tf(n)}catch(aO){throw new Error("Invalid authOverride provided: "+aO)}}e.persistentConnection_=new pp(e.repoInfo_,t,(function(t,n,r,i){Bm(e,t,n,r,i)}),(function(t){zm(e,t)}),(function(t){!function(e,t){Ed(t,(function(t,n){Km(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}var r,i,o;e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=(r=e.repoInfo_,i=function(){return new yv(e.stats_,e.server_)},o=r.toString(),Md[o]||(Md[o]=i()),Md[o]),e.infoData_=new lv,e.infoSyncTree_=new Lg({startListening:function(t,n,r,i){var o=[],a=e.infoData_.getNode(t._path);return a.isEmpty()||(o=jg(e.infoSyncTree_,t._path,a),setTimeout((function(){i("ok")}),0)),o},stopListening:function(){}}),Km(e,"connected",!1),e.serverSyncTree_=new Lg({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var o=i(n,r);Lm(e.eventQueue_,t._path,o)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function qm(e){var t=e.infoData_.getNode(new Qd(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Vm(e){return(t=(t={timestamp:qm(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function Bm(e,t,n,r,i){e.dataUpdateCount++;var o=new Qd(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var a=[];if(i)if(r){var s=sf(n,(function(e){return Vp(e)}));a=function(e,t,n,r){var i=Yg(e,r);if(i){var o=Xg(i),a=o.path,s=o.queryId,u=ip(a,t),c=Dv.fromObject(n);return Jg(e,a,new Iv(bv(s),u,c))}return[]}(e.serverSyncTree_,o,s,i)}else{var u=Vp(n);a=function(e,t,n,r){var i=Yg(e,r);if(null!=i){var o=Xg(i),a=o.path,s=o.queryId,u=ip(a,t);return Jg(e,a,new Tv(bv(s),u,n))}return[]}(e.serverSyncTree_,o,u,i)}else if(r){var c=sf(n,(function(e){return Vp(e)}));a=function(e,t,n){var r=Dv.fromObject(n);return Kg(e,new Iv({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,o,c)}else{var l=Vp(n);a=jg(e.serverSyncTree_,o,l)}var h=o;a.length>0&&(h=ty(e,o)),Lm(e.eventQueue_,h,a)}function zm(e,t){Km(e,"connected",t),!1===t&&function(e){Xm(e,"onDisconnectEvents");var t=Vm(e),n=hv();pv(e.onDisconnect_,$d(),(function(r,i){var o=om(r,i,e.serverSyncTree_,t);fv(n,r,o)}));var r=[];pv(n,$d(),(function(t,n){r=r.concat(jg(e.serverSyncTree_,t,n));var i=ay(e,t);ty(e,i)})),e.onDisconnect_=hv(),Lm(e.eventQueue_,$d(),r)}(e)}function Km(e,t,n){var r=new Qd("/.info/"+t),i=Vp(n);e.infoData_.updateSnapshot(r,i);var o=jg(e.infoSyncTree_,r,i);Lm(e.eventQueue_,r,o)}function Wm(e){return e.nextWriteId_++}function Hm(e,t,n,r,i){Xm(e,"set",{path:t.toString(),value:n,priority:r});var o=Vm(e),a=Vp(n,r),s=Bg(e.serverSyncTree_,t),u=am(a,s,o),c=Wm(e),l=Mg(e.serverSyncTree_,t,u,c,!0);Dm(e.eventQueue_,l),e.server_.put(t.toString(),a.val(!0),(function(n,r){var o="ok"===n;o||dd("set at "+t+" failed: "+n);var a=Ug(e.serverSyncTree_,c,!o);Lm(e.eventQueue_,t,a),Jm(e,i,n,r)}));var h=ay(e,t);ty(e,h),Lm(e.eventQueue_,h,[])}function Gm(e,t,n){e.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&dv(e.onDisconnect_,t),Jm(e,n,r,i)}))}function Qm(e,t,n,r){var i=Vp(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(function(n,o){"ok"===n&&fv(e.onDisconnect_,t,i),Jm(e,r,n,o)}))}function $m(e,t,n){var r;r=".info"===Yd(t._path)?qg(e.infoSyncTree_,t,n):qg(e.serverSyncTree_,t,n),Om(e.eventQueue_,t._path,r)}function Ym(e){e.persistentConnection_&&e.persistentConnection_.interrupt("repo_interrupt")}function Xm(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r="";e.persistentConnection_&&(r=e.persistentConnection_.id+":"),cd.apply(void 0,Ah([r],Nh(t)))}function Jm(e,t,n,r){t&&Sd((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var o=new Error(i);o.code=e,t(o)}}))}function Zm(e,t,n){return Bg(e.serverSyncTree_,t,n)||jp.EMPTY_NODE}function ey(e,t){if(void 0===t&&(t=e.transactionQueueTree_),t||oy(e,t),lm(t)){var n=ry(e,t);Rh(n.length>0,"Sending zero length transaction queue"),n.every((function(e){return 0===e.status}))&&function(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=Zm(e,t,r),o=i,a=i.hash(),s=0;s<n.length;s++){var u=n[s];Rh(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;var c=ip(t,u.path);o=o.updateChild(c,u.currentOutputSnapshotRaw)}var l=o.val(!0),h=t;e.server_.put(h.toString(),l,(function(r){Xm(e,"transaction put response",{path:h.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=function(t){n[t].status=2,i=i.concat(Ug(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&o.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},s=0;s<n.length;s++)a(s);oy(e,cm(e.transactionQueueTree_,t)),ey(e,e.transactionQueueTree_),Lm(e.eventQueue_,t,i);for(s=0;s<o.length;s++)Sd(o[s])}else{if("datastale"===r)for(s=0;s<n.length;s++)3===n[s].status?n[s].status=4:n[s].status=0;else{dd("transaction at "+h.toString()+" failed: "+r);for(s=0;s<n.length;s++)n[s].status=4,n[s].abortReason=r}ty(e,t)}}),a)}(e,vm(t),n)}else fm(t)&&dm(t,(function(t){ey(e,t)}))}function ty(e,t){var n=ny(e,t),r=vm(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],o=t.filter((function(e){return 0===e.status})).map((function(e){return e.currentWriteId})),a=function(a){var s,u,c=t[a],l=ip(n,c.path),h=!1;if(Rh(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===c.status)h=!0,s=c.abortReason,i=i.concat(Ug(e.serverSyncTree_,c.currentWriteId,!0));else if(0===c.status)if(c.retryCount>=25)h=!0,s="maxretry",i=i.concat(Ug(e.serverSyncTree_,c.currentWriteId,!0));else{var f=Zm(e,c.path,o);c.currentInputSnapshot=f;var d=t[a].update(f.val());if(void 0!==d){Tm("transaction failed: Data returned ",d,c.path);var p=Vp(d);"object"==typeof d&&null!=d&&rf(d,".priority")||(p=p.updatePriority(f.getPriority()));var v=c.currentWriteId,g=Vm(e),m=am(p,f,g);c.currentOutputSnapshotRaw=p,c.currentOutputSnapshotResolved=m,c.currentWriteId=Wm(e),o.splice(o.indexOf(v),1),i=(i=i.concat(Mg(e.serverSyncTree_,c.path,m,c.currentWriteId,c.applyLocally))).concat(Ug(e.serverSyncTree_,v,!0))}else h=!0,s="nodata",i=i.concat(Ug(e.serverSyncTree_,c.currentWriteId,!0))}Lm(e.eventQueue_,n,i),i=[],h&&(t[a].status=2,u=t[a].unwatcher,setTimeout(u,Math.floor(0)),t[a].onComplete&&("nodata"===s?r.push((function(){return t[a].onComplete(null,!1,t[a].currentInputSnapshot)})):r.push((function(){return t[a].onComplete(new Error(s),!1,null)}))))},s=0;s<t.length;s++)a(s);oy(e,e.transactionQueueTree_);for(s=0;s<r.length;s++)Sd(r[s]);ey(e,e.transactionQueueTree_)}(e,ry(e,n),r),r}function ny(e,t){var n,r=e.transactionQueueTree_;for(n=Yd(t);null!==n&&void 0===lm(r);)r=cm(r,n),n=Yd(t=Jd(t));return r}function ry(e,t){var n=[];return iy(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function iy(e,t,n){var r=lm(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);dm(t,(function(t){iy(e,t,n)}))}function oy(e,t){var n=lm(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,hm(t,n.length>0?n:void 0)}dm(t,(function(t){oy(e,t)}))}function ay(e,t){var n=vm(ny(e,t)),r=cm(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){sy(e,t)})),sy(e,r),pm(r,(function(t){sy(e,t)})),n}function sy(e,t){var n=lm(t);if(n){for(var r=[],i=[],o=-1,a=0;a<n.length;a++)3===n[a].status||(1===n[a].status?(Rh(o===a-1,"All SENT items should be at beginning of queue."),o=a,n[a].status=3,n[a].abortReason="set"):(Rh(0===n[a].status,"Unexpected transaction status in abort"),n[a].unwatcher(),i=i.concat(Ug(e.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));-1===o?hm(t,void 0):n.length=o+1,Lm(e.eventQueue_,vm(t),i);for(a=0;a<r.length;a++)Sd(r[a])}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uy=function(e,t){var n=cy(e),r=n.namespace;"firebase.com"===n.domain&&fd(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||fd("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&dd("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new Rd(n.host,n.secure,r,t,i,"",r!==n.subdomain),path:new Qd(n.pathString)}},cy=function(e){var t="",n="",r="",i="",o="",a=!0,s="https",u=443;if("string"==typeof e){var c=e.indexOf("//");c>=0&&(s=e.substring(0,c-1),e=e.substring(c+2));var l=e.indexOf("/");-1===l&&(l=e.length);var h=e.indexOf("?");-1===h&&(h=e.length),t=e.substring(0,Math.min(l,h)),l<h&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(aO){}t+="/"+i}return t}(e.substring(l,h)));var f=function(e){var t,n,r={};"?"===e.charAt(0)&&(e=e.substring(1));try{for(var i=Ch(e.split("&")),o=i.next();!o.done;o=i.next()){var a=o.value;if(0!==a.length){var s=a.split("=");2===s.length?r[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):dd("Invalid query segment '"+a+"' in query '"+e+"'")}}}catch(u){t={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}(e.substring(Math.min(e.length,h)));(c=t.indexOf(":"))>=0?(a="https"===s||"wss"===s,u=parseInt(t.substring(c+1),10)):c=t.length;var d=t.slice(0,c);if("localhost"===d.toLowerCase())n="localhost";else if(d.split(".").length<=2)n=d;else{var p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),o=r}"ns"in f&&(o=f.ns)}return{host:t,port:u,domain:n,subdomain:r,secure:a,scheme:s,pathString:i,namespace:o}},ly=function(){function e(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}return e.prototype.getPath=function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+tf(this.snapshot.exportVal())},e}(),hy=function(){function e(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}(),fy=function(){function e(e,t){this.snapshotCallback=e,this.cancelCallback=t}return e.prototype.onValue=function(e,t){this.snapshotCallback.call(null,e,t)},e.prototype.onCancel=function(e){return Rh(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)},Object.defineProperty(e.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),e.prototype.matches=function(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context},e}(),dy=function(){function e(e,t){this._repo=e,this._path=t}return e.prototype.cancel=function(){var e=new jh;return Gm(this._repo,this._path,e.wrapCallback((function(){}))),e.promise},e.prototype.remove=function(){Am("OnDisconnect.remove",this._path);var e=new jh;return Qm(this._repo,this._path,null,e.wrapCallback((function(){}))),e.promise},e.prototype.set=function(e){Am("OnDisconnect.set",this._path),Em("OnDisconnect.set",e,this._path,!1);var t=new jh;return Qm(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},e.prototype.setWithPriority=function(e,t){Am("OnDisconnect.setWithPriority",this._path),Em("OnDisconnect.setWithPriority",e,this._path,!1),km("OnDisconnect.setWithPriority",t,!1);var n=new jh;return function(e,t,n,r,i){var o=Vp(n,r);e.server_.onDisconnectPut(t.toString(),o.val(!0),(function(n,r){"ok"===n&&fv(e.onDisconnect_,t,o),Jm(0,i,n,r)}))}(this._repo,this._path,e,t,n.wrapCallback((function(){}))),n.promise},e.prototype.update=function(e){Am("OnDisconnect.update",this._path),Im("OnDisconnect.update",e,this._path,!1);var t=new jh;return function(e,t,n,r){if(af(n))return cd("onDisconnect().update() called with empty data.  Don't do anything."),void Jm(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(function(i,o){"ok"===i&&Ed(n,(function(n,r){var i=Vp(r);fv(e.onDisconnect_,np(t,n),i)})),Jm(0,r,i,o)}))}(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},e}(),py=function(){function e(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}return Object.defineProperty(e.prototype,"key",{get:function(){return rp(this._path)?null:Zd(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new yy(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryIdentifier",{get:function(){var e=uv(this._queryParams),t=wd(e);return"{}"===t?"default":t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryObject",{get:function(){return uv(this._queryParams)},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!((t=yf(t))instanceof e))return!1;var n=this._repo===t._repo,r=ap(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i},e.prototype.toJSON=function(){return this.toString()},e.prototype.toString=function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)},e}();function vy(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function gy(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===yp){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==vd)throw new Error(r);if("string"!=typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==gd)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(e.getIndex()===Dp){if(null!=t&&!_m(t)||null!=n&&!_m(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Rh(e.getIndex()instanceof Kp||e.getIndex()===Wp,"unknown index type."),null!=t&&"object"==typeof t||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function my(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var yy=function(e){function t(t,n){return e.call(this,t,n,new rv,!1)||this}return Th(t,e),Object.defineProperty(t.prototype,"parent",{get:function(){var e=tp(this._path);return null===e?null:new t(this._repo,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e},enumerable:!1,configurable:!0}),t}(py),by=function(){function e(e,t,n){this._node=e,this.ref=t,this._index=n}return Object.defineProperty(e.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),e.prototype.child=function(t){var n=new Qd(t),r=Ey(this.ref,t);return new e(this._node.getChild(n),r,Dp)},e.prototype.exists=function(){return!this._node.isEmpty()},e.prototype.exportVal=function(){return this._node.val(!0)},e.prototype.forEach=function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return t(new e(i,Ey(n.ref,r),Dp))}))},e.prototype.hasChild=function(e){var t=new Qd(e);return!this._node.getChild(t).isEmpty()},e.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},e.prototype.toJSON=function(){return this.exportVal()},e.prototype.val=function(){return this._node.val()},e}();function wy(e,t){return(e=yf(e))._checkNotDeleted("ref"),void 0!==t?Ey(e._root,t):e._root}function _y(e,t){(e=yf(e))._checkNotDeleted("refFromURL");var n=uy(t,e._repo.repoInfo_.nodeAdmin);xm("refFromURL",n);var r=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||r.host===e._repo.repoInfo_.host||fd("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),wy(e,n.path.toString())}function Ey(e,t){var n,r,i,o;return null===Yd((e=yf(e))._path)?(n="child",r="path",o=!1,(i=t)&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),Nm(n,r,i,o)):Nm("child","path",t,!1),new yy(e._repo,np(e._path,t))}function Ty(e,t){e=yf(e),Am("push",e._path),Em("push",t,e._path,!0);var n,r=qm(e._repo),i=Gp(r),o=Ey(e,i),a=Ey(e,i);return n=null!=t?ky(a,t).then((function(){return a})):Promise.resolve(a),o.then=n.then.bind(n),o.catch=n.then.bind(n,void 0),o}function Iy(e){return Am("remove",e._path),ky(e,null)}function ky(e,t){e=yf(e),Am("set",e._path),Em("set",t,e._path,!1);var n=new jh;return Hm(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}function Sy(e,t){e=yf(e),Am("setPriority",e._path),km("setPriority",t,!1);var n=new jh;return Hm(e._repo,np(e._path,".priority"),t,null,n.wrapCallback((function(){}))),n.promise}function Cy(e,t,n){if(Am("setWithPriority",e._path),Em("setWithPriority",t,e._path,!1),km("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new jh;return Hm(e._repo,e._path,t,n,r.wrapCallback((function(){}))),r.promise}function Ny(e,t){Im("update",t,e._path,!1);var n=new jh;return function(e,t,n,r){Xm(e,"update",{path:t.toString(),value:n});var i=!0,o=Vm(e),a={};if(Ed(n,(function(n,r){i=!1,a[n]=om(np(t,n),Vp(r),e.serverSyncTree_,o)})),i)cd("update() called with empty data.  Don't do anything."),Jm(0,r,"ok",void 0);else{var s=Wm(e),u=Fg(e.serverSyncTree_,t,a,s);Dm(e.eventQueue_,u),e.server_.merge(t.toString(),n,(function(n,i){var o="ok"===n;o||dd("update at "+t+" failed: "+n);var a=Ug(e.serverSyncTree_,s,!o),u=a.length>0?ty(e,t):t;Lm(e.eventQueue_,u,a),Jm(0,r,n,i)})),Ed(n,(function(n){var r=ay(e,np(t,n));ty(e,r)})),Lm(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((function(){}))),n.promise}function Ay(e){return function(e,t){var n=zg(e.serverSyncTree_,t);return null!=n?Promise.resolve(n):e.server_.get(t).then((function(n){var r=Vp(n).withIndex(t._queryParams.getIndex()),i=jg(e.serverSyncTree_,t._path,r);return Om(e.eventQueue_,t._path,i),Promise.resolve(r)}),(function(n){return Xm(e,"get for query "+tf(t)+" failed: "+n),Promise.reject(new Error(n))}))}((e=yf(e))._repo,e).then((function(t){return new by(t,new yy(e._repo,e._path),e._queryParams.getIndex())}))}var xy=function(){function e(e){this.callbackContext=e}return e.prototype.respondsTo=function(e){return"value"===e},e.prototype.createEvent=function(e,t){var n=t._queryParams.getIndex();return new ly("value",this,new by(e.snapshotNode,new yy(t._repo,t._path),n))},e.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}},e.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new hy(this,e,t):null},e.prototype.matches=function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))},e.prototype.hasAnyCallback=function(){return null!==this.callbackContext},e}(),Py=function(){function e(e,t){this.eventType=e,this.callbackContext=t}return e.prototype.respondsTo=function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t},e.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new hy(this,e,t):null},e.prototype.createEvent=function(e,t){Rh(null!=e.childName,"Child events should have a childName.");var n=Ey(new yy(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new ly(e.type,this,new by(e.snapshotNode,n,r),e.prevName)},e.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}},e.prototype.matches=function(t){return t instanceof e&&(this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)))},e.prototype.hasAnyCallback=function(){return!!this.callbackContext},e}();function Ry(e,t,n,r,i){var o;if("object"==typeof r&&(o=void 0,i=r),"function"==typeof r&&(o=r),i&&i.onlyOnce){var a=n,s=function(t,n){$m(e._repo,e,c),a(t,n)};s.userCallback=n.userCallback,s.context=n.context,n=s}var u=new fy(n,o||void 0),c="value"===t?new xy(u):new Py(t,u);return function(e,t,n){var r;r=".info"===Yd(t._path)?Vg(e.infoSyncTree_,t,n):Vg(e.serverSyncTree_,t,n),Om(e.eventQueue_,t._path,r)}(e._repo,e,c),function(){return $m(e._repo,e,c)}}function Dy(e,t,n,r){return Ry(e,"value",t,n,r)}function Oy(e,t,n,r){return Ry(e,"child_added",t,n,r)}function Ly(e,t,n,r){return Ry(e,"child_changed",t,n,r)}function My(e,t,n,r){return Ry(e,"child_moved",t,n,r)}function Fy(e,t,n,r){return Ry(e,"child_removed",t,n,r)}function Uy(e,t,n){var r=null,i=n?new fy(n):null;"value"===t?r=new xy(i):t&&(r=new Py(t,i)),$m(e._repo,e,r)}var jy=function(){},qy=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return Th(t,e),t.prototype._apply=function(e){Em("endAt",this._value,e._path,!0);var t=ov(e._queryParams,this._value,this._key);if(my(t),gy(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new py(e._repo,e._path,t,e._orderByCalled)},t}(jy);function Vy(e,t){return Cm("endAt","key",t,!0),new qy(e,t)}var By=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return Th(t,e),t.prototype._apply=function(e){Em("endBefore",this._value,e._path,!1);var t,n,r,i,o=(t=e._queryParams,n=this._value,r=this._key,t.index_===yp?("string"==typeof n&&(n=$p(n)),i=ov(t,n,r)):i=ov(t,n,null==r?vd:$p(r)),i.endBeforeSet_=!0,i);if(my(o),gy(o),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new py(e._repo,e._path,o,e._orderByCalled)},t}(jy);function zy(e,t){return Cm("endBefore","key",t,!0),new By(e,t)}var Ky=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return Th(t,e),t.prototype._apply=function(e){Em("startAt",this._value,e._path,!0);var t=iv(e._queryParams,this._value,this._key);if(my(t),gy(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new py(e._repo,e._path,t,e._orderByCalled)},t}(jy);function Wy(e,t){return void 0===e&&(e=null),Cm("startAt","key",t,!0),new Ky(e,t)}var Hy=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return Th(t,e),t.prototype._apply=function(e){Em("startAfter",this._value,e._path,!1);var t=function(e,t,n){var r;e.index_===yp?("string"==typeof t&&(t=Qp(t)),r=iv(e,t,n)):r=iv(e,t,null==n?gd:Qp(n));return r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(my(t),gy(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new py(e._repo,e._path,t,e._orderByCalled)},t}(jy);function Gy(e,t){return Cm("startAfter","key",t,!0),new Hy(e,t)}var Qy=function(e){function t(t){var n=e.call(this)||this;return n._limit=t,n}return Th(t,e),t.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new py(e._repo,e._path,(t=e._queryParams,n=this._limit,(r=t.copy()).limitSet_=!0,r.limit_=n,r.viewFrom_="l",r),e._orderByCalled);var t,n,r},t}(jy);function $y(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Qy(e)}var Yy=function(e){function t(t){var n=e.call(this)||this;return n._limit=t,n}return Th(t,e),t.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new py(e._repo,e._path,(t=e._queryParams,n=this._limit,(r=t.copy()).limitSet_=!0,r.limit_=n,r.viewFrom_="r",r),e._orderByCalled);var t,n,r},t}(jy);function Xy(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Yy(e)}var Jy=function(e){function t(t){var n=e.call(this)||this;return n._path=t,n}return Th(t,e),t.prototype._apply=function(e){vy(e,"orderByChild");var t=new Qd(this._path);if(rp(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new Kp(t),r=av(e._queryParams,n);return gy(r),new py(e._repo,e._path,r,!0)},t}(jy);function Zy(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Nm("orderByChild","path",e,!1),new Jy(e)}var eb=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Th(t,e),t.prototype._apply=function(e){vy(e,"orderByKey");var t=av(e._queryParams,yp);return gy(t),new py(e._repo,e._path,t,!0)},t}(jy);function tb(){return new eb}var nb=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Th(t,e),t.prototype._apply=function(e){vy(e,"orderByPriority");var t=av(e._queryParams,Dp);return gy(t),new py(e._repo,e._path,t,!0)},t}(jy);function rb(){return new nb}var ib=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Th(t,e),t.prototype._apply=function(e){vy(e,"orderByValue");var t=av(e._queryParams,Wp);return gy(t),new py(e._repo,e._path,t,!0)},t}(jy);function ob(){return new ib}var ab=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return Th(t,e),t.prototype._apply=function(e){if(Em("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new qy(this._value,this._key)._apply(new Ky(this._value,this._key)._apply(e))},t}(jy);function sb(e,t){return Cm("equalTo","key",t,!0),new ab(e,t)}function ub(e){for(var t,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var o=yf(e);try{for(var a=Ch(r),s=a.next();!s.done;s=a.next()){var u=s.value;o=u._apply(o)}}catch(c){t={error:c}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return o}!function(e){Rh(!vg,"__referenceConstructor has already been defined"),vg=e}(yy),function(e){Rh(!Eg,"__referenceConstructor has already been defined"),Eg=e}(yy);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var cb={},lb=!1;function hb(e,t,n,r,i){var o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||fd("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),cd("Using default host for project ",e.options.projectId),o=e.options.projectId+"-default-rtdb.firebaseio.com");var a,s=uy(o,i),u=s.repoInfo,c=void 0;"undefined"!=typeof process&&(c=process.env.FIREBASE_DATABASE_EMULATOR_HOST),c?(a=!0,o="http://"+c+"?ns="+u.namespace,u=(s=uy(o,i)).repoInfo):a=!s.repoInfo.secure;var l=i&&a?new xd(xd.OWNER):new Ad(e.name,e.options,t);xm("Invalid Firebase Database URL",s),rp(s.path)||fd("Database URL must point to the root of a Firebase Database (not including a child path).");var h=function(e,t,n,r){var i=cb[t.name];i||(i={},cb[t.name]=i);var o=i[e.toURLString()];o&&fd("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return o=new Um(e,lb,n,r),i[e.toURLString()]=o,o}(u,e,l,new Nd(e.name,n));return new fb(h,e)}var fb=function(){function e(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}return Object.defineProperty(e.prototype,"_repo",{get:function(){return this._instanceStarted||(jm(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new yy(this._repo,$d())),this._rootInternal},enumerable:!1,configurable:!0}),e.prototype._delete=function(){var e,t,n;return null!==this._rootInternal&&(e=this._repo,t=this.app.name,(n=cb[t])&&n[e.key]===e||fd("Database "+t+"("+e.repoInfo_+") has already been deleted."),Ym(e),delete n[e.key],this._repoInternal=null,this._rootInternal=null),Promise.resolve()},e.prototype._checkNotDeleted=function(e){null===this._rootInternal&&fd("Cannot call "+e+" on a deleted database.")},e}();function db(e,t,n,r){void 0===r&&(r={}),(e=yf(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&fd("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,o=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&fd('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new xd(xd.OWNER);else if(r.mockUserToken){var a=qh(r.mockUserToken,e.app.options.projectId);o=new xd(a)}!function(e,t,n,r){e.repoInfo_=new Rd(t+":"+n,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),r&&(e.authTokenProvider_=r)}(i,t,n,o)}function pb(e){(e=yf(e))._checkNotDeleted("goOffline"),Ym(e._repo)}function vb(e){var t;(e=yf(e))._checkNotDeleted("goOnline"),(t=e._repo).persistentConnection_&&t.persistentConnection_.resume("repo_interrupt")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gb={".sv":"timestamp"};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var mb=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}();function yb(e,t,n){var r;if(e=yf(e),Am("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";var i=null===(r=null==n?void 0:n.applyLocally)||void 0===r||r,o=new jh,a=Dy(e,(function(){}));return function(e,t,n,r,i,o){Xm(e,"transaction on "+t);var a={path:t,update:n,onComplete:r,status:null,order:rd(),applyLocally:o,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},s=Zm(e,t,void 0);a.currentInputSnapshot=s;var u=a.update(s.val());if(void 0===u)a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete&&a.onComplete(null,!1,a.currentInputSnapshot);else{Tm("transaction failed: Data returned ",u,a.path),a.status=0;var c=cm(e.transactionQueueTree_,t),l=lm(c)||[];l.push(a),hm(c,l);var h=void 0;"object"==typeof u&&null!==u&&rf(u,".priority")?(h=of(u,".priority"),Rh(_m(h),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):h=(Bg(e.serverSyncTree_,t)||jp.EMPTY_NODE).getPriority().val();var f=Vm(e),d=Vp(u,h),p=am(d,s,f);a.currentOutputSnapshotRaw=d,a.currentOutputSnapshotResolved=p,a.currentWriteId=Wm(e);var v=Mg(e.serverSyncTree_,t,p,a.currentWriteId,a.applyLocally);Lm(e.eventQueue_,t,v),ey(e,e.transactionQueueTree_)}}(e._repo,e._path,t,(function(t,n,r){var i=null;t?o.reject(t):(i=new by(r,new yy(e._repo,e._path),Dp),o.resolve(new mb(n,i)))}),a,i),o.promise}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bb=function(){function e(e){this._delegate=e}return e.prototype.cancel=function(e){ff("OnDisconnect.cancel",0,1,arguments.length),pf("OnDisconnect.cancel","onComplete",e,!0);var t=this._delegate.cancel();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},e.prototype.remove=function(e){ff("OnDisconnect.remove",0,1,arguments.length),pf("OnDisconnect.remove","onComplete",e,!0);var t=this._delegate.remove();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},e.prototype.set=function(e,t){ff("OnDisconnect.set",1,2,arguments.length),pf("OnDisconnect.set","onComplete",t,!0);var n=this._delegate.set(e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},e.prototype.setWithPriority=function(e,t,n){ff("OnDisconnect.setWithPriority",2,3,arguments.length),pf("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r},e.prototype.update=function(e,t){if(ff("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,dd("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}pf("OnDisconnect.update","onComplete",t,!0);var i=this._delegate.update(e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i},e}(),wb=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return ff("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}(),_b=function(){function e(e,t){this._database=e,this._delegate=t}return e.prototype.val=function(){return ff("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},e.prototype.exportVal=function(){return ff("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},e.prototype.toJSON=function(){return ff("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.exists=function(){return ff("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},e.prototype.child=function(t){return ff("DataSnapshot.child",0,1,arguments.length),t=String(t),Nm("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))},e.prototype.hasChild=function(e){return ff("DataSnapshot.hasChild",1,1,arguments.length),Nm("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)},e.prototype.getPriority=function(){return ff("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},e.prototype.forEach=function(t){var n=this;return ff("DataSnapshot.forEach",1,1,arguments.length),pf("DataSnapshot.forEach","action",t,!1),this._delegate.forEach((function(r){return t(new e(n._database,r))}))},e.prototype.hasChildren=function(){return ff("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(e.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),e.prototype.numChildren=function(){return ff("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},e.prototype.getRef=function(){return ff("DataSnapshot.ref",0,0,arguments.length),new Tb(this._database,this._delegate.ref)},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}(),Eb=function(){function e(e,t){this.database=e,this._delegate=t}return e.prototype.on=function(t,n,r,i){var o,a=this;ff("Query.on",2,4,arguments.length),pf("Query.on","callback",n,!1);var s=e.getCancelAndContextArgs_("Query.on",r,i),u=function(e,t){n.call(s.context,new _b(a.database,e),t)};u.userCallback=n,u.context=s.context;var c=null===(o=s.cancel)||void 0===o?void 0:o.bind(s.context);switch(t){case"value":return Dy(this._delegate,u,c),n;case"child_added":return Oy(this._delegate,u,c),n;case"child_removed":return Fy(this._delegate,u,c),n;case"child_changed":return Ly(this._delegate,u,c),n;case"child_moved":return My(this._delegate,u,c),n;default:throw new Error(df("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},e.prototype.off=function(e,t,n){if(ff("Query.off",0,3,arguments.length),Sm("Query.off",e,!0),pf("Query.off","callback",t,!0),vf("Query.off","context",n,!0),t){var r=function(){};r.userCallback=t,r.context=n,Uy(this._delegate,e,r)}else Uy(this._delegate,e)},e.prototype.get=function(){var e=this;return Ay(this._delegate).then((function(t){return new _b(e.database,t)}))},e.prototype.once=function(t,n,r,i){var o=this;ff("Query.once",1,4,arguments.length),pf("Query.once","callback",n,!0);var a=e.getCancelAndContextArgs_("Query.once",r,i),s=new jh,u=function(e,t){var r=new _b(o.database,e);n&&n.call(a.context,r,t),s.resolve(r)};u.userCallback=n,u.context=a.context;var c=function(e){a.cancel&&a.cancel.call(a.context,e),s.reject(e)};switch(t){case"value":Dy(this._delegate,u,c,{onlyOnce:!0});break;case"child_added":Oy(this._delegate,u,c,{onlyOnce:!0});break;case"child_removed":Fy(this._delegate,u,c,{onlyOnce:!0});break;case"child_changed":Ly(this._delegate,u,c,{onlyOnce:!0});break;case"child_moved":My(this._delegate,u,c,{onlyOnce:!0});break;default:throw new Error(df("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise},e.prototype.limitToFirst=function(t){return ff("Query.limitToFirst",1,1,arguments.length),new e(this.database,ub(this._delegate,$y(t)))},e.prototype.limitToLast=function(t){return ff("Query.limitToLast",1,1,arguments.length),new e(this.database,ub(this._delegate,Xy(t)))},e.prototype.orderByChild=function(t){return ff("Query.orderByChild",1,1,arguments.length),new e(this.database,ub(this._delegate,Zy(t)))},e.prototype.orderByKey=function(){return ff("Query.orderByKey",0,0,arguments.length),new e(this.database,ub(this._delegate,tb()))},e.prototype.orderByPriority=function(){return ff("Query.orderByPriority",0,0,arguments.length),new e(this.database,ub(this._delegate,rb()))},e.prototype.orderByValue=function(){return ff("Query.orderByValue",0,0,arguments.length),new e(this.database,ub(this._delegate,ob()))},e.prototype.startAt=function(t,n){return void 0===t&&(t=null),ff("Query.startAt",0,2,arguments.length),new e(this.database,ub(this._delegate,Wy(t,n)))},e.prototype.startAfter=function(t,n){return void 0===t&&(t=null),ff("Query.startAfter",0,2,arguments.length),new e(this.database,ub(this._delegate,Gy(t,n)))},e.prototype.endAt=function(t,n){return void 0===t&&(t=null),ff("Query.endAt",0,2,arguments.length),new e(this.database,ub(this._delegate,Vy(t,n)))},e.prototype.endBefore=function(t,n){return void 0===t&&(t=null),ff("Query.endBefore",0,2,arguments.length),new e(this.database,ub(this._delegate,zy(t,n)))},e.prototype.equalTo=function(t,n){return ff("Query.equalTo",1,2,arguments.length),new e(this.database,ub(this._delegate,sb(t,n)))},e.prototype.toString=function(){return ff("Query.toString",0,0,arguments.length),this._delegate.toString()},e.prototype.toJSON=function(){return ff("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.isEqual=function(t){if(ff("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)},e.getCancelAndContextArgs_=function(e,t,n){var r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,pf(e,"cancel",r.cancel,!0),r.context=n,vf(e,"context",r.context,!0);else if(t)if("object"==typeof t&&null!==t)r.context=t;else{if("function"!=typeof t)throw new Error(df(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r},Object.defineProperty(e.prototype,"ref",{get:function(){return new Tb(this.database,new yy(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),e}(),Tb=function(e){function t(t,n){var r=e.call(this,t,new py(n._repo,n._path,new rv,!1))||this;return r.database=t,r._delegate=n,r}return Th(t,e),t.prototype.getKey=function(){return ff("Reference.key",0,0,arguments.length),this._delegate.key},t.prototype.child=function(e){return ff("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new t(this.database,Ey(this._delegate,e))},t.prototype.getParent=function(){ff("Reference.parent",0,0,arguments.length);var e=this._delegate.parent;return e?new t(this.database,e):null},t.prototype.getRoot=function(){return ff("Reference.root",0,0,arguments.length),new t(this.database,this._delegate.root)},t.prototype.set=function(e,t){ff("Reference.set",1,2,arguments.length),pf("Reference.set","onComplete",t,!0);var n=ky(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},t.prototype.update=function(e,t){if(ff("Reference.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,dd("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Am("Reference.update",this._delegate._path),pf("Reference.update","onComplete",t,!0);var i=Ny(this._delegate,e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i},t.prototype.setWithPriority=function(e,t,n){ff("Reference.setWithPriority",2,3,arguments.length),pf("Reference.setWithPriority","onComplete",n,!0);var r=Cy(this._delegate,e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r},t.prototype.remove=function(e){ff("Reference.remove",0,1,arguments.length),pf("Reference.remove","onComplete",e,!0);var t=Iy(this._delegate);return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},t.prototype.transaction=function(e,t,n){var r=this;ff("Reference.transaction",1,3,arguments.length),pf("Reference.transaction","transactionUpdate",e,!1),pf("Reference.transaction","onComplete",t,!0),Pm("Reference.transaction","applyLocally",n,!0);var i=yb(this._delegate,e,{applyLocally:n}).then((function(e){return new wb(e.committed,new _b(r.database,e.snapshot))}));return t&&i.then((function(e){return t(null,e.committed,e.snapshot)}),(function(e){return t(e,!1,null)})),i},t.prototype.setPriority=function(e,t){ff("Reference.setPriority",1,2,arguments.length),pf("Reference.setPriority","onComplete",t,!0);var n=Sy(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},t.prototype.push=function(e,n){var r=this;ff("Reference.push",0,2,arguments.length),pf("Reference.push","onComplete",n,!0);var i=Ty(this._delegate,e),o=i.then((function(e){return new t(r.database,e)}));n&&o.then((function(){return n(null)}),(function(e){return n(e)}));var a=new t(this.database,i);return a.then=o.then.bind(o),a.catch=o.catch.bind(o,void 0),a},t.prototype.onDisconnect=function(){return Am("Reference.onDisconnect",this._delegate._path),new bb(new dy(this._delegate._repo,this._delegate._path))},Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),t}(Eb),Ib=function(){function e(e,t){var n=this;this._delegate=e,this.app=t,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),db(this._delegate,e,t,n)},e.prototype.ref=function(e){if(ff("database.ref",0,1,arguments.length),e instanceof Tb){var t=_y(this._delegate,e.toString());return new Tb(this,t)}t=wy(this._delegate,e);return new Tb(this,t)},e.prototype.refFromURL=function(e){var t="database.refFromURL";ff(t,1,1,arguments.length);var n=_y(this._delegate,e);return new Tb(this,n)},e.prototype.goOffline=function(){return ff("database.goOffline",0,0,arguments.length),pb(this._delegate)},e.prototype.goOnline=function(){return ff("database.goOnline",0,0,arguments.length),vb(this._delegate)},e.ServerValue={TIMESTAMP:gb,increment:function(e){return function(e){return{".sv":{increment:e}}}(e)}},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kb=Object.freeze({__proto__:null,forceLongPolling:function(){Bd.forceDisallow(),jd.forceAllow()},forceWebSockets:function(){jd.forceDisallow()},isWebSocketsAvailable:function(){return Bd.isAvailable()},setSecurityDebugCallback:function(e,t){e._delegate._repo.persistentConnection_.securityDebugCallback_=t},stats:function(e,t){!function(e,t){if(void 0===t&&(t=!1),"undefined"!=typeof console){var n;t?(e.statsListener_||(e.statsListener_=new mv(e.stats_)),n=e.statsListener_.get()):n=e.stats_.get();var r=Object.keys(n).reduce((function(e,t){return Math.max(t.length,e)}),0);Ed(n,(function(e,t){for(var n=e,i=e.length;i<r+2;i++)n+=" ";console.log(n+t)}))}}(e._delegate._repo,t)},statsIncrementCounter:function(e,t){!function(e,t){var n,r;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */e.stats_.incrementCounter(t),n=e.statsReporter_,r=t,n.statsToReport_[r]=!0}(e._delegate._repo,t)},dataUpdateCount:function(e){return e._delegate._repo.dataUpdateCount},interceptServerData:function(e,t){return function(e,t){e.interceptServerDataCallback_=t}(e._delegate._repo,t)},initStandalone:function(e){var t=e.app,n=e.url,r=e.version,i=e.customAuthImpl,o=e.namespace,a=e.nodeAdmin,s=void 0!==a&&a;$f(r);var u=new wf("auth-internal",new Ef("database-standalone"));return u.setComponent(new bf("auth-internal",(function(){return i}),"PRIVATE")),{instance:new Ib(hb(t,u,void 0,n,s),t),namespace:o}}}),Sb=pp;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pp.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},pp.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var Cb,Nb=Kd,Ab=Rd,xb=Object.freeze({__proto__:null,DataConnection:Sb,RealTimeConnection:Nb,hijackHash:function(e){var t=pp.prototype.put;return pp.prototype.put=function(n,r,i,o){void 0!==o&&(o=e()),t.call(this,n,r,i,o)},function(){pp.prototype.put=t}},ConnectionTarget:Ab,queryIdentifier:function(e){return e._delegate._queryIdentifier},forceRestClient:function(e){!function(e){lb=e}(e)}}),Pb=Ib.ServerValue;$f((Cb=Gf).SDK_VERSION),Cb.INTERNAL.registerComponent(new bf("database",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new Ib(hb(r,i,o,n),r)}),"PUBLIC").setServiceProps({Reference:Tb,Query:Eb,Database:Ib,DataSnapshot:_b,enableLogging:ud,INTERNAL:kb,ServerValue:Pb,TEST_ACCESS:xb}).setMultipleInstances(!0)),Cb.registerVersion("@firebase/database","0.10.9");
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var Rb=function(e,t){return(Rb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function Db(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var Ob,Lb="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Mb=Mb||{},Fb=Lb||self;function Ub(){}function jb(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function qb(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Vb="closure_uid_"+(1e9*Math.random()>>>0),Bb=0;function zb(e,t,n){return e.call.apply(e.bind,arguments)}function Kb(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Wb(e,t,n){return(Wb=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?zb:Kb).apply(null,arguments)}function Hb(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Gb(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function Qb(){this.s=this.s,this.o=this.o}var $b={};Qb.prototype.s=!1,Qb.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Vb)&&e[Vb]||(e[Vb]=++Bb)}(this);delete $b[e]}},Qb.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Yb=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Xb=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"==typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function Jb(e){return Array.prototype.concat.apply([],arguments)}function Zb(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function ew(e){return/^[\s\xa0]*$/.test(e)}var tw,nw=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function rw(e,t){return-1!=e.indexOf(t)}function iw(e,t){return e<t?-1:e>t?1:0}e:{var ow=Fb.navigator;if(ow){var aw=ow.userAgent;if(aw){tw=aw;break e}}tw=""}function sw(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function uw(e){var t={};for(var n in e)t[n]=e[n];return t}var cw="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function lw(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<cw.length;o++)n=cw[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function hw(e){return hw[" "](e),e}hw[" "]=Ub;var fw,dw=rw(tw,"Opera"),pw=rw(tw,"Trident")||rw(tw,"MSIE"),vw=rw(tw,"Edge"),gw=vw||pw,mw=rw(tw,"Gecko")&&!(rw(tw.toLowerCase(),"webkit")&&!rw(tw,"Edge"))&&!(rw(tw,"Trident")||rw(tw,"MSIE"))&&!rw(tw,"Edge"),yw=rw(tw.toLowerCase(),"webkit")&&!rw(tw,"Edge");function bw(){var e=Fb.document;return e?e.documentMode:void 0}e:{var ww="",_w=function(){var e=tw;return mw?/rv:([^\);]+)(\)|;)/.exec(e):vw?/Edge\/([\d\.]+)/.exec(e):pw?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):yw?/WebKit\/(\S+)/.exec(e):dw?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(_w&&(ww=_w?_w[1]:""),pw){var Ew=bw();if(null!=Ew&&Ew>parseFloat(ww)){fw=String(Ew);break e}}fw=ww}var Tw,Iw={};function kw(){return function(e){var t=Iw;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=nw(String(fw)).split("."),n=nw("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var o=t[i]||"",a=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=iw(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||iw(0==o[2].length,0==a[2].length)||iw(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e}))}if(Fb.document&&pw){var Sw=bw();Tw=Sw||(parseInt(fw,10)||void 0)}else Tw=void 0;var Cw=Tw,Nw=function(){if(!Fb.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Fb.addEventListener("test",Ub,t),Fb.removeEventListener("test",Ub,t)}catch(n){}return e}();function Aw(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function xw(e,t){if(Aw.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(mw){e:{try{hw(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:Pw[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&xw.Z.h.call(this)}}Aw.prototype.h=function(){this.defaultPrevented=!0},Gb(xw,Aw);var Pw={2:"touch",3:"pen",4:"mouse"};xw.prototype.h=function(){xw.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Rw="closure_listenable_"+(1e6*Math.random()|0),Dw=0;function Ow(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Dw,this.ca=this.fa=!1}function Lw(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Mw(e){this.src=e,this.g={},this.h=0}function Fw(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=Yb(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Lw(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Uw(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.ca&&o.listener==t&&o.capture==!!n&&o.ia==r)return i}return-1}Mw.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var a=Uw(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new Ow(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var jw="closure_lm_"+(1e6*Math.random()|0),qw={};function Vw(e,t,n,r,i){if(r&&r.once)return zw(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)Vw(e,t[o],n,r,i);return null}return n=Yw(n),e&&e[Rw]?e.N(t,n,qb(r)?!!r.capture:!!r,i):Bw(e,t,n,!1,r,i)}function Bw(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=qb(i)?!!i.capture:!!i,s=Qw(e);if(s||(e[jw]=s=new Mw(e)),(n=s.add(t,n,r,a,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Gw;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Nw||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Hw(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function zw(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)zw(e,t[o],n,r,i);return null}return n=Yw(n),e&&e[Rw]?e.O(t,n,qb(r)?!!r.capture:!!r,i):Bw(e,t,n,!0,r,i)}function Kw(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)Kw(e,t[o],n,r,i);else r=qb(r)?!!r.capture:!!r,n=Yw(n),e&&e[Rw]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Uw(o=e.g[t],n,r,i))&&(Lw(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=Qw(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Uw(t,n,r,i)),(n=-1<e?t[e]:null)&&Ww(n))}function Ww(e){if("number"!=typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Rw])Fw(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Hw(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Qw(t))?(Fw(n,e),0==n.h&&(n.src=null,t[jw]=null)):Lw(e)}}}function Hw(e){return e in qw?qw[e]:qw[e]="on"+e}function Gw(e,t){if(e.ca)e=!0;else{t=new xw(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Ww(e),e=n.call(r,t)}return e}function Qw(e){return(e=e[jw])instanceof Mw?e:null}var $w="__closure_events_fn_"+(1e9*Math.random()>>>0);function Yw(e){return"function"==typeof e?e:(e[$w]||(e[$w]=function(t){return e.handleEvent(t)}),e[$w])}function Xw(){Qb.call(this),this.i=new Mw(this),this.P=this,this.I=null}function Jw(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"==typeof t)t=new Aw(t,e);else if(t instanceof Aw)t.target=t.target||e;else{var i=t;lw(t=new Aw(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.g=n[o];i=Zw(a,r,!0,t)&&i}if(i=Zw(a=t.g=e,r,!0,t)&&i,i=Zw(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=Zw(a=t.g=n[o],r,!1,t)&&i}function Zw(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.ca&&a.capture==n){var s=a.listener,u=a.ia||a.src;a.fa&&Fw(e.i,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}Gb(Xw,Qb),Xw.prototype[Rw]=!0,Xw.prototype.removeEventListener=function(e,t,n,r){Kw(this,e,t,n,r)},Xw.prototype.M=function(){if(Xw.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Lw(n[r]);delete t.g[e],t.h--}}this.I=null},Xw.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Xw.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var e_=Fb.JSON.stringify;function t_(){var e=c_,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var n_,r_=function(){function e(){this.h=this.g=null}return e.prototype.add=function(e,t){var n=i_.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n},e}(),i_=new(function(){function e(e,t){this.i=e,this.j=t,this.h=0,this.g=null}return e.prototype.get=function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e},e}())((function(){return new o_}),(function(e){return e.reset()})),o_=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(e,t){this.h=e,this.g=t,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function a_(e){Fb.setTimeout((function(){throw e}),0)}function s_(e,t){n_||function(){var e=Fb.Promise.resolve(void 0);n_=function(){e.then(l_)}}(),u_||(n_(),u_=!0),c_.add(e,t)}var u_=!1,c_=new r_;function l_(){for(var e;e=t_();){try{e.h.call(e.g)}catch(n){a_(n)}var t=i_;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}u_=!1}function h_(e,t){Xw.call(this),this.h=e||1,this.g=t||Fb,this.j=Wb(this.kb,this),this.l=Date.now()}function f_(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function d_(e,t,n){if("function"==typeof e)n&&(e=Wb(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Wb(e.handleEvent,e)}return 2147483647<Number(t)?-1:Fb.setTimeout(e,t||0)}function p_(e){e.g=d_((function(){e.g=null,e.i&&(e.i=!1,p_(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Gb(h_,Xw),(Ob=h_.prototype).da=!1,Ob.S=null,Ob.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Jw(this,"tick"),this.da&&(f_(this),this.start()))}},Ob.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ob.M=function(){h_.Z.M.call(this),f_(this),delete this.g};var v_=function(e){function t(t,n){var r=e.call(this)||this;return r.m=t,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Rb(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.l=function(e){this.h=arguments,this.g?this.i=!0:p_(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(Fb.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(Qb);function g_(e){Qb.call(this),this.h=e,this.g={}}Gb(g_,Qb);var m_=[];function y_(e,t,n,r){Array.isArray(n)||(n&&(m_[0]=n.toString()),n=m_);for(var i=0;i<n.length;i++){var o=Vw(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function b_(e){sw(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Ww(e)}),e),e.g={}}function w_(){this.g=!0}function __(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return e_(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}g_.prototype.M=function(){g_.Z.M.call(this),b_(this)},g_.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},w_.prototype.Aa=function(){this.g=!1},w_.prototype.info=function(){};var E_={},T_=null;function I_(){return T_=T_||new Xw}function k_(e){Aw.call(this,E_.Ma,e)}function S_(e){var t=I_();Jw(t,new k_(t,e))}function C_(e,t){Aw.call(this,E_.STAT_EVENT,e),this.stat=t}function N_(e){var t=I_();Jw(t,new C_(t,e))}function A_(e,t){Aw.call(this,E_.Na,e),this.size=t}function x_(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return Fb.setTimeout((function(){e()}),t)}E_.Ma="serverreachability",Gb(k_,Aw),E_.STAT_EVENT="statevent",Gb(C_,Aw),E_.Na="timingevent",Gb(A_,Aw);var P_={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},R_={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function D_(){}function O_(e){return e.h||(e.h=e.i())}function L_(){}D_.prototype.h=null;var M_,F_={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function U_(){Aw.call(this,"d")}function j_(){Aw.call(this,"c")}function q_(){}function V_(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new g_(this),this.P=z_,e=gw?125:void 0,this.W=new h_(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new B_}function B_(){this.i=null,this.g="",this.h=!1}Gb(U_,Aw),Gb(j_,Aw),Gb(q_,D_),q_.prototype.g=function(){return new XMLHttpRequest},q_.prototype.i=function(){return{}},M_=new q_;var z_=45e3,K_={},W_={};function H_(e,t,n){e.K=1,e.v=vE(cE(t)),e.s=n,e.U=!0,G_(e,null)}function G_(e,t){e.F=Date.now(),X_(e),e.A=cE(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),NE(n.h,"t",r),e.C=0,n=e.l.H,e.h=new B_,e.g=AT(e.l,n?t:null,!e.s),0<e.O&&(e.L=new v_(Wb(e.Ia,e,e.g),e.O)),y_(e.V,e.g,"readystatechange",e.gb),t=e.H?uw(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),S_(1),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");a=2<=h.length&&"type"==h[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Q_(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function $_(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Y_(e,n))==W_){4==t&&(e.o=4,N_(14),i=!1),__(e.j,e.m,null,"[Incomplete Response]");break}if(r==K_){e.o=4,N_(15),__(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}__(e.j,e.m,r,null),nE(e,r)}Q_(e)&&r!=W_&&r!=K_&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,N_(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),_T(t),t.L=!0,N_(11))):(__(e.j,e.m,n,"[Invalid Chunked Response]"),tE(e),eE(e))}function Y_(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?W_:(n=Number(t.substring(n,r)),isNaN(n)?K_:(r+=1)+n>t.length?W_:(t=t.substr(r,n),e.C=r+n,t))}function X_(e){e.Y=Date.now()+e.P,J_(e,e.P)}function J_(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=x_(Wb(e.eb,e),t)}function Z_(e){e.B&&(Fb.clearTimeout(e.B),e.B=null)}function eE(e){0==e.l.G||e.I||IT(e.l,e)}function tE(e){Z_(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,f_(e.W),b_(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function nE(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||LE(n.i,e)))if(n.I=e.N,!e.J&&LE(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(g){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;TT(n),fT(n)}wT(n),N_(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=x_(Wb(n.ab,n),6e3));if(1>=OE(n.i)&&n.ka){try{n.ka()}catch(g){}n.ka=void 0}}else ST(n,11)}else if((e.J||n.g==e)&&TT(n),!ew(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var o=i[t];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var a=o[3];null!=a&&(n.ma=a,n.h.info("VER="+n.ma));var s=o[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=o[5];null!=u&&"number"==typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=r.i;!h.g&&(rw(l,"spdy")||rw(l,"quic")||rw(l,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(ME(h,h.h),h.h=null))}if(r.D){var f=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;f&&(r.sa=f,pE(r.F,r.D,f))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=NT(r,r.H?r.la:null,r.W),d.J){FE(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(Z_(p),X_(p)),r.g=d}else bT(r);0<n.l.length&&vT(n)}else"stop"!=o[0]&&"close"!=o[0]||ST(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?ST(n,7):hT(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}S_(4)}catch(g){}}function rE(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(jb(e)||"string"==typeof e)Xb(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(jb(e)||"string"==typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;i=(r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"==typeof e)return e.split("");if(jb(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function iE(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof iE)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function oE(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];aE(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)aE(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function aE(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Ob=V_.prototype).setTimeout=function(e){this.P=e},Ob.gb=function(e){e=e.target;var t=this.L;t&&3==aT(e)?t.l():this.Ia(e)},Ob.Ia=function(e){try{if(e==this.g)e:{var t=aT(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||gw||this.g&&(this.h.h||this.g.ga()||sT(this.g)))){this.I||4!=t||7==n||S_(8==n||0>=r?3:2),Z_(this);var i=this.g.ba();this.N=i;t:if(Q_(this)){var o=sT(this.g);e="";var a=o.length,s=4==aT(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){tE(this),eE(this);var u="";break t}this.h.i=new Fb.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(o[n],{stream:s&&n==a-1});o.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,o,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ew(c)){var h=c;break t}}h=null}if(!(i=h)){this.i=!1,this.o=3,N_(12),tE(this),eE(this);break e}__(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,nE(this,i)}this.U?($_(this,t,u),gw&&this.i&&3==t&&(y_(this.V,this.W,"tick",this.fb),this.W.start())):(__(this.j,this.m,u,null),nE(this,u)),4==t&&tE(this),this.i&&!this.I&&(4==t?IT(this.l,this):(this.i=!1,X_(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,N_(12)):(this.o=0,N_(13)),tE(this),eE(this)}}}catch(f){}},Ob.fb=function(){if(this.g){var e=aT(this.g),t=this.g.ga();this.C<t.length&&(Z_(this),$_(this,e,t),this.i&&4!=e&&X_(this))}},Ob.cancel=function(){this.I=!0,tE(this)},Ob.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(S_(3),N_(17)),tE(this),this.o=2,eE(this)):J_(this,this.Y-e)},(Ob=iE.prototype).R=function(){oE(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Ob.T=function(){return oE(this),this.g.concat()},Ob.get=function(e,t){return aE(this.h,e)?this.h[e]:t},Ob.set=function(e,t){aE(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Ob.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var sE=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function uE(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof uE){this.g=void 0!==t?t:e.g,lE(this,e.j),this.s=e.s,hE(this,e.i),fE(this,e.m),this.l=e.l,t=e.h;var n=new IE;n.i=t.i,t.g&&(n.g=new iE(t.g),n.h=t.h),dE(this,n),this.o=e.o}else e&&(n=String(e).match(sE))?(this.g=!!t,lE(this,n[1]||"",!0),this.s=gE(n[2]||""),hE(this,n[3]||"",!0),fE(this,n[4]),this.l=gE(n[5]||"",!0),dE(this,n[6]||"",!0),this.o=gE(n[7]||"")):(this.g=!!t,this.h=new IE(null,this.g))}function cE(e){return new uE(e)}function lE(e,t,n){e.j=n?gE(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function hE(e,t,n){e.i=n?gE(t,!0):t}function fE(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function dE(e,t,n){t instanceof IE?(e.h=t,function(e,t){t&&!e.j&&(kE(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(SE(this,t),NE(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=mE(t,EE)),e.h=new IE(t,e.g))}function pE(e,t,n){e.h.set(t,n)}function vE(e){return pE(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function gE(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function mE(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,yE),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function yE(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}uE.prototype.toString=function(){var e=[],t=this.j;t&&e.push(mE(t,bE,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(mE(t,bE,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(mE(n,"/"==n.charAt(0)?_E:wE,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",mE(n,TE)),e.join("")};var bE=/[#\/\?@]/g,wE=/[#\?:]/g,_E=/[#\?]/g,EE=/[#\?@]/g,TE=/#/g;function IE(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function kE(e){e.g||(e.g=new iE,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function SE(e,t){kE(e),t=AE(e,t),aE(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,aE((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&oE(e)))}function CE(e,t){return kE(e),t=AE(e,t),aE(e.g.h,t)}function NE(e,t,n){SE(e,t),0<n.length&&(e.i=null,e.g.set(AE(e,t),Zb(n)),e.h+=n.length)}function AE(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Ob=IE.prototype).add=function(e,t){kE(this),this.i=null,e=AE(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Ob.forEach=function(e,t){kE(this),this.g.forEach((function(n,r){Xb(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Ob.T=function(){kE(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},Ob.R=function(e){kE(this);var t=[];if("string"==typeof e)CE(this,e)&&(t=Jb(t,this.g.get(AE(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Jb(t,e[n])}return t},Ob.set=function(e,t){return kE(this),this.i=null,CE(this,e=AE(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Ob.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Ob.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.i=e.join("&")};var xE=function(e,t){this.h=e,this.g=t};function PE(e){this.l=e||RE,Fb.PerformanceNavigationTiming?e=0<(e=Fb.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Fb.g&&Fb.g.Ea&&Fb.g.Ea()&&Fb.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var RE=10;function DE(e){return!!e.h||!!e.g&&e.g.size>=e.j}function OE(e){return e.h?1:e.g?e.g.size:0}function LE(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function ME(e,t){e.g?e.g.add(t):e.h=t}function FE(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function UE(e){var t,n;if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var r=e.i;try{for(var i=Db(e.g.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r.concat(a.D)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return Zb(e.i)}function jE(){}function qE(){this.g=new jE}function VE(e,t,n){var r=n||"";try{rE(e,(function(e,n){var i=e;qb(e)&&(i=e_(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(aO){throw t.push(r+"type="+encodeURIComponent("_badmap")),aO}}function BE(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}function zE(e){this.l=e.$b||null,this.j=e.ib||!1}function KE(e,t){Xw.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=WE,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}PE.prototype.cancel=function(){var e,t;if(this.i=UE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=Db(this.g.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(i){e={error:i}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}},jE.prototype.stringify=function(e){return Fb.JSON.stringify(e,void 0)},jE.prototype.parse=function(e){return Fb.JSON.parse(e,void 0)},Gb(zE,D_),zE.prototype.g=function(){return new KE(this.l,this.j)},zE.prototype.i=function(e){return function(){return e}}({}),Gb(KE,Xw);var WE=0;function HE(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function GE(e){e.readyState=4,e.l=null,e.j=null,e.A=null,QE(e)}function QE(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Ob=KE.prototype).open=function(e,t){if(this.readyState!=WE)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,QE(this)},Ob.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Fb).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Ob.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,GE(this)),this.readyState=WE},Ob.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,QE(this)),this.g&&(this.readyState=3,QE(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Fb.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;HE(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Ob.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?GE(this):QE(this),3==this.readyState&&HE(this)}},Ob.Ua=function(e){this.g&&(this.response=this.responseText=e,GE(this))},Ob.Ta=function(e){this.g&&(this.response=e,GE(this))},Ob.ha=function(){this.g&&GE(this)},Ob.setRequestHeader=function(e,t){this.v.append(e,t)},Ob.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Ob.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(KE.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var $E=Fb.JSON.parse;function YE(e){Xw.call(this),this.headers=new iE,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=XE,this.K=this.L=!1}Gb(YE,Xw);var XE="",JE=/^https?$/i,ZE=["POST","PUT"];function eT(e){return"content-type"==e.toLowerCase()}function tT(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,nT(e),iT(e)}function nT(e){e.D||(e.D=!0,Jw(e,"complete"),Jw(e,"error"))}function rT(e){if(e.h&&void 0!==Mb&&(!e.C[1]||4!=aT(e)||2!=e.ba()))if(e.v&&4==aT(e))d_(e.Fa,0,e);else if(Jw(e,"readystatechange"),4==aT(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.H).match(sE)[1]||null;if(!o&&Fb.self&&Fb.self.location){var a=Fb.self.location.protocol;o=a.substr(0,a.length-1)}i=!JE.test(o?o.toLowerCase():"")}t=i}if(t)Jw(e,"complete"),Jw(e,"success");else{e.m=6;try{var s=2<aT(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.ba()+"]",nT(e)}}finally{iT(e)}}}function iT(e,t){if(e.g){oT(e);var n=e.g,r=e.C[0]?Ub:null;e.g=null,e.C=null,t||Jw(e,"ready");try{n.onreadystatechange=r}catch(aO){}}}function oT(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Fb.clearTimeout(e.A),e.A=null)}function aT(e){return e.g?e.g.readyState:0}function sT(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case XE:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function uT(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return sw(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):pE(e,t,n))}function cT(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function lT(e){this.za=0,this.l=[],this.h=new w_,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=cT("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=cT("baseRetryDelayMs",5e3,e),this.$a=cT("retryDelaySeedMs",1e4,e),this.Ya=cT("forwardChannelMaxRetries",2,e),this.ra=cT("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new PE(e&&e.concurrentRequestLimit),this.Ca=new qE,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function hT(e){if(dT(e),3==e.G){var t=e.V++,n=cE(e.F);pE(n,"SID",e.J),pE(n,"RID",t),pE(n,"TYPE","terminate"),mT(e,n),(t=new V_(e,e.h,t,void 0)).K=2,t.v=vE(cE(n)),n=!1,Fb.navigator&&Fb.navigator.sendBeacon&&(n=Fb.navigator.sendBeacon(t.v.toString(),"")),!n&&Fb.Image&&((new Image).src=t.v,n=!0),n||(t.g=AT(t.l,null),t.g.ea(t.v)),t.F=Date.now(),X_(t)}CT(e)}function fT(e){e.g&&(_T(e),e.g.cancel(),e.g=null)}function dT(e){fT(e),e.u&&(Fb.clearTimeout(e.u),e.u=null),TT(e),e.i.cancel(),e.m&&("number"==typeof e.m&&Fb.clearTimeout(e.m),e.m=null)}function pT(e,t){e.l.push(new xE(e.Za++,t)),3==e.G&&vT(e)}function vT(e){DE(e.i)||e.m||(e.m=!0,s_(e.Ha,e),e.C=0)}function gT(e,t){var n;n=t?t.m:e.V++;var r=cE(e.F);pE(r,"SID",e.J),pE(r,"RID",n),pE(r,"AID",e.U),mT(e,r),e.o&&e.s&&uT(r,e.o,e.s),n=new V_(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=yT(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),ME(e.i,n),H_(n,r,t)}function mT(e,t){e.j&&rE({},(function(e,n){pE(t,n,e)}))}function yT(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Wb(e.j.Oa,e.j,e):null;e:for(var i=e.l,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].h,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=o))o=Math.max(0,i[u].h-100),s=!1;else try{VE(l,a,"req"+c+"_")}catch(h){r&&r(l)}}if(s){r=a.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function bT(e){e.g||e.u||(e.Y=1,s_(e.Ga,e),e.A=0)}function wT(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=x_(Wb(e.Ga,e),kT(e,e.A)),e.A++,!0)}function _T(e){null!=e.B&&(Fb.clearTimeout(e.B),e.B=null)}function ET(e){e.g=new V_(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=cE(e.oa);pE(t,"RID","rpc"),pE(t,"SID",e.J),pE(t,"CI",e.N?"0":"1"),pE(t,"AID",e.U),mT(e,t),pE(t,"TYPE","xmlhttp"),e.o&&e.s&&uT(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=vE(cE(t)),n.s=null,n.U=!0,G_(n,e)}function TT(e){null!=e.v&&(Fb.clearTimeout(e.v),e.v=null)}function IT(e,t){var n=null;if(e.g==t){TT(e),_T(e),e.g=null;var r=2}else{if(!LE(e.i,t))return;n=t.D,FE(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Jw(r=I_(),new A_(r,n,t,i)),vT(e)}else bT(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(OE(e.i)>=e.i.j-(e.m?1:0)||(e.m?(e.l=t.D.concat(e.l),0):1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya)||(e.m=x_(Wb(e.Ha,e,t),kT(e,e.C)),e.C++,0)))}(e,t)||2==r&&wT(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:ST(e,5);break;case 4:ST(e,10);break;case 3:ST(e,6);break;default:ST(e,2)}}function kT(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function ST(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Wb(e.jb,e);n||(n=new uE("//www.google.com/images/cleardot.gif"),Fb.location&&"http"==Fb.location.protocol||lE(n,"https"),vE(n)),function(e,t){var n=new w_;if(Fb.Image){var r=new Image;r.onload=Hb(BE,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Hb(BE,n,r,"TestLoadImage: error",!1,t),r.onabort=Hb(BE,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Hb(BE,n,r,"TestLoadImage: timeout",!1,t),Fb.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else N_(2);e.G=0,e.j&&e.j.va(t),CT(e),dT(e)}function CT(e){e.G=0,e.I=-1,e.j&&(0==UE(e.i).length&&0==e.l.length||(e.i.i.length=0,Zb(e.l),e.l.length=0),e.j.ua())}function NT(e,t,n){var r=function(e){return e instanceof uE?cE(e):new uE(e,void 0)}(n);if(""!=r.i)t&&hE(r,t+"."+r.i),fE(r,r.m);else{var i=Fb.location;r=function(e,t,n,r){var i=new uE(null,void 0);return e&&lE(i,e),t&&hE(i,t),n&&fE(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&sw(e.aa,(function(e,t){pE(r,t,e)})),t=e.D,n=e.sa,t&&n&&pE(r,t,n),pE(r,"VER",e.ma),mT(e,r),r}function AT(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new YE(new zE({ib:!0})):new YE(e.qa)).L=e.H,t}function xT(){}function PT(){if(pw&&!(10<=Number(Cw)))throw Error("Environmental error: no available transport.")}function RT(e,t){Xw.call(this),this.g=new lT(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!ew(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!ew(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new LT(this)}function DT(e){U_.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function OT(){j_.call(this),this.status=1}function LT(e){this.g=e}(Ob=YE.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():M_.g(),this.C=this.u?O_(this.u):O_(M_),this.g.onreadystatechange=Wb(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(o){return void tT(this,o)}e=n||"";var i=new iE(this.headers);r&&rE(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=eT,n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(i.T()),n=Fb.FormData&&e instanceof Fb.FormData,!(0<=Yb(ZE,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{oT(this),0<this.B&&((this.K=function(e){return pw&&kw()&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Wb(this.pa,this)):this.A=d_(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){tT(this,o)}},Ob.pa=function(){void 0!==Mb&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Jw(this,"timeout"),this.abort(8))},Ob.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Jw(this,"complete"),Jw(this,"abort"),iT(this))},Ob.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),iT(this,!0)),YE.Z.M.call(this)},Ob.Fa=function(){this.s||(this.F||this.v||this.l?rT(this):this.cb())},Ob.cb=function(){rT(this)},Ob.ba=function(){try{return 2<aT(this)?this.g.status:-1}catch(tt){return-1}},Ob.ga=function(){try{return this.g?this.g.responseText:""}catch(tt){return""}},Ob.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),$E(t)}},Ob.Da=function(){return this.m},Ob.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ob=lT.prototype).ma=8,Ob.G=1,Ob.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},Ob.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new V_(this,this.h,e,void 0),n=this.s;if(this.P&&(n?lw(n=uw(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=yT(this,t,r),pE(i=cE(this.F),"RID",e),pE(i,"CVER",22),this.D&&pE(i,"X-HTTP-Session-Id",this.D),mT(this,i),this.o&&n&&uT(i,this.o,n),ME(this.i,t),this.Ra&&pE(i,"TYPE","init"),this.ja?(pE(i,"$req",r),pE(i,"SID","null"),t.$=!0,H_(t,i,null)):H_(t,i,r),this.G=2}}else 3==this.G&&(e?gT(this,e):0==this.l.length||DE(this.i)||gT(this))},Ob.Ga=function(){if(this.u=null,ET(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=x_(Wb(this.bb,this),e)}},Ob.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,N_(10),fT(this),ET(this))},Ob.ab=function(){null!=this.v&&(this.v=null,fT(this),wT(this),N_(19))},Ob.jb=function(e){e?(this.h.info("Successfully pinged google.com"),N_(2)):(this.h.info("Failed to ping google.com"),N_(1))},(Ob=xT.prototype).xa=function(){},Ob.wa=function(){},Ob.va=function(){},Ob.ua=function(){},Ob.Oa=function(){},PT.prototype.g=function(e,t){return new RT(e,t)},Gb(RT,Xw),RT.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),s_(Wb(e.hb,e,t))),N_(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=NT(e,null,e.W),vT(e)},RT.prototype.close=function(){hT(this.g)},RT.prototype.u=function(e){if("string"==typeof e){var t={};t.__data__=e,pT(this.g,t)}else this.v?((t={}).__data__=e_(e),pT(this.g,t)):pT(this.g,e)},RT.prototype.M=function(){this.g.j=null,delete this.j,hT(this.g),delete this.g,RT.Z.M.call(this)},Gb(DT,U_),Gb(OT,j_),Gb(LT,xT),LT.prototype.xa=function(){Jw(this.g,"a")},LT.prototype.wa=function(e){Jw(this.g,new DT(e))},LT.prototype.va=function(e){Jw(this.g,new OT(e))},LT.prototype.ua=function(){Jw(this.g,"b")},PT.prototype.createWebChannel=PT.prototype.g,RT.prototype.send=RT.prototype.u,RT.prototype.open=RT.prototype.m,RT.prototype.close=RT.prototype.close,P_.NO_ERROR=0,P_.TIMEOUT=8,P_.HTTP_ERROR=6,R_.COMPLETE="complete",L_.EventType=F_,F_.OPEN="a",F_.CLOSE="b",F_.ERROR="c",F_.MESSAGE="d",Xw.prototype.listen=Xw.prototype.N,YE.prototype.listenOnce=YE.prototype.O,YE.prototype.getLastError=YE.prototype.La,YE.prototype.getLastErrorCode=YE.prototype.Da,YE.prototype.getStatus=YE.prototype.ba,YE.prototype.getResponseJson=YE.prototype.Qa,YE.prototype.getResponseText=YE.prototype.ga,YE.prototype.send=YE.prototype.ea;var MT=P_,FT=R_,UT=E_,jT=10,qT=11,VT=zE,BT=L_,zT=YE,KT=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.t(e)},this.i=function(e){return t.writeSequenceNumber(e)})}return e.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},e}();KT.o=-1;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var WT={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},HT=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Th(t,e),t}(Error),GT=new Rf("@firebase/firestore");function QT(){return GT.logLevel}function $T(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(GT.logLevel<=If.DEBUG){var r=t.map(JT);GT.debug.apply(GT,Ah(["Firestore (8.8.1): "+e],r))}}function YT(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(GT.logLevel<=If.ERROR){var r=t.map(JT);GT.error.apply(GT,Ah(["Firestore (8.8.1): "+e],r))}}function XT(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(GT.logLevel<=If.WARN){var r=t.map(JT);GT.warn.apply(GT,Ah(["Firestore (8.8.1): "+e],r))}}function JT(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(n){return e}var t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT(e){void 0===e&&(e="Unexpected state");var t="FIRESTORE (8.8.1) INTERNAL ASSERTION FAILED: "+e;throw YT(t),new Error(t)}function eI(e,t){e||ZT()}function tI(e,t){return e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nI(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rI=function(){function e(){}return e.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=nI(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n},e}();function iI(e,t){return e<t?-1:e>t?1:0}function oI(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function aI(e){return e+"\0"}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sI=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new HT(WT.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new HT(WT.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new HT(WT.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new HT(WT.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(e){return this.seconds===e.seconds?iI(this.nanoseconds,e.nanoseconds):iI(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),uI=function(){function e(e){this.timestamp=e}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new sI(0,0))},e.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cI(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function lI(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function hI(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fI=function(){function e(e,t,n){void 0===t?t=0:t>e.length&&ZT(),void 0===n?n=e.length-t:n>e.length-t&&ZT(),this.segments=e,this.offset=t,this.len=n}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.comparator(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(e){return this.segments[this.offset+e]},e.prototype.isEmpty=function(){return 0===this.length},e.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),dI=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Th(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=[],i=0,o=e;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new HT(WT.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(e){return e.length>0})))}return new t(r)},t.emptyPath=function(){return new t([])},t}(fI),pI=/^[_a-zA-Z][_a-zA-Z0-9]*$/,vI=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Th(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.isValidIdentifier=function(e){return pI.test(e)},t.prototype.canonicalString=function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(e){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new HT(WT.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new HT(WT.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new HT(WT.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new HT(WT.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t.emptyPath=function(){return new t([])},t}(fI),gI=function(){function e(e){this.fields=e,e.sort(vI.comparator)}return e.prototype.covers=function(e){for(var t=0,n=this.fields;t<n.length;t++)if(n[t].isPrefixOf(e))return!0;return!1},e.prototype.isEqual=function(e){return oI(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))},e}(),mI=function(){function e(e){this.binaryString=e}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))},e.prototype.toBase64=function(){return e=this.binaryString,btoa(e);var e},e.prototype.toUint8Array=function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(e){return iI(this.binaryString,e.binaryString)},e.prototype.isEqual=function(e){return this.binaryString===e.binaryString},e}();mI.EMPTY_BYTE_STRING=new mI("");var yI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bI(e){if(eI(!!e),"string"==typeof e){var t=0,n=yI.exec(e);if(eI(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:wI(e.seconds),nanos:wI(e.nanos)}}function wI(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function _I(e){return"string"==typeof e?mI.fromBase64String(e):mI.fromUint8Array(e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EI(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function TI(e){var t=e.mapValue.fields.__previous_value__;return EI(t)?TI(t):t}function II(e){var t=bI(e.mapValue.fields.__local_write_time__.timestampValue);return new sI(t.seconds,t.nanos)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kI(e){return null==e}function SI(e){return 0===e&&1/e==-1/0}function CI(e){return"number"==typeof e&&Number.isInteger(e)&&!SI(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var NI=function(){function e(e){this.path=e}return e.fromPath=function(t){return new e(dI.fromString(t))},e.fromName=function(t){return new e(dI.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===dI.comparator(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(e,t){return dI.comparator(e.path,t.path)},e.isDocumentKey=function(e){return e.length%2==0},e.fromSegments=function(t){return new e(new dI(t.slice()))},e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AI(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?EI(e)?4:10:ZT()}function xI(e,t){var n,r=AI(e);if(r!==AI(t))return!1;switch(r){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return II(e).isEqual(II(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=bI(e.timestampValue),r=bI(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return n=t,_I(e.bytesValue).isEqual(_I(n.bytesValue));case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return wI(e.geoPointValue.latitude)===wI(t.geoPointValue.latitude)&&wI(e.geoPointValue.longitude)===wI(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return wI(e.integerValue)===wI(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=wI(e.doubleValue),r=wI(t.doubleValue);return n===r?SI(n)===SI(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return oI(e.arrayValue.values||[],t.arrayValue.values||[],xI);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(cI(n)!==cI(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!xI(n[i],r[i])))return!1;return!0}(e,t);default:return ZT()}}function PI(e,t){return void 0!==(e.values||[]).find((function(e){return xI(e,t)}))}function RI(e,t){var n,r,i,o,a=AI(e),s=AI(t);if(a!==s)return iI(a,s);switch(a){case 0:return 0;case 1:return iI(e.booleanValue,t.booleanValue);case 2:return r=t,i=wI((n=e).integerValue||n.doubleValue),o=wI(r.integerValue||r.doubleValue),i<o?-1:i>o?1:i===o?0:isNaN(i)?isNaN(o)?0:-1:1;case 3:return DI(e.timestampValue,t.timestampValue);case 4:return DI(II(e),II(t));case 5:return iI(e.stringValue,t.stringValue);case 6:return function(e,t){var n=_I(e),r=_I(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var o=iI(n[i],r[i]);if(0!==o)return o}return iI(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=iI(wI(e.latitude),wI(t.latitude));return 0!==n?n:iI(wI(e.longitude),wI(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var o=RI(n[i],r[i]);if(o)return o}return iI(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=iI(r[a],o[a]);if(0!==s)return s;var u=RI(n[r[a]],i[o[a]]);if(0!==u)return u}return iI(r.length,o.length)}(e.mapValue,t.mapValue);default:throw ZT()}}function DI(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return iI(e,t);var n=bI(e),r=bI(t),i=iI(n.seconds,r.seconds);return 0!==i?i:iI(n.nanos,r.nanos)}function OI(e){return LI(e)}function LI(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?(t=e.timestampValue,"time("+(n=bI(t)).seconds+","+n.nanos+")"):"stringValue"in e?e.stringValue:"bytesValue"in e?_I(e.bytesValue).toBase64():"referenceValue"in e?(i=e.referenceValue,NI.fromName(i).toString()):"geoPointValue"in e?"geo("+(r=e.geoPointValue).latitude+","+r.longitude+")":"arrayValue"in e?function(e){for(var t="[",n=!0,r=0,i=e.values||[];r<i.length;r++)n?n=!1:t+=",",t+=LI(i[r]);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var t="{",n=!0,r=0,i=Object.keys(e.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:t+=",",t+=o+":"+LI(e.fields[o])}return t+"}"}(e.mapValue):ZT();var t,n,r,i}function MI(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function FI(e){return!!e&&"integerValue"in e}function UI(e){return!!e&&"arrayValue"in e}function jI(e){return!!e&&"nullValue"in e}function qI(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function VI(e){return!!e&&"mapValue"in e}function BI(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return lI(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=BI(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=BI(e.arrayValue.values[r]);return n}return Object.assign({},e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zI=function(){function e(e){this.value=e}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!VI(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null},e.prototype.set=function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=BI(t)},e.prototype.setAll=function(e){var t=this,n=vI.emptyPath(),r={},i=[];e.forEach((function(e,o){if(!n.isImmediateParentOf(o)){var a=t.getFieldsMap(n);t.applyChanges(a,r,i),r={},i=[],n=o.popLast()}e?r[o.lastSegment()]=BI(e):i.push(o.lastSegment())}));var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},e.prototype.delete=function(e){var t=this.field(e.popLast());VI(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]},e.prototype.isEqual=function(e){return xI(this.value,e.value)},e.prototype.getFieldsMap=function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];VI(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields},e.prototype.applyChanges=function(e,t,n){lI(t,(function(t,n){return e[t]=n}));for(var r=0,i=n;r<i.length;r++){var o=i[r];delete e[o]}},e.prototype.clone=function(){return new e(BI(this.value))},e}();function KI(e){var t=[];return lI(e.fields,(function(e,n){var r=new vI([e]);if(VI(n)){var i=KI(n.mapValue).fields;if(0===i.length)t.push(r);else for(var o=0,a=i;o<a.length;o++){var s=a[o];t.push(r.child(s))}}else t.push(r)})),new gI(t)}var WI=function(){function e(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}return e.newInvalidDocument=function(t){return new e(t,0,uI.min(),zI.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,zI.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,zI.empty(),2)},e.prototype.convertToFoundDocument=function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this},e.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=zI.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=zI.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return 0!==this.documentType},e.prototype.isFoundDocument=function(){return 1===this.documentType},e.prototype.isNoDocument=function(){return 2===this.documentType},e.prototype.isUnknownDocument=function(){return 3===this.documentType},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),HI=function(e,t,n,r,i,o,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GI(e,t,n,r,i,o,a){return void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new HI(e,t,n,r,i,o,a)}function QI(e){var t=tI(e);if(null===t.h){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+OI(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return(t=e).field.canonicalString()+t.dir;var t})).join(","),kI(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=sk(t.startAt)),t.endAt&&(n+="|ub:",n+=sk(t.endAt)),t.h=n}return t.h}function $I(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!ck(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],o=t.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!xI(i.value,o.value))return!1;var i,o;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!hk(e.startAt,t.startAt)&&hk(e.endAt,t.endAt)}function YI(e){return NI.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var XI=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).field=t,i.op=n,i.value=r,i}return Th(t,e),t.create=function(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.l(e,n,r):new JI(e,n,r):"array-contains"===n?new nk(e,r):"in"===n?new rk(e,r):"not-in"===n?new ik(e,r):"array-contains-any"===n?new ok(e,r):new t(e,n,r)},t.l=function(e,t,n){return"in"===t?new ZI(e,n):new ek(e,n)},t.prototype.matches=function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.m(RI(t,this.value)):null!==t&&AI(this.value)===AI(t)&&this.m(RI(t,this.value))},t.prototype.m=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ZT()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}((function(){})),JI=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,r)||this).key=NI.fromName(r.referenceValue),i}return Th(t,e),t.prototype.matches=function(e){var t=NI.comparator(e.key,this.key);return this.m(t)},t}(XI),ZI=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"in",n)||this).keys=tk("in",n),r}return Th(t,e),t.prototype.matches=function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))},t}(XI),ek=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"not-in",n)||this).keys=tk("not-in",n),r}return Th(t,e),t.prototype.matches=function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))},t}(XI);function tk(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return NI.fromName(e.referenceValue)}))}var nk=function(e){function t(t,n){return e.call(this,t,"array-contains",n)||this}return Th(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return UI(t)&&PI(t.arrayValue,this.value)},t}(XI),rk=function(e){function t(t,n){return e.call(this,t,"in",n)||this}return Th(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return null!==t&&PI(this.value.arrayValue,t)},t}(XI),ik=function(e){function t(t,n){return e.call(this,t,"not-in",n)||this}return Th(t,e),t.prototype.matches=function(e){if(PI(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!PI(this.value.arrayValue,t)},t}(XI),ok=function(e){function t(t,n){return e.call(this,t,"array-contains-any",n)||this}return Th(t,e),t.prototype.matches=function(e){var t=this,n=e.data.field(this.field);return!(!UI(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return PI(t.value.arrayValue,e)}))},t}(XI),ak=function(e,t){this.position=e,this.before=t};function sk(e){return(e.before?"b":"a")+":"+e.position.map((function(e){return OI(e)})).join(",")}var uk=function(e,t){void 0===t&&(t="asc"),this.field=e,this.dir=t};function ck(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function lk(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],a=e.position[i];if(r=o.field.isKeyField()?NI.comparator(NI.fromName(a.referenceValue),n.key):RI(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function hk(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!xI(e.position[n],t.position[n]))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fk=function(e,t,n,r,i,o,a,s){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null,this.startAt,this.endAt};function dk(e,t,n,r,i,o,a,s){return new fk(e,t,n,r,i,o,a,s)}function pk(e){return new fk(e)}function vk(e){return!kI(e.limit)&&"F"===e.limitType}function gk(e){return!kI(e.limit)&&"L"===e.limitType}function mk(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function yk(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function bk(e){return null!==e.collectionGroup}function wk(e){var t=tI(e);if(null===t.p){t.p=[];var n=yk(t),r=mk(t);if(null!==n&&null===r)n.isKeyField()||t.p.push(new uk(n)),t.p.push(new uk(vI.keyField(),"asc"));else{for(var i=!1,o=0,a=t.explicitOrderBy;o<a.length;o++){var s=a[o];t.p.push(s),s.field.isKeyField()&&(i=!0)}if(!i){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new uk(vI.keyField(),u))}}}return t.p}function _k(e){var t=tI(e);if(!t.T)if("F"===t.limitType)t.T=GI(t.path,t.collectionGroup,wk(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=wk(t);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new uk(o.field,a))}var s=t.endAt?new ak(t.endAt.position,!t.endAt.before):null,u=t.startAt?new ak(t.startAt.position,!t.startAt.before):null;t.T=GI(t.path,t.collectionGroup,n,t.filters,t.limit,s,u)}return t.T}function Ek(e,t,n){return new fk(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Tk(e,t){return $I(_k(e),_k(t))&&e.limitType===t.limitType}function Ik(e){return QI(_k(e))+"|lt:"+e.limitType}function kk(e){return"Query(target="+(t=_k(e),n=t.path.canonicalString(),null!==t.collectionGroup&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=", filters: ["+t.filters.map((function(e){return(t=e).field.canonicalString()+" "+t.op+" "+OI(t.value);var t})).join(", ")+"]"),kI(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=", orderBy: ["+t.orderBy.map((function(e){return(t=e).field.canonicalString()+" ("+t.dir+")";var t})).join(", ")+"]"),t.startAt&&(n+=", startAt: "+sk(t.startAt)),t.endAt&&(n+=", endAt: "+sk(t.endAt)),"Target("+n+"); limitType=")+e.limitType+")";var t,n}function Sk(e,t){return t.isFoundDocument()&&(n=e,i=(r=t).key.path,null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):NI.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i))&&function(e,t){for(var n=0,r=e.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}return!0}(e,t)&&function(e,t){for(var n=0,r=e.filters;n<r.length;n++)if(!r[n].matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!lk(e.startAt,wk(e),t)||e.endAt&&lk(e.endAt,wk(e),t))}(e,t);var n,r,i}function Ck(e){return function(t,n){for(var r=!1,i=0,o=wk(e);i<o.length;i++){var a=o[i],s=Nk(a,t,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function Nk(e,t,n){var r,i,o,a,s=e.field.isKeyField()?NI.comparator(t.key,n.key):(r=e.field,i=n,o=t.data.field(r),a=i.data.field(r),null!==o&&null!==a?RI(o,a):ZT());switch(e.dir){case"asc":return s;case"desc":return-1*s;default:return ZT()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ak(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:SI(t)?"-0":t}}function xk(e){return{integerValue:""+e}}function Pk(e,t){return CI(t)?xk(t):Ak(e,t)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rk=function(){this._=void 0};function Dk(e,t,n){return e instanceof Mk?(i=t,o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:(r=n).seconds,nanos:r.nanoseconds}}}},i&&(o.fields.__previous_value__=i),{mapValue:o}):e instanceof Fk?Uk(e,t):e instanceof jk?qk(e,t):function(e,t){var n=Lk(e,t),r=Bk(n)+Bk(e.A);return FI(n)&&FI(e.A)?xk(r):Ak(e.R,r)}(e,t);var r,i,o}function Ok(e,t,n){return e instanceof Fk?Uk(e,t):e instanceof jk?qk(e,t):n}function Lk(e,t){return e instanceof Vk?FI(r=t)||(n=r)&&"doubleValue"in n?t:{integerValue:0}:null;var n,r}var Mk=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Th(t,e),t}(Rk),Fk=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return Th(t,e),t}(Rk);function Uk(e,t){for(var n=zk(t),r=function(e){n.some((function(t){return xI(t,e)}))||n.push(e)},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var jk=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return Th(t,e),t}(Rk);function qk(e,t){for(var n=zk(t),r=function(e){n=n.filter((function(t){return!xI(t,e)}))},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Vk=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).R=t,r.A=n,r}return Th(t,e),t}(Rk);function Bk(e){return wI(e.integerValue||e.doubleValue)}function zk(e){return UI(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kk=function(e,t){this.field=e,this.transform=t},Wk=function(e,t){this.version=e,this.transformResults=t},Hk=function(){function e(e,t){this.updateTime=e,this.exists=t}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},e}();function Gk(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Qk=function(){};function $k(e,t,n){var r,i,o,a,s;e instanceof eS?(i=t,o=n,a=(r=e).value.clone(),s=rS(r.fieldTransforms,i,o.transformResults),a.setAll(s),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()):e instanceof tS?function(e,t,n){if(Gk(e.precondition,t)){var r=rS(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(nS(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Yk(e,t,n){var r;e instanceof eS?function(e,t,n){if(Gk(e.precondition,t)){var r=e.value.clone(),i=iS(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Zk(t),r).setHasLocalMutations()}}(e,t,n):e instanceof tS?function(e,t,n){if(Gk(e.precondition,t)){var r=iS(e.fieldTransforms,n,t),i=t.data;i.setAll(nS(e)),i.setAll(r),t.convertToFoundDocument(Zk(t),i).setHasLocalMutations()}}(e,t,n):(r=t,Gk(e.precondition,r)&&r.convertToNoDocument(uI.min()))}function Xk(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var o=i[r],a=t.data.field(o.field),s=Lk(o.transform,a||null);null!=s&&(null==n&&(n=zI.empty()),n.set(o.field,s))}return n||null}function Jk(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&(n=e.fieldTransforms,r=t.fieldTransforms,!!(void 0===n&&void 0===r||n&&r&&oI(n,r,(function(e,t){return r=t,(n=e).field.isEqual(r.field)&&(i=n.transform,o=r.transform,i instanceof Fk&&o instanceof Fk||i instanceof jk&&o instanceof jk?oI(i.elements,o.elements,xI):i instanceof Vk&&o instanceof Vk?xI(i.A,o.A):i instanceof Mk&&o instanceof Mk);var n,r,i,o}))))&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask));var n,r}function Zk(e){return e.isFoundDocument()?e.version:uI.min()}var eS=function(e){function t(t,n,r,i){void 0===i&&(i=[]);var o=this;return(o=e.call(this)||this).key=t,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return Th(t,e),t}(Qk),tS=function(e){function t(t,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=e.call(this)||this).key=t,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return Th(t,e),t}(Qk);function nS(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function rS(e,t,n){var r=new Map;eI(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,Ok(a,s,n[i]))}return r}function iS(e,t,n){for(var r=new Map,i=0,o=e;i<o.length;i++){var a=o[i],s=a.transform,u=n.data.field(a.field);r.set(a.field,Dk(s,u,t))}return r}var oS,aS,sS=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Th(t,e),t}(Qk),uS=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Th(t,e),t}(Qk),cS=function(e){this.count=e};function lS(e){switch(e){case WT.OK:return ZT();case WT.CANCELLED:case WT.UNKNOWN:case WT.DEADLINE_EXCEEDED:case WT.RESOURCE_EXHAUSTED:case WT.INTERNAL:case WT.UNAVAILABLE:case WT.UNAUTHENTICATED:return!1;case WT.INVALID_ARGUMENT:case WT.NOT_FOUND:case WT.ALREADY_EXISTS:case WT.PERMISSION_DENIED:case WT.FAILED_PRECONDITION:case WT.ABORTED:case WT.OUT_OF_RANGE:case WT.UNIMPLEMENTED:case WT.DATA_LOSS:return!0;default:return ZT()}}function hS(e){if(void 0===e)return YT("GRPC error has no .code"),WT.UNKNOWN;switch(e){case oS.OK:return WT.OK;case oS.CANCELLED:return WT.CANCELLED;case oS.UNKNOWN:return WT.UNKNOWN;case oS.DEADLINE_EXCEEDED:return WT.DEADLINE_EXCEEDED;case oS.RESOURCE_EXHAUSTED:return WT.RESOURCE_EXHAUSTED;case oS.INTERNAL:return WT.INTERNAL;case oS.UNAVAILABLE:return WT.UNAVAILABLE;case oS.UNAUTHENTICATED:return WT.UNAUTHENTICATED;case oS.INVALID_ARGUMENT:return WT.INVALID_ARGUMENT;case oS.NOT_FOUND:return WT.NOT_FOUND;case oS.ALREADY_EXISTS:return WT.ALREADY_EXISTS;case oS.PERMISSION_DENIED:return WT.PERMISSION_DENIED;case oS.FAILED_PRECONDITION:return WT.FAILED_PRECONDITION;case oS.ABORTED:return WT.ABORTED;case oS.OUT_OF_RANGE:return WT.OUT_OF_RANGE;case oS.UNIMPLEMENTED:return WT.UNIMPLEMENTED;case oS.DATA_LOSS:return WT.DATA_LOSS;default:return ZT()}}(aS=oS||(oS={}))[aS.OK=0]="OK",aS[aS.CANCELLED=1]="CANCELLED",aS[aS.UNKNOWN=2]="UNKNOWN",aS[aS.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",aS[aS.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",aS[aS.NOT_FOUND=5]="NOT_FOUND",aS[aS.ALREADY_EXISTS=6]="ALREADY_EXISTS",aS[aS.PERMISSION_DENIED=7]="PERMISSION_DENIED",aS[aS.UNAUTHENTICATED=16]="UNAUTHENTICATED",aS[aS.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",aS[aS.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",aS[aS.ABORTED=10]="ABORTED",aS[aS.OUT_OF_RANGE=11]="OUT_OF_RANGE",aS[aS.UNIMPLEMENTED=12]="UNIMPLEMENTED",aS[aS.INTERNAL=13]="INTERNAL",aS[aS.UNAVAILABLE=14]="UNAVAILABLE",aS[aS.DATA_LOSS=15]="DATA_LOSS";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var fS=function(){function e(e,t){this.comparator=e,this.root=t||pS.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,pS.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,pS.BLACK,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},e.prototype.forEach=function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))},e.prototype.toString=function(){var e=[];return this.inorderTraversal((function(t,n){return e.push(t+":"+n),!1})),"{"+e.join(", ")+"}"},e.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},e.prototype.getIterator=function(){return new dS(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(e){return new dS(this.root,e,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new dS(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(e){return new dS(this.root,e,this.comparator,!0)},e}(),dS=function(){function e(e,t,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return e.prototype.getNext=function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},e}(),pS=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},e.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},e.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw ZT();if(this.right.isRed())throw ZT();var e=this.left.check();if(e!==this.right.check())throw ZT();return e+(this.isRed()?0:1)},e}();pS.EMPTY=null,pS.RED=!0,pS.BLACK=!1,pS.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw ZT()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw ZT()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw ZT()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw ZT()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw ZT()},enumerable:!1,configurable:!0}),e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new pS(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var vS=function(){function e(e){this.comparator=e,this.data=new fS(this.comparator)}return e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}},e.prototype.forEachWhile=function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return},e.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},e.prototype.getIterator=function(){return new gS(this.data.getIterator())},e.prototype.getIteratorFrom=function(e){return new gS(this.data.getIteratorFrom(e))},e.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},e.prototype.toArray=function(){var e=[];return this.forEach((function(t){e.push(t)})),e},e.prototype.toString=function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),gS=function(){function e(e){this.iter=e}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),mS=new fS(NI.comparator);function yS(){return mS}var bS=new fS(NI.comparator);function wS(){return bS}var _S=new fS(NI.comparator);function ES(){return _S}var TS=new vS(NI.comparator);function IS(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=TS,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var kS=new vS(iI);function SS(){return kS}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var CS=function(){function e(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,NS.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(uI.min(),r,SS(),yS(),IS())},e}(),NS=function(){function e(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(mI.EMPTY_BYTE_STRING,n,IS(),IS(),IS())},e}(),AS=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},xS=function(e,t){this.targetId=e,this.V=t},PS=function(e,t,n,r){void 0===n&&(n=mI.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},RS=function(){function e(){this.S=0,this.D=LS(),this.C=mI.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.F},enumerable:!1,configurable:!0}),e.prototype.O=function(e){e.approximateByteSize()>0&&(this.F=!0,this.C=e)},e.prototype.M=function(){var e=IS(),t=IS(),n=IS();return this.D.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:ZT()}})),new NS(this.C,this.N,e,t,n)},e.prototype.L=function(){this.F=!1,this.D=LS()},e.prototype.B=function(e,t){this.F=!0,this.D=this.D.insert(e,t)},e.prototype.q=function(e){this.F=!0,this.D=this.D.remove(e)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.F=!0,this.N=!0},e}(),DS=function(){function e(e){this.W=e,this.G=new Map,this.H=yS(),this.J=OS(),this.Y=new vS(iI)}return e.prototype.X=function(e){for(var t=0,n=e.v;t<n.length;t++){var r=n[t];e.P&&e.P.isFoundDocument()?this.Z(r,e.P):this.tt(r,e.key,e.P)}for(var i=0,o=e.removedTargetIds;i<o.length;i++)r=o[i],this.tt(r,e.key,e.P)},e.prototype.et=function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.nt(n);switch(e.state){case 0:t.st(n)&&r.O(e.resumeToken);break;case 1:r.K(),r.k||r.L(),r.O(e.resumeToken);break;case 2:r.K(),r.k||t.removeTarget(n);break;case 3:t.st(n)&&(r.j(),r.O(e.resumeToken));break;case 4:t.st(n)&&(t.it(n),r.O(e.resumeToken));break;default:ZT()}}))},e.prototype.forEachTarget=function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.G.forEach((function(e,r){n.st(r)&&t(r)}))},e.prototype.rt=function(e){var t=e.targetId,n=e.V.count,r=this.ot(t);if(r){var i=r.target;if(YI(i))if(0===n){var o=new NI(i.path);this.tt(t,o,WI.newNoDocument(o,uI.min()))}else eI(1===n);else this.ct(t)!==n&&(this.it(t),this.Y=this.Y.add(t))}},e.prototype.ut=function(e){var t=this,n=new Map;this.G.forEach((function(r,i){var o=t.ot(i);if(o){if(r.current&&YI(o.target)){var a=new NI(o.target.path);null!==t.H.get(a)||t.at(i,a)||t.tt(i,a,WI.newNoDocument(a,e))}r.$&&(n.set(i,r.M()),r.L())}}));var r=IS();this.J.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.ot(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new CS(e,n,this.Y,this.H,r);return this.H=yS(),this.J=OS(),this.Y=new vS(iI),i},e.prototype.Z=function(e,t){if(this.st(e)){var n=this.at(e,t.key)?2:0;this.nt(e).B(t.key,n),this.H=this.H.insert(t.key,t),this.J=this.J.insert(t.key,this.ht(t.key).add(e))}},e.prototype.tt=function(e,t,n){if(this.st(e)){var r=this.nt(e);this.at(e,t)?r.B(t,1):r.q(t),this.J=this.J.insert(t,this.ht(t).delete(e)),n&&(this.H=this.H.insert(t,n))}},e.prototype.removeTarget=function(e){this.G.delete(e)},e.prototype.ct=function(e){var t=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},e.prototype.U=function(e){this.nt(e).U()},e.prototype.nt=function(e){var t=this.G.get(e);return t||(t=new RS,this.G.set(e,t)),t},e.prototype.ht=function(e){var t=this.J.get(e);return t||(t=new vS(iI),this.J=this.J.insert(e,t)),t},e.prototype.st=function(e){var t=null!==this.ot(e);return t||$T("WatchChangeAggregator","Detected inactive target",e),t},e.prototype.ot=function(e){var t=this.G.get(e);return t&&t.k?null:this.W.lt(e)},e.prototype.it=function(e){var t=this;this.G.set(e,new RS),this.W.getRemoteKeysForTarget(e).forEach((function(n){t.tt(e,n,null)}))},e.prototype.at=function(e,t){return this.W.getRemoteKeysForTarget(e).has(t)},e}();function OS(){return new fS(NI.comparator)}function LS(){return new fS(NI.comparator)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var MS={asc:"ASCENDING",desc:"DESCENDING"},FS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},US=function(e,t){this.databaseId=e,this.I=t};function jS(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function qS(e,t){return e.I?t.toBase64():t.toUint8Array()}function VS(e,t){return jS(e,t.toTimestamp())}function BS(e){return eI(!!e),uI.fromTimestamp((t=bI(e),new sI(t.seconds,t.nanos)));var t}function zS(e,t){return(n=e,new dI(["projects",n.projectId,"databases",n.database])).child("documents").child(t).canonicalString();var n}function KS(e){var t=dI.fromString(e);return eI(pC(t)),t}function WS(e,t){return zS(e.databaseId,t.path)}function HS(e,t){var n=KS(t);if(n.get(1)!==e.databaseId.projectId)throw new HT(WT.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new HT(WT.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new NI(YS(n))}function GS(e,t){return zS(e.databaseId,t)}function QS(e){var t=KS(e);return 4===t.length?dI.emptyPath():YS(t)}function $S(e){return new dI(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function YS(e){return eI(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function XS(e,t,n){return{name:WS(e,t),fields:n.value.mapValue.fields}}function JS(e,t,n){var r=HS(e,t.name),i=BS(t.updateTime),o=new zI({mapValue:{fields:t.fields}}),a=WI.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function ZS(e,t){var n,r,i;if(t instanceof eS)n={update:XS(e,t.key,t.value)};else if(t instanceof sS)n={delete:WS(e,t.key)};else if(t instanceof tS)n={update:XS(e,t.key,t.data),updateMask:dC(t.fieldMask)};else{if(!(t instanceof uS))return ZT();n={verify:WS(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Mk)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Fk)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof jk)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Vk)return{fieldPath:t.field.canonicalString(),increment:n.A};throw ZT()}(0,e)}))),t.precondition.isNone||(n.currentDocument=(r=e,void 0!==(i=t.precondition).updateTime?{updateTime:VS(r,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:ZT())),n}function eC(e,t){var n,r=t.currentDocument?void 0!==(n=t.currentDocument).updateTime?Hk.updateTime(BS(n.updateTime)):void 0!==n.exists?Hk.exists(n.exists):Hk.none():Hk.none(),i=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)eI("REQUEST_TIME"===t.setToServerValue),n=new Mk;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Fk(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new jk(i)}else"increment"in t?n=new Vk(e,t.increment):ZT();var o=vI.fromServerFormat(t.fieldPath);return new Kk(o,n)}(e,t)})):[];if(t.update){t.update.name;var o=HS(e,t.update.name),a=new zI({mapValue:{fields:t.update.fields}});if(t.updateMask){var s=function(e){var t=e.fieldPaths||[];return new gI(t.map((function(e){return vI.fromServerFormat(e)})))}(t.updateMask);return new tS(o,a,s,r,i)}return new eS(o,a,r,i)}if(t.delete){var u=HS(e,t.delete);return new sS(u,r)}if(t.verify){var c=HS(e,t.verify);return new uS(c,r)}return ZT()}function tC(e,t){return{documents:[GS(e,t.path)]}}function nC(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=GS(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=GS(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(qI(e.value))return{unaryFilter:{field:cC(e.field),op:"IS_NAN"}};if(jI(e.value))return{unaryFilter:{field:cC(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(qI(e.value))return{unaryFilter:{field:cC(e.field),op:"IS_NOT_NAN"}};if(jI(e.value))return{unaryFilter:{field:cC(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cC(e.field),op:uC(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var o=function(e){if(0!==e.length)return e.map((function(e){return{field:cC((t=e).field),direction:sC(t.dir)};var t}))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var a,s,u=(a=e,s=t.limit,a.I||kI(s)?s:{value:s});return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt=oC(t.startAt)),t.endAt&&(n.structuredQuery.endAt=oC(t.endAt)),n}function rC(e){var t=QS(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){eI(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var a=[];n.where&&(a=iC(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return new uk(lC((t=e).field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction));var t})));var u,c,l=null;n.limit&&(u=n.limit,l=kI(c="object"==typeof u?u.value:u)?null:c);var h=null;n.startAt&&(h=aC(n.startAt));var f=null;return n.endAt&&(f=aC(n.endAt)),dk(t,i,s,a,l,"F",h,f)}function iC(e){return e?void 0!==e.unaryFilter?[fC(e)]:void 0!==e.fieldFilter?[hC(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return iC(e)})).reduce((function(e,t){return e.concat(t)})):ZT():[]}function oC(e){return{before:e.before,values:e.position}}function aC(e){var t=!!e.before,n=e.values||[];return new ak(n,t)}function sC(e){return MS[e]}function uC(e){return FS[e]}function cC(e){return{fieldPath:e.canonicalString()}}function lC(e){return vI.fromServerFormat(e.fieldPath)}function hC(e){return XI.create(lC(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return ZT()}}(e.fieldFilter.op),e.fieldFilter.value)}function fC(e){switch(e.unaryFilter.op){case"IS_NAN":var t=lC(e.unaryFilter.field);return XI.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=lC(e.unaryFilter.field);return XI.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=lC(e.unaryFilter.field);return XI.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=lC(e.unaryFilter.field);return XI.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return ZT()}}function dC(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function pC(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=mC(t)),t=gC(e.get(n),t);return mC(t)}function gC(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function mC(e){return e+""}function yC(e){var t=e.length;if(eI(t>=2),2===t)return eI(""===e.charAt(0)&&""===e.charAt(1)),dI.emptyPath();for(var n=t-2,r=[],i="",o=0;o<t;){var a=e.indexOf("",o);switch((a<0||a>n)&&ZT(),e.charAt(a+1)){case"":var s=e.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"":i+=e.substring(o,a),i+="\0";break;case"":i+=e.substring(o,a+1);break;default:ZT()}o=a+2}return new dI(r)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bC=function(e,t){this.seconds=e,this.nanoseconds=t},wC=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};wC.store="owner",wC.key="owner";var _C=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};_C.store="mutationQueues",_C.keyPath="userId";var EC=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};EC.store="mutations",EC.keyPath="batchId",EC.userMutationsIndex="userMutationsIndex",EC.userMutationsKeyPath=["userId","batchId"];var TC=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,vC(t)]},e.key=function(e,t,n){return[e,vC(t),n]},e}();TC.store="documentMutations",TC.PLACEHOLDER=new TC;var IC=function(e,t){this.path=e,this.readTime=t},kC=function(e,t){this.path=e,this.version=t},SC=function(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};SC.store="remoteDocuments",SC.readTimeIndex="readTimeIndex",SC.readTimeIndexPath="readTime",SC.collectionReadTimeIndex="collectionReadTimeIndex",SC.collectionReadTimeIndexPath=["parentPath","readTime"];var CC=function(e){this.byteSize=e};CC.store="remoteDocumentGlobal",CC.key="remoteDocumentGlobalKey";var NC=function(e,t,n,r,i,o,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};NC.store="targets",NC.keyPath="targetId",NC.queryTargetsIndexName="queryTargetsIndex",NC.queryTargetsKeyPath=["canonicalId","targetId"];var AC=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};AC.store="targetDocuments",AC.keyPath=["targetId","path"],AC.documentTargetsIndex="documentTargetsIndex",AC.documentTargetsKeyPath=["path","targetId"];var xC=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};xC.key="targetGlobalKey",xC.store="targetGlobal";var PC=function(e,t){this.collectionId=e,this.parent=t};PC.store="collectionParents",PC.keyPath=["collectionId","parent"];var RC=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};RC.store="clientMetadata",RC.keyPath="clientId";var DC=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};DC.store="bundles",DC.keyPath="bundleId";var OC=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};OC.store="namedQueries",OC.keyPath="name";var LC=Ah(Ah([],Ah(Ah([],Ah(Ah([],Ah(Ah([],[_C.store,EC.store,TC.store,SC.store,NC.store,wC.store,xC.store,AC.store]),[RC.store])),[CC.store])),[PC.store])),[DC.store,OC.store]),MC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",FC=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(e){return e()}))},e}(),UC=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))},jC=function(){function e(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)}),(function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)}))}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&ZT(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))},e.prototype.toPromise=function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(r){return e.reject(r)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)},e.resolve=function(t){return new e((function(e,n){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.waitFor=function(t){return new e((function(e,n){var r=0,i=0,o=!1;t.forEach((function(t){++r,t.next((function(){++i,o&&i===r&&e()}),(function(e){return n(e)}))})),o=!0,i===r&&e()}))},e.or=function(t){for(var n=e.resolve(!1),r=function(t){n=n.next((function(n){return n?e.resolve(n):t()}))},i=0,o=t;i<o.length;i++)r(o[i]);return n},e.forEach=function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)},e}(),qC=function(){function e(e,t){var n=this;this.action=e,this.transaction=t,this.aborted=!1,this.ft=new UC,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){t.error?n.ft.reject(new zC(e,t.error)):n.ft.resolve()},this.transaction.onerror=function(t){var r=QC(t.target.error);n.ft.reject(new zC(e,r))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(o){throw new zC(n,o)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||($T("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return new WC(t)},e}(),VC=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,12.2===e._t(Vh())&&YT("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(e){return $T("SimpleDb","Removing database:",e),HC(window.indexedDB.deleteDatabase(e)).toPromise()},e.yt=function(){if("undefined"==typeof indexedDB)return!1;if(e.gt())return!0;var t=Vh(),n=e._t(t),r=0<n&&n<10,i=e.Et(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)},e.gt=function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Tt)},e.It=function(e,t){return e.store(t)},e._t=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.Et=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.At=function(e){return kh(this,void 0,void 0,(function(){var t,n=this;return Sh(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:($T("SimpleDb","Opening database:",this.name),t=this,[4,new Promise((function(t,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(e){var n=e.target.result;t(n)},i.onblocked=function(){r(new zC(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(t){var n=t.target.error;"VersionError"===n.name?r(new HT(WT.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new zC(e,n))},i.onupgradeneeded=function(e){$T("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.wt.Rt(t,i.transaction,e.oldVersion,n.version).next((function(){$T("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:t.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(e){return n.bt(e)}),this.db)]}}))}))},e.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},e.prototype.runTransaction=function(e,t,n,r){return kh(this,void 0,void 0,(function(){var i,o,a,s,u;return Sh(this,(function(c){switch(c.label){case 0:i="readonly"===t,o=0,a=function(){var t,a,u,c,l;return Sh(this,(function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,s.At(e)];case 2:return s.db=h.sent(),t=qC.open(s.db,e,i?"readonly":"readwrite",n),a=r(t).catch((function(e){return t.abort(e),jC.reject(e)})).toPromise(),u={},a.catch((function(){})),[4,t.dt];case 3:return[2,(u.value=(h.sent(),a),u)];case 4:return c=h.sent(),l="FirebaseError"!==c.name&&o<3,$T("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),s.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},s=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),BC=function(){function e(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(e){this.St=e},e.prototype.delete=function(){return HC(this.Pt.delete())},e}(),zC=function(e){function t(t,n){var r=this;return(r=e.call(this,WT.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Th(t,e),t}(HT);function KC(e){return"IndexedDbTransactionError"===e.name}var WC=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?($T("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):($T("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),HC(n)},e.prototype.add=function(e){return $T("SimpleDb","ADD",this.store.name,e,e),HC(this.store.add(e))},e.prototype.get=function(e){var t=this;return HC(this.store.get(e)).next((function(n){return void 0===n&&(n=null),$T("SimpleDb","GET",t.store.name,e,n),n}))},e.prototype.delete=function(e){return $T("SimpleDb","DELETE",this.store.name,e),HC(this.store.delete(e))},e.prototype.count=function(){return $T("SimpleDb","COUNT",this.store.name),HC(this.store.count())},e.prototype.Nt=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.xt(n,(function(e,t){r.push(t)})).next((function(){return r}))},e.prototype.Ft=function(e,t){$T("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.kt=!1;var r=this.cursor(n);return this.xt(r,(function(e,t,n){return n.delete()}))},e.prototype.$t=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.xt(r,t)},e.prototype.Ot=function(e){var t=this.cursor({});return new jC((function(n,r){t.onerror=function(e){var t=QC(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))},e.prototype.xt=function(e,t){var n=[];return new jC((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new BC(i),a=t(i.primaryKey,i.value,o);if(a instanceof jC){var s=a.catch((function(e){return o.done(),jC.reject(e)}));n.push(s)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return jC.waitFor(n)}))},e.prototype.options=function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.kt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}();function HC(e){return new jC((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=QC(e.target.error);n(t)}}))}var GC=!1;function QC(e){var t=VC._t(Vh());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new HT("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return GC||(GC=!0,setTimeout((function(){throw r}),0)),r}}return e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $C=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Mt=t,r.currentSequenceNumber=n,r}return Th(t,e),t}(FC);function YC(e,t){var n=tI(e);return VC.It(n.Mt,t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var XC=function(){function e(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}return e.prototype.applyToRemoteDocument=function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&$k(i,e,n[r])}},e.prototype.applyToLocalView=function(e){for(var t=0,n=this.baseMutations;t<n.length;t++)(o=n[t]).key.isEqual(e.key)&&Yk(o,e,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(e.key)&&Yk(o,e,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(uI.min())}))},e.prototype.keys=function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),IS())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&oI(this.mutations,e.mutations,(function(e,t){return Jk(e,t)}))&&oI(this.baseMutations,e.baseMutations,(function(e,t){return Jk(e,t)}))},e}(),JC=function(){function e(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}return e.from=function(t,n,r){eI(t.mutations.length===r.length);for(var i=ES(),o=t.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new e(t,n,r,i)},e}(),ZC=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=uI.min()),void 0===o&&(o=uI.min()),void 0===a&&(a=mI.EMPTY_BYTE_STRING),this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),eN=function(e){this.Lt=e};function tN(e,t){if(t.document)return JS(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=NI.fromSegments(t.noDocument.path),r=aN(t.noDocument.readTime),i=WI.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var o=NI.fromSegments(t.unknownDocument.path);return r=aN(t.unknownDocument.version),WI.newUnknownDocument(o,r)}return ZT()}function nN(e,t,n){var r,i,o=rN(n),a=t.key.path.popLast().toArray();if(t.isFoundDocument()){var s={name:WS(r=e.Lt,(i=t).key),fields:i.data.value.mapValue.fields,updateTime:jS(r,i.version.toTimestamp())},u=t.hasCommittedMutations;return new SC(null,null,s,u,o,a)}if(t.isNoDocument()){var c=t.key.path.toArray(),l=oN(t.version);return u=t.hasCommittedMutations,new SC(null,new IC(c,l),null,u,o,a)}if(t.isUnknownDocument()){var h=t.key.path.toArray(),f=oN(t.version);return new SC(new kC(h,f),null,null,!0,o,a)}return ZT()}function rN(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function iN(e){var t=new sI(e[0],e[1]);return uI.fromTimestamp(t)}function oN(e){var t=e.toTimestamp();return new bC(t.seconds,t.nanoseconds)}function aN(e){var t=new sI(e.seconds,e.nanoseconds);return uI.fromTimestamp(t)}function sN(e,t){for(var n=(t.baseMutations||[]).map((function(t){return eC(e.Lt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var o=t.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var a=t.mutations.map((function(t){return eC(e.Lt,t)})),s=sI.fromMillis(t.localWriteTimeMs);return new XC(t.batchId,s,n,a)}function uN(e){var t,n,r=aN(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?aN(e.lastLimboFreeSnapshotVersion):uI.min();return void 0!==e.query.documents?(eI(1===(n=e.query).documents.length),t=_k(pk(QS(n.documents[0])))):t=_k(rC(e.query)),new ZC(t,e.targetId,0,e.lastListenSequenceNumber,r,i,mI.fromBase64String(e.resumeToken))}function cN(e,t){var n,r=oN(t.snapshotVersion),i=oN(t.lastLimboFreeSnapshotVersion);n=YI(t.target)?tC(e.Lt,t.target):nC(e.Lt,t.target);var o=t.resumeToken.toBase64();return new NC(t.targetId,QI(t.target),r,o,t.sequenceNumber,i,n)}function lN(e){var t=rC({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Ek(t,t.limit,"L"):t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hN=function(){function e(){}return e.prototype.getBundleMetadata=function(e,t){return fN(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:aN(t.createTime),version:t.version};var t}))},e.prototype.saveBundleMetadata=function(e,t){return fN(e).put({bundleId:(n=t).id,createTime:oN(BS(n.createTime)),version:n.version});var n},e.prototype.getNamedQuery=function(e,t){return dN(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:lN(t.bundledQuery),readTime:aN(t.readTime)};var t}))},e.prototype.saveNamedQuery=function(e,t){return dN(e).put({name:(n=t).name,readTime:oN(BS(n.readTime)),bundledQuery:n.bundledQuery});var n},e}();function fN(e){return YC(e,DC.store)}function dN(e){return YC(e,OC.store)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pN=function(){function e(){this.Bt=new vN}return e.prototype.addToCollectionParentIndex=function(e,t){return this.Bt.add(t),jC.resolve()},e.prototype.getCollectionParents=function(e,t){return jC.resolve(this.Bt.getEntries(t))},e}(),vN=function(){function e(){this.index={}}return e.prototype.add=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new vS(dI.comparator),i=!r.has(n);return this.index[t]=r.add(n),i},e.prototype.has=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)},e.prototype.getEntries=function(e){return(this.index[e]||new vS(dI.comparator)).toArray()},e}(),gN=function(){function e(){this.qt=new vN}return e.prototype.addToCollectionParentIndex=function(e,t){var n=this;if(!this.qt.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.qt.add(t)}));var o={collectionId:r,parent:vC(i)};return mN(e).put(o)}return jC.resolve()},e.prototype.getCollectionParents=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[aI(t),""],!1,!0);return mN(e).Nt(r).next((function(e){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.collectionId!==t)break;n.push(yC(o.parent))}return n}))},e}();function mN(e){return YC(e,PC.store)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yN={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},bN=function(){function e(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wN(e,t,n){var r=e.store(EC.store),i=e.store(TC.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.$t({range:a},(function(e,t,n){return s++,n.delete()}));o.push(u.next((function(){eI(1===s)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=TC.key(t,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return jC.waitFor(o).next((function(){return c}))}function _N(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw ZT();t=e.noDocument}return JSON.stringify(t).length}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bN.DEFAULT_COLLECTION_PERCENTILE=10,bN.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bN.DEFAULT=new bN(41943040,bN.DEFAULT_COLLECTION_PERCENTILE,bN.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bN.DISABLED=new bN(-1,0,0);var EN=function(){function e(e,t,n,r){this.userId=e,this.R=t,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return e.Qt=function(t,n,r,i){return eI(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return IN(e).$t({index:EC.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))},e.prototype.addMutationBatch=function(e,t,n,r){var i=this,o=kN(e),a=IN(e);return a.add({}).next((function(s){eI("number"==typeof s);for(var u=new XC(s,t,n,r),c=function(e,t,n){var r=n.baseMutations.map((function(t){return ZS(e.Lt,t)})),i=n.mutations.map((function(t){return ZS(e.Lt,t)}));return new EC(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new vS((function(e,t){return iI(e.canonicalString(),t.canonicalString())})),f=0,d=r;f<d.length;f++){var p=d[f],v=TC.key(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),l.push(a.put(c)),l.push(o.put(v,TC.PLACEHOLDER))}return h.forEach((function(t){l.push(i.Ut.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Kt[s]=u.keys()})),jC.waitFor(l).next((function(){return u}))}))},e.prototype.lookupMutationBatch=function(e,t){var n=this;return IN(e).get(t).next((function(e){return e?(eI(e.userId===n.userId),sN(n.R,e)):null}))},e.prototype.jt=function(e,t){var n=this;return this.Kt[t]?jC.resolve(this.Kt[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Kt[t]=r,r}return null}))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return IN(e).$t({index:EC.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(eI(t.batchId>=r),o=sN(n.R,t)),i.done()})).next((function(){return o}))},e.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return IN(e).$t({index:EC.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))},e.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return IN(e).Nt(EC.userMutationsIndex,n).next((function(e){return e.map((function(e){return sN(t.R,e)}))}))},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=TC.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return kN(e).$t({range:i},(function(r,i,a){var s=r[0],u=r[1],c=r[2],l=yC(u);if(s===n.userId&&t.path.isEqual(l))return IN(e).get(c).next((function(e){if(!e)throw ZT();eI(e.userId===n.userId),o.push(sN(n.R,e))}));a.done()})).next((function(){return o}))},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new vS(iI),i=[];return t.forEach((function(t){var o=TC.prefixForPath(n.userId,t.path),a=IDBKeyRange.lowerBound(o),s=kN(e).$t({range:a},(function(e,i,o){var a=e[0],s=e[1],u=e[2],c=yC(s);a===n.userId&&t.path.isEqual(c)?r=r.add(u):o.done()}));i.push(s)})),jC.waitFor(i).next((function(){return n.Wt(e,r)}))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this,r=t.path,i=r.length+1,o=TC.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new vS(iI);return kN(e).$t({range:a},(function(e,t,o){var a=e[0],u=e[1],c=e[2],l=yC(u);a===n.userId&&r.isPrefixOf(l)?l.length===i&&(s=s.add(c)):o.done()})).next((function(){return n.Wt(e,s)}))},e.prototype.Wt=function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(IN(e).get(t).next((function(e){if(null===e)throw ZT();eI(e.userId===n.userId),r.push(sN(n.R,e))})))})),jC.waitFor(i).next((function(){return r}))},e.prototype.removeMutationBatch=function(e,t){var n=this;return wN(e.Mt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Gt(t.batchId)})),jC.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))},e.prototype.Gt=function(e){delete this.Kt[e]},e.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return jC.resolve();var r=IDBKeyRange.lowerBound(TC.prefixForUser(t.userId)),i=[];return kN(e).$t({range:r},(function(e,n,r){if(e[0]===t.userId){var o=yC(e[1]);i.push(o)}else r.done()})).next((function(){eI(0===i.length)}))}))},e.prototype.containsKey=function(e,t){return TN(e,this.userId,t)},e.prototype.zt=function(e){var t=this;return SN(e).get(this.userId).next((function(e){return e||new _C(t.userId,-1,"")}))},e}();function TN(e,t,n){var r=TC.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return kN(e).$t({range:o,kt:!0},(function(e,n,r){var o=e[0],s=e[1];e[2],o===t&&s===i&&(a=!0),r.done()})).next((function(){return a}))}function IN(e){return YC(e,EC.store)}function kN(e){return YC(e,TC.store)}function SN(e){return YC(e,_C.store)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var CN=function(){function e(e){this.Ht=e}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),NN=function(){function e(e,t){this.referenceDelegate=e,this.R=t}return e.prototype.allocateTargetId=function(e){var t=this;return this.Xt(e).next((function(n){var r=new CN(n.highestTargetId);return n.highestTargetId=r.next(),t.Zt(e,n).next((function(){return n.highestTargetId}))}))},e.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next((function(e){return uI.fromTimestamp(new sI(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))},e.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next((function(e){return e.highestListenSequenceNumber}))},e.prototype.setTargetsMetadata=function(e,t,n){var r=this;return this.Xt(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Zt(e,i)}))},e.prototype.addTargetData=function(e,t){var n=this;return this.te(e,t).next((function(){return n.Xt(e).next((function(r){return r.targetCount+=1,n.ee(t,r),n.Zt(e,r)}))}))},e.prototype.updateTargetData=function(e,t){return this.te(e,t)},e.prototype.removeTargetData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return AN(e).delete(t.targetId)})).next((function(){return n.Xt(e)})).next((function(t){return eI(t.targetCount>0),t.targetCount-=1,n.Zt(e,t)}))},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return AN(e).$t((function(a,s){var u=uN(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(e,u)))})).next((function(){return jC.waitFor(o)})).next((function(){return i}))},e.prototype.forEachTarget=function(e,t){return AN(e).$t((function(e,n){var r=uN(n);t(r)}))},e.prototype.Xt=function(e){return xN(e).get(xC.key).next((function(e){return eI(null!==e),e}))},e.prototype.Zt=function(e,t){return xN(e).put(xC.key,t)},e.prototype.te=function(e,t){return AN(e).put(cN(this.R,t))},e.prototype.ee=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.getTargetCount=function(e){return this.Xt(e).next((function(e){return e.targetCount}))},e.prototype.getTargetData=function(e,t){var n=QI(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return AN(e).$t({range:r,index:NC.queryTargetsIndexName},(function(e,n,r){var o=uN(n);$I(t,o.target)&&(i=o,r.done())})).next((function(){return i}))},e.prototype.addMatchingKeys=function(e,t,n){var r=this,i=[],o=PN(e);return t.forEach((function(t){var a=vC(t.path);i.push(o.put(new AC(n,a))),i.push(r.referenceDelegate.addReference(e,n,t))})),jC.waitFor(i)},e.prototype.removeMatchingKeys=function(e,t,n){var r=this,i=PN(e);return jC.forEach(t,(function(t){var o=vC(t.path);return jC.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(e,n,t)])}))},e.prototype.removeMatchingKeysForTargetId=function(e,t){var n=PN(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=PN(e),i=IS();return r.$t({range:n,kt:!0},(function(e,t,n){var r=yC(e[1]),o=new NI(r);i=i.add(o)})).next((function(){return i}))},e.prototype.containsKey=function(e,t){var n=vC(t.path),r=IDBKeyRange.bound([n],[aI(n)],!1,!0),i=0;return PN(e).$t({index:AC.documentTargetsIndex,kt:!0,range:r},(function(e,t,n){var r=e[0];e[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},e.prototype.lt=function(e,t){return AN(e).get(t).next((function(e){return e?uN(e):null}))},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AN(e){return YC(e,NC.store)}function xN(e){return YC(e,xC.store)}function PN(e){return YC(e,AC.store)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RN(e){return kh(this,void 0,void 0,(function(){return Sh(this,(function(t){if(e.code!==WT.FAILED_PRECONDITION||e.message!==MC)throw e;return $T("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],a=iI(n,i);return 0===a?iI(r,o):a}var ON=function(){function e(e){this.ne=e,this.buffer=new vS(DN),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(e){var t=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();DN(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),LN=function(){function e(e,t){this.garbageCollector=e,this.asyncQueue=t,this.oe=!1,this.ce=null}return e.prototype.start=function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(e)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),e.prototype.ue=function(e){var t=this,n=this.oe?3e5:6e4;$T("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return kh(t,void 0,void 0,(function(){var t;return Sh(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return KC(t=n.sent())?($T("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t),[3,6]):[3,4];case 4:return[4,RN(t)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return n.sent(),[2]}}))}))}))},e}(),MN=function(){function e(e,t){this.ae=e,this.params=t}return e.prototype.calculateTargetCount=function(e,t){return this.ae.he(e).next((function(e){return Math.floor(t/100*e)}))},e.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return jC.resolve(KT.o);var r=new ON(t);return this.ae.forEachTarget(e,(function(e){return r.re(e.sequenceNumber)})).next((function(){return n.ae.le(e,(function(e){return r.re(e)}))})).next((function(){return r.maxValue}))},e.prototype.removeTargets=function(e,t,n){return this.ae.removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){return this.ae.removeOrphanedDocuments(e,t)},e.prototype.collect=function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?($T("LruGarbageCollector","Garbage collection skipped; disabled"),jC.resolve(yN)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?($T("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),yN):n.fe(e,t)}))},e.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},e.prototype.fe=function(e,t){var n,r,i,o,a,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?($T("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+t),r=c.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,a=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),QT()<=If.DEBUG&&$T("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+e+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-l)+"ms"),jC.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))},e}(),FN=function(){function e(e,t){this.db=e,this.garbageCollector=new MN(this,t)}return e.prototype.he=function(e){var t=this.de(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))},e.prototype.de=function(e){var t=0;return this.le(e,(function(e){t++})).next((function(){return t}))},e.prototype.forEachTarget=function(e,t){return this.db.getTargetCache().forEachTarget(e,t)},e.prototype.le=function(e,t){return this.we(e,(function(e,n){return t(n)}))},e.prototype.addReference=function(e,t,n){return UN(e,n)},e.prototype.removeReference=function(e,t,n){return UN(e,n)},e.prototype.removeTargets=function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)},e.prototype.markPotentiallyOrphaned=function(e,t){return UN(e,t)},e.prototype._e=function(e,t){return r=t,i=!1,SN(n=e).Ot((function(e){return TN(n,e,r).next((function(e){return e&&(i=!0),jC.resolve(!e)}))})).next((function(){return i}));var n,r,i},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(e,(function(a,s){if(s<=t){var u=n._e(e,a).next((function(t){if(!t)return o++,r.getEntry(e,a).next((function(){return r.removeEntry(a),PN(e).delete([0,vC(a.path)])}))}));i.push(u)}})).next((function(){return jC.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return o}))},e.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)},e.prototype.updateLimboDocument=function(e,t){return UN(e,t)},e.prototype.we=function(e,t){var n,r=PN(e),i=KT.o;return r.$t({index:AC.documentTargetsIndex},(function(e,r){var o=e[0];e[1];var a=r.path,s=r.sequenceNumber;0===o?(i!==KT.o&&t(new NI(yC(n)),i),i=s,n=a):i=KT.o})).next((function(){i!==KT.o&&t(new NI(yC(n)),i)}))},e.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},e}();function UN(e,t){return PN(e).put((n=t,r=e.currentSequenceNumber,new AC(0,vC(n.path),r)));var n,r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jN=function(){function e(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}return e.prototype.get=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(this.equalsFn(a,e))return s}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){lI(this.inner,(function(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];e(a,s)}}))},e.prototype.isEmpty=function(){return hI(this.inner)},e}(),qN=function(){function e(){this.changes=new jN((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return e.prototype.getReadTime=function(e){var t=this.changes.get(e);return t?t.readTime:uI.min()},e.prototype.addEntry=function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})},e.prototype.removeEntry=function(e,t){void 0===t&&(t=null),this.assertNotApplied(),this.changes.set(e,{document:WI.newInvalidDocument(e),readTime:t})},e.prototype.getEntry=function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?jC.resolve(n.document):this.getFromCache(e,t)},e.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},e.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},e.prototype.assertNotApplied=function(){},e}(),VN=function(){function e(e,t){this.R=e,this.Ut=t}return e.prototype.addEntry=function(e,t,n){return KN(e).put(WN(t),n)},e.prototype.removeEntry=function(e,t){var n=KN(e),r=WN(t);return n.delete(r)},e.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.me(e,r)}))},e.prototype.getEntry=function(e,t){var n=this;return KN(e).get(WN(t)).next((function(e){return n.ye(t,e)}))},e.prototype.ge=function(e,t){var n=this;return KN(e).get(WN(t)).next((function(e){return{document:n.ye(t,e),size:_N(e)}}))},e.prototype.getEntries=function(e,t){var n=this,r=yS();return this.pe(e,t,(function(e,t){var i=n.ye(e,t);r=r.insert(e,i)})).next((function(){return r}))},e.prototype.Ee=function(e,t){var n=this,r=yS(),i=new fS(NI.comparator);return this.pe(e,t,(function(e,t){var o=n.ye(e,t);r=r.insert(e,o),i=i.insert(e,_N(t))})).next((function(){return{documents:r,Te:i}}))},e.prototype.pe=function(e,t,n){if(t.isEmpty())return jC.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),o=i.getNext();return KN(e).$t({range:r},(function(e,t,r){for(var a=NI.fromSegments(e);o&&NI.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,t),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){var r=this,i=yS(),o=t.path.length+1,a={};if(n.isEqual(uI.min())){var s=t.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=t.path.toArray(),c=rN(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=SC.collectionReadTimeIndex}return KN(e).$t(a,(function(e,n,a){if(e.length===o){var s=tN(r.R,n);t.path.isPrefixOf(s.key.path)?Sk(t,s)&&(i=i.insert(s.key,s)):a.done()}})).next((function(){return i}))},e.prototype.newChangeBuffer=function(e){return new BN(this,!!e&&e.trackRemovals)},e.prototype.getSize=function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))},e.prototype.getMetadata=function(e){return zN(e).get(CC.key).next((function(e){return eI(!!e),e}))},e.prototype.me=function(e,t){return zN(e).put(CC.key,t)},e.prototype.ye=function(e,t){if(t){var n=tN(this.R,t);if(!n.isNoDocument()||!n.version.isEqual(uI.min()))return n}return WI.newInvalidDocument(e)},e}(),BN=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Ie=t,r.trackRemovals=n,r.Ae=new jN((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),r}return Th(t,e),t.prototype.applyChanges=function(e){var t=this,n=[],r=0,i=new vS((function(e,t){return iI(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(o,a){var s=t.Ae.get(o);if(a.document.isValidDocument()){var u=nN(t.Ie.R,a.document,t.getReadTime(o));i=i.add(o.path.popLast());var c=_N(u);r+=c-s,n.push(t.Ie.addEntry(e,o,u))}else if(r-=s,t.trackRemovals){var l=nN(t.Ie.R,WI.newNoDocument(o,uI.min()),t.getReadTime(o));n.push(t.Ie.addEntry(e,o,l))}else n.push(t.Ie.removeEntry(e,o))})),i.forEach((function(r){n.push(t.Ie.Ut.addToCollectionParentIndex(e,r))})),n.push(this.Ie.updateMetadata(e,r)),jC.waitFor(n)},t.prototype.getFromCache=function(e,t){var n=this;return this.Ie.ge(e,t).next((function(e){return n.Ae.set(t,e.size),e.document}))},t.prototype.getAllFromCache=function(e,t){var n=this;return this.Ie.Ee(e,t).next((function(e){var t=e.documents;return e.Te.forEach((function(e,t){n.Ae.set(e,t)})),t}))},t}(qN);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zN(e){return YC(e,CC.store)}function KN(e){return YC(e,SC.store)}function WN(e){return e.path.toArray()}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var HN=function(){function e(e){this.R=e}return e.prototype.Rt=function(e,t,n,r){var i=this;eI(n<r&&n>=0&&r<=11);var o=new qC("createOrUpgrade",t);n<1&&r>=1&&(e.createObjectStore(wC.store),function(e){e.createObjectStore(_C.store,{keyPath:_C.keyPath}),e.createObjectStore(EC.store,{keyPath:EC.keyPath,autoIncrement:!0}).createIndex(EC.userMutationsIndex,EC.userMutationsKeyPath,{unique:!0}),e.createObjectStore(TC.store)}(e),GN(e),function(e){e.createObjectStore(SC.store)}(e));var a=jC.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(AC.store),e.deleteObjectStore(NC.store),e.deleteObjectStore(xC.store)}(e),GN(e)),a=a.next((function(){return function(e){var t=e.store(xC.store),n=new xC(0,0,uI.min().toTimestamp(),0);return t.put(xC.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(e,t){return t.store(EC.store).Nt().next((function(n){e.deleteObjectStore(EC.store),e.createObjectStore(EC.store,{keyPath:EC.keyPath,autoIncrement:!0}).createIndex(EC.userMutationsIndex,EC.userMutationsKeyPath,{unique:!0});var r=t.store(EC.store),i=n.map((function(e){return r.put(e)}));return jC.waitFor(i)}))}(e,o)}))),a=a.next((function(){!function(e){e.createObjectStore(RC.store,{keyPath:RC.keyPath})}(e)}))),n<5&&r>=5&&(a=a.next((function(){return i.Re(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(e){e.createObjectStore(CC.store)}(e),i.be(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.ve(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.Pe(e,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(SC.store);t.createIndex(SC.readTimeIndex,SC.readTimeIndexPath,{unique:!1}),t.createIndex(SC.collectionReadTimeIndex,SC.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(a=a.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(e){e.createObjectStore(DC.store,{keyPath:DC.keyPath})}(e),function(e){e.createObjectStore(OC.store,{keyPath:OC.keyPath})}(e)}))),a},e.prototype.be=function(e){var t=0;return e.store(SC.store).$t((function(e,n){t+=_N(n)})).next((function(){var n=new CC(t);return e.store(CC.store).put(CC.key,n)}))},e.prototype.Re=function(e){var t=this,n=e.store(_C.store),r=e.store(EC.store);return n.Nt().next((function(n){return jC.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(EC.userMutationsIndex,i).next((function(r){return jC.forEach(r,(function(r){eI(r.userId===n.userId);var i=sN(t.R,r);return wN(e,n.userId,i).next((function(){}))}))}))}))}))},e.prototype.ve=function(e){var t=e.store(AC.store),n=e.store(SC.store);return e.store(xC.store).get(xC.key).next((function(e){var r=[];return n.$t((function(n,i){var o=new dI(n),a=[0,vC(o)];r.push(t.get(a).next((function(n){return n?jC.resolve():(r=o,t.put(new AC(0,vC(r),e.highestListenSequenceNumber)));var r})))})).next((function(){return jC.waitFor(r)}))}))},e.prototype.Pe=function(e,t){e.createObjectStore(PC.store,{keyPath:PC.keyPath});var n=t.store(PC.store),r=new vN,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:vC(i)})}};return t.store(SC.store).$t({kt:!0},(function(e,t){var n=new dI(e);return i(n.popLast())})).next((function(){return t.store(TC.store).$t({kt:!0},(function(e,t){e[0];var n=e[1];e[2];var r=yC(n);return i(r.popLast())}))}))},e.prototype.Ve=function(e){var t=this,n=e.store(NC.store);return n.$t((function(e,r){var i=uN(r),o=cN(t.R,i);return n.put(o)}))},e}();function GN(e){e.createObjectStore(AC.store,{keyPath:AC.keyPath}).createIndex(AC.documentTargetsIndex,AC.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(NC.store,{keyPath:NC.keyPath}).createIndex(NC.queryTargetsIndexName,NC.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(xC.store)}var QN="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",$N=function(){function e(t,n,r,i,o,a,s,u,c,l){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=a,this.document=s,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(e){return Promise.resolve()},!e.yt())throw new HT(WT.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");var h,f;this.referenceDelegate=new FN(this,i),this.Le=n+"main",this.R=new eN(u),this.Be=new VC(this.Le,11,new HN(this.R)),this.qe=new NN(this.referenceDelegate,this.R),this.Ut=new gN,this.Ue=(h=this.R,f=this.Ut,new VN(h,f)),this.Ke=new hN,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===l&&YT("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var e=this;return this.je().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new HT(WT.FAILED_PRECONDITION,QN);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.qe.getHighestSequenceNumber(t)}))})).then((function(t){e.Ne=new KT(t,e.De)})).then((function(){e.xe=!0})).catch((function(t){return e.Be&&e.Be.close(),Promise.reject(t)}))},e.prototype.He=function(e){var t=this;return this.Me=function(n){return kh(t,void 0,void 0,(function(){return Sh(this,(function(t){return this.started?[2,e(n)]:[2]}))}))},e(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(e){var t=this;this.Be.vt((function(n){return kh(t,void 0,void 0,(function(){return Sh(this,(function(t){switch(t.label){case 0:return null===n.newVersion?[4,e()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))},e.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget((function(){return kh(t,void 0,void 0,(function(){return Sh(this,(function(e){switch(e.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))})))},e.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return XN(t).put(new RC(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.Je(t).next((function(t){t||(e.isPrimary=!1,e.Se.enqueueRetryable((function(){return e.Me(!1)})))}))})).next((function(){return e.Ye(t)})).next((function(n){return e.isPrimary&&!n?e.Xe(t).next((function(){return!1})):!!n&&e.Ze(t).next((function(){return!0}))}))})).catch((function(t){if(KC(t))return $T("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return $T("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Se.enqueueRetryable((function(){return e.Me(t)})),e.isPrimary=t}))},e.prototype.Je=function(e){var t=this;return YN(e).get(wC.key).next((function(e){return jC.resolve(t.tn(e))}))},e.prototype.en=function(e){return XN(e).delete(this.clientId)},e.prototype.nn=function(){return kh(this,void 0,void 0,(function(){var e,t,n,r,i=this;return Sh(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=YC(e,RC.store);return t.Nt().next((function(e){var n=i.rn(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return jC.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=o.sent(),this.Qe)for(t=0,n=e;t<n.length;t++)r=n[t],this.Qe.removeItem(this.on(r.clientId));o.label=2;case 2:return[2]}}))}))},e.prototype.ze=function(){var e=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.je().then((function(){return e.nn()})).then((function(){return e.ze()}))}))},e.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.Ye=function(e){var t=this;return this.Ce?jC.resolve(!0):YN(e).get(wC.key).next((function(n){if(null!==n&&t.sn(n.leaseTimestampMs,5e3)&&!t.cn(n.ownerId)){if(t.tn(n)&&t.networkEnabled)return!0;if(!t.tn(n)){if(!n.allowTabSynchronization)throw new HT(WT.FAILED_PRECONDITION,QN);return!1}}return!(!t.networkEnabled||!t.inForeground)||XN(e).Nt().next((function(e){return void 0===t.rn(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&$T("IndexedDbPersistence","Client "+(e?"is":"is not")+" eligible for a primary lease."),e}))},e.prototype.shutdown=function(){return kh(this,void 0,void 0,(function(){var e=this;return Sh(this,(function(t){switch(t.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[wC.store,RC.store],(function(t){var n=new $C(t,KT.o);return e.Xe(n).next((function(){return e.en(n)}))}))];case 1:return t.sent(),this.Be.close(),this.ln(),[2]}}))}))},e.prototype.rn=function(e,t){var n=this;return e.filter((function(e){return n.sn(e.updateTimeMs,t)&&!n.cn(e.clientId)}))},e.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return XN(t).Nt().next((function(t){return e.rn(t,18e5).map((function(e){return e.clientId}))}))}))},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(e){return EN.Qt(e,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,t,n){var r=this;$T("IndexedDbPersistence","Starting transaction:",e);var i,o="readonly"===t?"readonly":"readwrite";return this.Be.runTransaction(e,o,LC,(function(o){return i=new $C(o,r.Ne?r.Ne.next():KT.o),"readwrite-primary"===t?r.Je(i).next((function(e){return!!e||r.Ye(i)})).next((function(t){if(!t)throw YT("Failed to obtain primary lease for action '"+e+"'."),r.isPrimary=!1,r.Se.enqueueRetryable((function(){return r.Me(!1)})),new HT(WT.FAILED_PRECONDITION,MC);return n(i)})).next((function(e){return r.Ze(i).next((function(){return e}))})):r.dn(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.dn=function(e){var t=this;return YN(e).get(wC.key).next((function(e){if(null!==e&&t.sn(e.leaseTimestampMs,5e3)&&!t.cn(e.ownerId)&&!t.tn(e)&&!(t.Ce||t.allowTabSynchronization&&e.allowTabSynchronization))throw new HT(WT.FAILED_PRECONDITION,QN)}))},e.prototype.Ze=function(e){var t=new wC(this.clientId,this.allowTabSynchronization,Date.now());return YN(e).put(wC.key,t)},e.yt=function(){return VC.yt()},e.prototype.Xe=function(e){var t=this,n=YN(e);return n.get(wC.key).next((function(e){return t.tn(e)?($T("IndexedDbPersistence","Releasing primary lease."),n.delete(wC.key)):jC.resolve()}))},e.prototype.sn=function(e,t){var n=Date.now();return!(e<n-t||e>n&&(YT("Detected an update time that is in the future: "+e+" > "+n),1))},e.prototype.We=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){e.Se.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.je()}))},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},e.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},e.prototype.Ge=function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Fe=function(){t.un(),!zh()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match("Version/14")&&t.Se.enterRestrictedMode(!0),t.Se.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Fe))},e.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("pagehide",this.Fe),this.Fe=null)},e.prototype.cn=function(e){var t;try{var n=null!==(null===(t=this.Qe)||void 0===t?void 0:t.getItem(this.on(e)));return $T("IndexedDbPersistence","Client '"+e+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(r){return YT("IndexedDbPersistence","Failed to get zombied client id.",r),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(e){YT("Failed to set zombie client id.",e)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(e){}},e.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e}();function YN(e){return YC(e,wC.store)}function XN(e){return YC(e,RC.store)}function JN(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var ZN=function(e,t){this.progress=e,this.wn=t},eA=function(){function e(e,t,n){this.Ue=e,this._n=t,this.Ut=n}return e.prototype.mn=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.yn(e,t,r)}))},e.prototype.yn=function(e,t,n){return this.Ue.getEntry(e,t).next((function(e){for(var t=0,r=n;t<r.length;t++)r[t].applyToLocalView(e);return e}))},e.prototype.gn=function(e,t){e.forEach((function(e,n){for(var r=0,i=t;r<i.length;r++)i[r].applyToLocalView(n)}))},e.prototype.pn=function(e,t){var n=this;return this.Ue.getEntries(e,t).next((function(t){return n.En(e,t).next((function(){return t}))}))},e.prototype.En=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.gn(t,e)}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){return r=t,NI.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length?this.Tn(e,t.path):bk(t)?this.In(e,t,n):this.An(e,t,n);var r},e.prototype.Tn=function(e,t){return this.mn(e,new NI(t)).next((function(e){var t=wS();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))},e.prototype.In=function(e,t,n){var r=this,i=t.collectionGroup,o=wS();return this.Ut.getCollectionParents(e,i).next((function(a){return jC.forEach(a,(function(a){var s,u,c=(s=t,u=a.child(i),new fk(u,null,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt));return r.An(e,c,n).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))},e.prototype.An=function(e,t,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,o.Rn(e,i,r).next((function(e){r=e;for(var t=0,n=i;t<n.length;t++)for(var o=n[t],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c);null==l&&(l=WI.newInvalidDocument(c),r=r.insert(c,l)),Yk(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}))})).next((function(){return r.forEach((function(e,n){Sk(t,n)||(r=r.remove(e))})),r}))},e.prototype.Rn=function(e,t,n){for(var r=IS(),i=0,o=t;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof tS&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(e,r).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(c=c.insert(e,t))})),c}))},e}(),tA=function(){function e(e,t,n,r){this.targetId=e,this.fromCache=t,this.bn=n,this.vn=r}return e.Pn=function(t,n){for(var r=IS(),i=IS(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),nA=function(){function e(){}return e.prototype.Vn=function(e){this.Sn=e},e.prototype.getDocumentsMatchingQuery=function(e,t,n,r){var i,o=this;return 0===(i=t).filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())||n.isEqual(uI.min())?this.Dn(e,t):this.Sn.pn(e,r).next((function(i){var a=o.Cn(t,i);return(vk(t)||gk(t))&&o.Nn(t.limitType,a,r,n)?o.Dn(e,t):(QT()<=If.DEBUG&&$T("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),kk(t)),o.Sn.getDocumentsMatchingQuery(e,t,n).next((function(e){return a.forEach((function(t){e=e.insert(t.key,t)})),e})))}))},e.prototype.Cn=function(e,t){var n=new vS(Ck(e));return t.forEach((function(t,r){Sk(e,r)&&(n=n.add(r))})),n},e.prototype.Nn=function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},e.prototype.Dn=function(e,t){return QT()<=If.DEBUG&&$T("QueryEngine","Using full collection scan to execute query:",kk(t)),this.Sn.getDocumentsMatchingQuery(e,t,uI.min())},e}(),rA=function(){function e(e,t,n,r){this.persistence=e,this.xn=t,this.R=r,this.Fn=new fS(iI),this.kn=new jN((function(e){return QI(e)}),$I),this.$n=uI.min(),this._n=e.getMutationQueue(n),this.On=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new eA(this.On,this._n,this.persistence.getIndexManager()),this.Ke=e.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Fn)}))},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(e,t,n,r){return new rA(e,t,n,r)}function oA(e,t){return kh(this,void 0,void 0,(function(){var n,r,i,o;return Sh(this,(function(a){switch(a.label){case 0:return n=tI(e),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(e){var o;return n._n.getAllMutationBatches(e).next((function(a){return o=a,r=n.persistence.getMutationQueue(t),i=new eA(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e)})).next((function(t){for(var n=[],r=[],a=IS(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++){var f=h[l];a=a.add(f.key)}}for(var d=0,p=t;d<p.length;d++){var v=p[d];r.push(v.batchId);for(var g=0,m=v.mutations;g<m.length;g++){var y=m[g];a=a.add(y.key)}}return i.pn(e,a).next((function(e){return{Ln:e,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}}))}))}function aA(e,t){var n=tI(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r,i,o,a,s,u,c,l=t.batch.keys(),h=n.On.newChangeBuffer({trackRemovals:!0});return(r=n,i=e,o=t,a=h,s=o.batch,u=s.keys(),c=jC.resolve(),u.forEach((function(e){c=c.next((function(){return a.getEntry(i,e)})).next((function(t){var n=o.docVersions.get(e);eI(null!==n),t.version.compareTo(n)<0&&(s.applyToRemoteDocument(t,o),t.isValidDocument()&&a.addEntry(t,o.commitVersion))}))})),c.next((function(){return r._n.removeMutationBatch(i,s)}))).next((function(){return h.apply(e)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,l)}))}))}function sA(e){var t=tI(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.qe.getLastRemoteSnapshotVersion(e)}))}function uA(e,t){var n=tI(e),r=t.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.Fn;var a=[];t.targetChanges.forEach((function(t,o){var s,u,c,l=i.get(o);if(l){a.push(n.qe.removeMatchingKeys(e,t.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(e,t.addedDocuments,o)})));var h=t.resumeToken;if(h.approximateByteSize()>0){var f=l.withResumeToken(h,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(o,f),s=l,c=t,eI((u=f).resumeToken.approximateByteSize()>0),(0===s.resumeToken.approximateByteSize()||u.snapshotVersion.toMicroseconds()-s.snapshotVersion.toMicroseconds()>=3e8||c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size>0)&&a.push(n.qe.updateTargetData(e,f))}}}));var s=yS();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(cA(e,o,t.documentUpdates,r,void 0).next((function(e){s=e}))),!r.isEqual(uI.min())){var u=n.qe.getLastRemoteSnapshotVersion(e).next((function(t){return n.qe.setTargetsMetadata(e,e.currentSequenceNumber,r)}));a.push(u)}return jC.waitFor(a).next((function(){return o.apply(e)})).next((function(){return n.Mn.En(e,s)})).next((function(){return s}))})).then((function(e){return n.Fn=i,e}))}function cA(e,t,n,r,i){var o=IS();return n.forEach((function(e){return o=o.add(e)})),t.getEntries(e,o).next((function(e){var o=yS();return n.forEach((function(n,a){var s=e.get(n),u=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(uI.min())?(t.removeEntry(n,u),o=o.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(a,u),o=o.insert(n,a)):$T("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),o}))}function lA(e,t){var n=tI(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n._n.getNextMutationBatchAfterBatchId(e,t)}))}function hA(e,t){var n=tI(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.qe.getTargetData(e,t).next((function(i){return i?(r=i,jC.resolve(r)):n.qe.allocateTargetId(e).next((function(i){return r=new ZC(t,i,0,e.currentSequenceNumber),n.qe.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Fn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(e.targetId,e),n.kn.set(t,e.targetId)),e}))}function fA(e,t,n){return kh(this,void 0,void 0,(function(){var r,i,o,a;return Sh(this,(function(s){switch(s.label){case 0:r=tI(e),i=r.Fn.get(t),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(e){return r.persistence.referenceDelegate.removeTarget(e,i)}))];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!KC(a=s.sent()))throw a;return $T("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return r.Fn=r.Fn.remove(t),r.kn.delete(i.target),[2]}}))}))}function dA(e,t,n){var r=tI(e),i=uI.min(),o=IS();return r.persistence.runTransaction("Execute query","readonly",(function(e){return(a=r,s=e,u=_k(t),c=tI(a),l=c.kn.get(u),void 0!==l?jC.resolve(c.Fn.get(l)):c.qe.getTargetData(s,u)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(e,t.targetId).next((function(e){o=e}))})).next((function(){return r.xn.getDocumentsMatchingQuery(e,t,n?i:uI.min(),n?o:IS())})).next((function(e){return{documents:e,Bn:o}}));var a,s,u,c,l}))}function pA(e,t){var n=tI(e),r=tI(n.qe),i=n.Fn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.lt(e,t).next((function(e){return e?e.target:null}))}))}function vA(e){var t=tI(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return n=t.On,r=e,i=t.$n,o=tI(n),a=yS(),s=rN(i),u=KN(r),c=IDBKeyRange.lowerBound(s,!0),u.$t({index:SC.readTimeIndex,range:c},(function(e,t){var n=tN(o.R,t);a=a.insert(n.key,n),s=t.readTime})).next((function(){return{wn:a,readTime:iN(s)}}));var n,r,i,o,a,s,u,c})).then((function(e){var n=e.wn,r=e.readTime;return t.$n=r,n}))}function gA(e){return kh(this,void 0,void 0,(function(){var t;return Sh(this,(function(n){return[2,(t=tI(e)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return t=KN(e),n=uI.min(),t.$t({index:SC.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=iN(t.readTime)),r.done()})).next((function(){return n}));var t,n})).then((function(e){t.$n=e}))]}))}))}function mA(e,t,n,r){return kh(this,void 0,void 0,(function(){var i,o,a,s,u,c,l,h,f,d;return Sh(this,(function(p){switch(p.label){case 0:for(i=tI(e),o=IS(),a=yS(),s=ES(),u=0,c=n;u<c.length;u++)l=c[u],h=t.qn(l.metadata.name),l.document&&(o=o.add(h)),a=a.insert(h,t.Un(l)),s=s.insert(h,t.Kn(l.metadata.readTime));return f=i.On.newChangeBuffer({trackRemovals:!0}),[4,hA(i,(v=r,_k(pk(dI.fromString("__bundle__/docs/"+v)))))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return cA(e,f,a,uI.min(),s).next((function(t){return f.apply(e),t})).next((function(t){return i.qe.removeMatchingKeysForTargetId(e,d.targetId).next((function(){return i.qe.addMatchingKeys(e,o,d.targetId)})).next((function(){return i.Mn.En(e,t)})).next((function(){return t}))}))}))]}var v}))}))}function yA(e,t,n){return void 0===n&&(n=IS()),kh(this,void 0,void 0,(function(){var r,i;return Sh(this,(function(o){switch(o.label){case 0:return[4,hA(e,_k(lN(t.bundledQuery)))];case 1:return r=o.sent(),[2,(i=tI(e)).persistence.runTransaction("Save named query","readwrite",(function(e){var o=BS(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ke.saveNamedQuery(e,t);var a=r.withResumeToken(mI.EMPTY_BYTE_STRING,o);return i.Fn=i.Fn.insert(a.targetId,a),i.qe.updateTargetData(e,a).next((function(){return i.qe.removeMatchingKeysForTargetId(e,r.targetId)})).next((function(){return i.qe.addMatchingKeys(e,n,r.targetId)})).next((function(){return i.Ke.saveNamedQuery(e,t)}))}))]}}))}))
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var bA=function(){function e(e){this.R=e,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(e,t){return jC.resolve(this.Qn.get(t))},e.prototype.saveBundleMetadata=function(e,t){var n;return this.Qn.set(t.id,{id:(n=t).id,version:n.version,createTime:BS(n.createTime)}),jC.resolve()},e.prototype.getNamedQuery=function(e,t){return jC.resolve(this.jn.get(t))},e.prototype.saveNamedQuery=function(e,t){return this.jn.set(t.name,{name:(n=t).name,query:lN(n.bundledQuery),readTime:BS(n.readTime)}),jC.resolve();var n},e}(),wA=function(){function e(){this.Wn=new vS(_A.Gn),this.zn=new vS(_A.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(e,t){var n=new _A(e,t);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},e.prototype.Jn=function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))},e.prototype.removeReference=function(e,t){this.Yn(new _A(e,t))},e.prototype.Xn=function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))},e.prototype.Zn=function(e){var t=this,n=new NI(new dI([])),r=new _A(n,e),i=new _A(n,e+1),o=[];return this.zn.forEachInRange([r,i],(function(e){t.Yn(e),o.push(e.key)})),o},e.prototype.ts=function(){var e=this;this.Wn.forEach((function(t){return e.Yn(t)}))},e.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},e.prototype.es=function(e){var t=new NI(new dI([])),n=new _A(t,e),r=new _A(t,e+1),i=IS();return this.zn.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i},e.prototype.containsKey=function(e){var t=new _A(e,0),n=this.Wn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)},e}(),_A=function(){function e(e,t){this.key=e,this.ns=t}return e.Gn=function(e,t){return NI.comparator(e.key,t.key)||iI(e.ns,t.ns)},e.Hn=function(e,t){return iI(e.ns,t.ns)||NI.comparator(e.key,t.key)},e}(),EA=function(){function e(e,t){this.Ut=e,this.referenceDelegate=t,this._n=[],this.ss=1,this.rs=new vS(_A.Gn)}return e.prototype.checkEmpty=function(e){return jC.resolve(0===this._n.length)},e.prototype.addMutationBatch=function(e,t,n,r){var i=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var o=new XC(i,t,n,r);this._n.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.rs=this.rs.add(new _A(u.key,i)),this.Ut.addToCollectionParentIndex(e,u.key.path.popLast())}return jC.resolve(o)},e.prototype.lookupMutationBatch=function(e,t){return jC.resolve(this.os(t))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=t+1,r=this.cs(n),i=r<0?0:r;return jC.resolve(this._n.length>i?this._n[i]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return jC.resolve(0===this._n.length?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(e){return jC.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new _A(t,0),i=new _A(t,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(e){var t=n.os(e.ns);o.push(t)})),jC.resolve(o)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new vS(iI);return t.forEach((function(e){var t=new _A(e,0),i=new _A(e,Number.POSITIVE_INFINITY);n.rs.forEachInRange([t,i],(function(e){r=r.add(e.ns)}))})),jC.resolve(this.us(r))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=t.path,r=n.length+1,i=n;NI.isDocumentKey(i)||(i=i.child(""));var o=new _A(new NI(i),0),a=new vS(iI);return this.rs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.ns)),!0)}),o),jC.resolve(this.us(a))},e.prototype.us=function(e){var t=this,n=[];return e.forEach((function(e){var r=t.os(e);null!==r&&n.push(r)})),n},e.prototype.removeMutationBatch=function(e,t){var n=this;eI(0===this.hs(t.batchId,"removed")),this._n.shift();var r=this.rs;return jC.forEach(t.mutations,(function(i){var o=new _A(i.key,t.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.rs=r}))},e.prototype.Gt=function(e){},e.prototype.containsKey=function(e,t){var n=new _A(t,0),r=this.rs.firstAfterOrEqual(n);return jC.resolve(t.isEqual(r&&r.key))},e.prototype.performConsistencyCheck=function(e){return this._n.length,jC.resolve()},e.prototype.hs=function(e,t){return this.cs(e)},e.prototype.cs=function(e){return 0===this._n.length?0:e-this._n[0].batchId},e.prototype.os=function(e){var t=this.cs(e);return t<0||t>=this._n.length?null:this._n[t]},e}(),TA=function(){function e(e,t){this.Ut=e,this.ls=t,this.docs=new fS(NI.comparator),this.size=0}return e.prototype.addEntry=function(e,t,n){var r=t.key,i=this.docs.get(r),o=i?i.size:0,a=this.ls(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:a,readTime:n}),this.size+=a-o,this.Ut.addToCollectionParentIndex(e,r.path.popLast())},e.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},e.prototype.getEntry=function(e,t){var n=this.docs.get(t);return jC.resolve(n?n.document.clone():WI.newInvalidDocument(t))},e.prototype.getEntries=function(e,t){var n=this,r=yS();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.clone():WI.newInvalidDocument(e))})),jC.resolve(r)},e.prototype.getDocumentsMatchingQuery=function(e,t,n){for(var r=yS(),i=new NI(t.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.key,u=a.value,c=u.document,l=u.readTime;if(!t.path.isPrefixOf(s.path))break;l.compareTo(n)<=0||Sk(t,c)&&(r=r.insert(c.key,c.clone()))}return jC.resolve(r)},e.prototype.fs=function(e,t){return jC.forEach(this.docs,(function(e){return t(e)}))},e.prototype.newChangeBuffer=function(e){return new IA(this)},e.prototype.getSize=function(e){return jC.resolve(this.size)},e}(),IA=function(e){function t(t){var n=this;return(n=e.call(this)||this).Ie=t,n}return Th(t,e),t.prototype.applyChanges=function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.Ie.addEntry(e,i.document,t.getReadTime(r))):t.Ie.removeEntry(r)})),jC.waitFor(n)},t.prototype.getFromCache=function(e,t){return this.Ie.getEntry(e,t)},t.prototype.getAllFromCache=function(e,t){return this.Ie.getEntries(e,t)},t}(qN),kA=function(){function e(e){this.persistence=e,this.ds=new jN((function(e){return QI(e)}),$I),this.lastRemoteSnapshotVersion=uI.min(),this.highestTargetId=0,this.ws=0,this._s=new wA,this.targetCount=0,this.ys=CN.Jt()}return e.prototype.forEachTarget=function(e,t){return this.ds.forEach((function(e,n){return t(n)})),jC.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(e){return jC.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(e){return jC.resolve(this.ws)},e.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),jC.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ws&&(this.ws=t),jC.resolve()},e.prototype.te=function(e){this.ds.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.ys=new CN(t),this.highestTargetId=t),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},e.prototype.addTargetData=function(e,t){return this.te(t),this.targetCount+=1,jC.resolve()},e.prototype.updateTargetData=function(e,t){return this.te(t),jC.resolve()},e.prototype.removeTargetData=function(e,t){return this.ds.delete(t.target),this._s.Zn(t.targetId),this.targetCount-=1,jC.resolve()},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return this.ds.forEach((function(a,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.ds.delete(a),o.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),jC.waitFor(o).next((function(){return i}))},e.prototype.getTargetCount=function(e){return jC.resolve(this.targetCount)},e.prototype.getTargetData=function(e,t){var n=this.ds.get(t)||null;return jC.resolve(n)},e.prototype.addMatchingKeys=function(e,t,n){return this._s.Jn(t,n),jC.resolve()},e.prototype.removeMatchingKeys=function(e,t,n){this._s.Xn(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),jC.waitFor(i)},e.prototype.removeMatchingKeysForTargetId=function(e,t){return this._s.Zn(t),jC.resolve()},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=this._s.es(t);return jC.resolve(n)},e.prototype.containsKey=function(e,t){return jC.resolve(this._s.containsKey(t))},e}(),SA=function(){function e(e,t){var n,r=this;this.gs={},this.Ne=new KT(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new kA(this),this.Ut=new pN,this.Ue=(n=this.Ut,new TA(n,(function(e){return r.referenceDelegate.ps(e)}))),this.R=new eN(t),this.Ke=new bA(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(e){var t=this.gs[e.toKey()];return t||(t=new EA(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=t),t},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,t,n){var r=this;$T("MemoryPersistence","Starting transaction:",e);var i=new CA(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(e){return r.referenceDelegate.Ts(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.Is=function(e,t){return jC.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(e,t)}})))},e}(),CA=function(e){function t(t){var n=this;return(n=e.call(this)||this).currentSequenceNumber=t,n}return Th(t,e),t}(FC),NA=function(){function e(e){this.persistence=e,this.As=new wA,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw ZT()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(e,t,n){return this.As.addReference(n,t),this.vs.delete(n.toString()),jC.resolve()},e.prototype.removeReference=function(e,t,n){return this.As.removeReference(n,t),this.vs.add(n.toString()),jC.resolve()},e.prototype.markPotentiallyOrphaned=function(e,t){return this.vs.add(t.toString()),jC.resolve()},e.prototype.removeTarget=function(e,t){var n=this;this.As.Zn(t.targetId).forEach((function(e){return n.vs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.vs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return jC.forEach(this.vs,(function(r){var i=NI.fromPath(r);return t.Ps(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Rs=null,n.apply(e)}))},e.prototype.updateLimboDocument=function(e,t){var n=this;return this.Ps(e,t).next((function(e){e?n.vs.delete(t.toString()):n.vs.add(t.toString())}))},e.prototype.ps=function(e){return 0},e.prototype.Ps=function(e,t){var n=this;return jC.or([function(){return jC.resolve(n.As.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Is(e,t)}])},e}(),AA=function(){function e(e){this.uid=e}return e.prototype.isAuthenticated=function(){return null!=this.uid},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xA(e,t){return"firestore_clients_"+e+"_"+t}function PA(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function RA(e,t){return"firestore_targets_"+e+"_"+t}AA.UNAUTHENTICATED=new AA(null),AA.GOOGLE_CREDENTIALS=new AA("google-credentials-uid"),AA.FIRST_PARTY=new AA("first-party-uid");var DA=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}return e.Vs=function(t,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new HT(o.error.code,o.error.message)),a?new e(t,n,o.state,i):(YT("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),OA=function(){function e(e,t,n){this.targetId=e,this.state=t,this.error=n}return e.Vs=function(t,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new HT(i.error.code,i.error.message)),o?new e(t,i.state,r):(YT("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),LA=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.Vs=function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=SS(),a=0;i&&a<r.activeTargetIds.length;++a)i=CI(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new e(t,o):(YT("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),MA=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.Vs=function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(YT("SharedClientState","Failed to parse online state: "+t),null)},e}(),FA=function(){function e(){this.activeTargetIds=SS()}return e.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},e}(),UA=function(){function e(e,t,n,r,i){this.window=e,this.Se=t,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new fS(iI),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=xA(this.persistenceKey,this.Ns),this.Ms="firestore_sequence_number_"+this.persistenceKey,this.ks=this.ks.insert(this.Ns,new FA),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(e){return"firestore_online_state_"+e}(this.persistenceKey),this.Ks=function(e){return"firestore_bundle_loaded_"+e}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(e){return!(!e||!e.localStorage)},e.prototype.start=function(){return kh(this,void 0,void 0,(function(){var e,t,n,r,i,o,a,s,u,c,l,h=this;return Sh(this,(function(f){switch(f.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=f.sent(),t=0,n=e;t<n.length;t++)(r=n[t])!==this.Ns&&(i=this.getItem(xA(this.persistenceKey,r)))&&(o=LA.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Qs(),(a=this.storage.getItem(this.Us))&&(s=this.js(a))&&this.Ws(s),u=0,c=this.$s;u<c.length;u++)l=c[u],this.Fs(l);return this.$s=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0,[2]}}))}))},e.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},e.prototype.isActiveQueryTarget=function(e){var t=!1;return this.ks.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t},e.prototype.addPendingMutation=function(e){this.zs(e,"pending")},e.prototype.updateMutationState=function(e,t,n){this.zs(e,t,n),this.Hs(e)},e.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(RA(this.persistenceKey,e));if(n){var r=OA.Vs(e,n);r&&(t=r.state)}}return this.Js.Ds(e),this.Qs(),t},e.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Qs()},e.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){this.removeItem(RA(this.persistenceKey,e))},e.prototype.updateQueryState=function(e,t,n){this.Ys(e,t,n)},e.prototype.handleUserChange=function(e,t,n){var r=this;t.forEach((function(e){r.Hs(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))},e.prototype.setOnlineState=function(e){this.Xs(e)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return $T("SharedClientState","READ",e,t),t},e.prototype.setItem=function(e,t){$T("SharedClientState","SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){$T("SharedClientState","REMOVE",e),this.storage.removeItem(e)},e.prototype.Fs=function(e){var t=this,n=e;if(n.storageArea===this.storage){if($T("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void YT("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return kh(t,void 0,void 0,(function(){var e,t,r,i,o,a;return Sh(this,(function(s){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return e=this.ti(n.key),[2,this.ei(e,null)];if(t=this.ni(n.key,n.newValue))return[2,this.ei(t.clientId,t)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(a=function(e){var t=KT.o;if(null!=e)try{var n=JSON.parse(e);eI("number"==typeof n),t=n}catch(r){YT("SharedClientState","Failed to read sequence number from WebStorage",r)}return t}(n.newValue))!==KT.o&&this.sequenceNumberHandler(a);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]}))}))}))}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(e,t,n){var r=new DA(this.currentUser,e,t,n),i=PA(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Ss())},e.prototype.Hs=function(e){var t=PA(this.persistenceKey,this.currentUser,e);this.removeItem(t)},e.prototype.Xs=function(e){var t={clientId:this.Ns,onlineState:e};this.storage.setItem(this.Us,JSON.stringify(t))},e.prototype.Ys=function(e,t,n){var r=RA(this.persistenceKey,e),i=new OA(e,t,n);this.setItem(r,i.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(e){var t=this.Ls.exec(e);return t?t[1]:null},e.prototype.ni=function(e,t){var n=this.ti(e);return LA.Vs(n,t)},e.prototype.si=function(e,t){var n=this.Bs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return DA.Vs(new AA(i),r,t)},e.prototype.ri=function(e,t){var n=this.qs.exec(e),r=Number(n[1]);return OA.Vs(r,t)},e.prototype.js=function(e){return MA.Vs(e)},e.prototype.ii=function(e){return kh(this,void 0,void 0,(function(){return Sh(this,(function(t){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:($T("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])}))}))},e.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},e.prototype.ei=function(e,t){var n=this,r=t?this.ks.insert(e,t):this.ks.remove(e),i=this.Gs(this.ks),o=this.Gs(r),a=[],s=[];return o.forEach((function(e){i.has(e)||a.push(e)})),i.forEach((function(e){o.has(e)||s.push(e)})),this.syncEngine.hi(a,s).then((function(){n.ks=r}))},e.prototype.Ws=function(e){this.ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},e.prototype.Gs=function(e){var t=SS();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t},e}(),jA=function(){function e(){this.li=new FA,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(e){},e.prototype.updateMutationState=function(e,t,n){},e.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},e.prototype.updateQueryState=function(e,t,n){this.fi[e]=t},e.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},e.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){delete this.fi[e]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.start=function(){return this.li=new FA,Promise.resolve()},e.prototype.handleUserChange=function(e,t,n){},e.prototype.setOnlineState=function(e){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(e){},e.prototype.notifyBundleLoaded=function(){},e}(),qA=function(){function e(){}return e.prototype.di=function(e){},e.prototype.shutdown=function(){},e}(),VA=function(){function e(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return e.prototype.di=function(e){this.gi.push(e)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){$T("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(0)},e.prototype.yi=function(){$T("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(1)},e.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),BA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},zA=function(){function e(e){this.Ei=e.Ei,this.Ti=e.Ti}return e.prototype.Ii=function(e){this.Ai=e},e.prototype.Ri=function(e){this.bi=e},e.prototype.onMessage=function(e){this.vi=e},e.prototype.close=function(){this.Ti()},e.prototype.send=function(e){this.Ei(e)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(e){this.bi(e)},e.prototype.Si=function(e){this.vi(e)},e}(),KA=function(e){function t(t){var n=this;return(n=e.call(this,t)||this).forceLongPolling=t.forceLongPolling,n.autoDetectLongPolling=t.autoDetectLongPolling,n.useFetchStreams=t.useFetchStreams,n}return Th(t,e),t.prototype.ki=function(e,t,n,r){return new Promise((function(i,o){var a=new zT;a.listenOnce(FT.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case MT.NO_ERROR:var t=a.getResponseJson();$T("Connection","XHR received:",JSON.stringify(t)),i(t);break;case MT.TIMEOUT:$T("Connection",'RPC "'+e+'" timed out'),o(new HT(WT.DEADLINE_EXCEEDED,"Request time out"));break;case MT.HTTP_ERROR:var n=a.getStatus();if($T("Connection",'RPC "'+e+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=(u=r.status,c=u.toLowerCase().replace(/_/g,"-"),Object.values(WT).indexOf(c)>=0?c:WT.UNKNOWN);o(new HT(s,r.message))}else o(new HT(WT.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new HT(WT.UNAVAILABLE,"Connection failed."));break;default:ZT()}}finally{$T("Connection",'RPC "'+e+'" completed.')}var u,c}));var s=JSON.stringify(r);a.send(t,"POST",s,n,15)}))},t.prototype.Oi=function(e,t){var n,r=[this.Di,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=new PT,o=I_(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new VT({})),this.Fi(a.initMessageHeaders,t),Bh()||Wh()||Vh().indexOf("Electron/")>=0||((n=Vh()).indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0)||Vh().indexOf("MSAppHost/")>=0||Kh()||(a.httpHeadersOverwriteParam="$httpHeaders");var s=r.join("");$T("Connection","Creating WebChannel: "+s,a);var u=i.createWebChannel(s,a),c=!1,l=!1,h=new zA({Ei:function(e){l?$T("Connection","Not sending because WebChannel is closed:",e):(c||($T("Connection","Opening WebChannel transport."),u.open(),c=!0),$T("Connection","WebChannel sending:",e),u.send(e))},Ti:function(){return u.close()}}),f=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(t){setTimeout((function(){throw t}),0)}}))};return f(u,BT.EventType.OPEN,(function(){l||$T("Connection","WebChannel transport opened.")})),f(u,BT.EventType.CLOSE,(function(){l||(l=!0,$T("Connection","WebChannel transport closed"),h.Vi())})),f(u,BT.EventType.ERROR,(function(e){l||(l=!0,XT("Connection","WebChannel transport errored:",e),h.Vi(new HT(WT.UNAVAILABLE,"The operation could not be completed")))})),f(u,BT.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];eI(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){$T("Connection","WebChannel received error:",i);var o=i.status,a=function(e){var t=oS[e];if(void 0!==t)return hS(t)}(o),s=i.message;void 0===a&&(a=WT.INTERNAL,s="Unknown error status: "+o+" with message "+i.message),l=!0,h.Vi(new HT(a,s)),u.close()}else $T("Connection","WebChannel received:",n),h.Si(n)}})),f(o,UT.STAT_EVENT,(function(e){e.stat===jT?$T("Connection","Detected buffering proxy"):e.stat===qT&&$T("Connection","Detected no buffering proxy")})),setTimeout((function(){h.Pi()}),0),h},t}(function(){function e(e){this.databaseInfo=e,this.databaseId=e.databaseId;var t=e.ssl?"https":"http";this.Di=t+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(e,t,n,r){var i=this.xi(e,t);$T("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(e,i,o,n).then((function(e){return $T("RestConnection","Received: ",e),e}),(function(t){throw XT("RestConnection",e+" failed with error: ",t,"url: ",i,"request:",n),t}))},e.prototype.$i=function(e,t,n,r){return this.Ni(e,t,n,r)},e.prototype.Fi=function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.8.1",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])},e.prototype.xi=function(e,t){var n=BA[e];return this.Di+"/v1/"+t+":"+n},e}());
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WA(){return"undefined"!=typeof window?window:null}function HA(){return"undefined"!=typeof document?document:null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GA(e){return new US(e,!0)}var QA=function(){function e(e,t,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=e,this.timerId=t,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(e){var t=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);i>0&&$T("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return t.Ki=Date.now(),e()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),$A=function(){function e(e,t,n,r,i,o){this.Se=e,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new QA(e,t)}return e.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},e.prototype.er=function(){return 2===this.state},e.prototype.start=function(){3!==this.state?this.auth():this.nr()},e.prototype.stop=function(){return kh(this,void 0,void 0,(function(){return Sh(this,(function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var e=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return e.rr()})))},e.prototype.cr=function(e){this.ur(),this.stream.send(e)},e.prototype.rr=function(){return kh(this,void 0,void 0,(function(){return Sh(this,(function(e){return this.er()?[2,this.close(0)]:[2]}))}))},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(e,t){return kh(this,void 0,void 0,(function(){return Sh(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==e?this.Zi.reset():t&&t.code===WT.RESOURCE_EXHAUSTED?(YT(t.toString()),YT("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):t&&t.code===WT.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(t)];case 1:return n.sent(),[2]}}))}))},e.prototype.ar=function(){},e.prototype.auth=function(){var e=this;this.state=1;var t=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(t){e.Yi===n&&e.lr(t)}),(function(n){t((function(){var t=new HT(WT.UNKNOWN,"Fetching auth token failed: "+n.message);return e.dr(t)}))}))},e.prototype.lr=function(e){var t=this,n=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii((function(){n((function(){return t.state=2,t.listener.Ii()}))})),this.stream.Ri((function(e){n((function(){return t.dr(e)}))})),this.stream.onMessage((function(e){n((function(){return t.onMessage(e)}))}))},e.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji((function(){return kh(e,void 0,void 0,(function(){return Sh(this,(function(e){return this.state=0,this.start(),[2]}))}))}))},e.prototype.dr=function(e){return $T("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},e.prototype.hr=function(e){var t=this;return function(n){t.Se.enqueueAndForget((function(){return t.Yi===e?n():($T("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},e}(),YA=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,a}return Th(t,e),t.prototype.wr=function(e){return this.Hi.Oi("Listen",e)},t.prototype.onMessage=function(e){this.Zi.reset();var t=function(e,t){var n,r;if("targetChange"in t){t.targetChange;var i="NO_CHANGE"===(r=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===r?1:"REMOVE"===r?2:"CURRENT"===r?3:"RESET"===r?4:ZT(),o=t.targetChange.targetIds||[],a=function(e,t){return e.I?(eI(void 0===t||"string"==typeof t),mI.fromBase64String(t||"")):(eI(void 0===t||t instanceof Uint8Array),mI.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=(u=t.targetChange.cause)&&function(e){var t=void 0===e.code?WT.UNKNOWN:hS(e.code);return new HT(t,e.message||"")}(u);n=new PS(i,o,a,s||null)}else if("documentChange"in t){t.documentChange,(i=t.documentChange).document,i.document.name,i.document.updateTime,o=HS(e,i.document.name),a=BS(i.document.updateTime);var u=new zI({mapValue:{fields:i.document.fields}}),c=(s=WI.newFoundDocument(o,a,u),i.targetIds||[]),l=i.removedTargetIds||[];n=new AS(c,l,s.key,s)}else if("documentDelete"in t)t.documentDelete,(i=t.documentDelete).document,o=HS(e,i.document),a=i.readTime?BS(i.readTime):uI.min(),u=WI.newNoDocument(o,a),s=i.removedTargetIds||[],n=new AS([],s,u.key,u);else if("documentRemove"in t)t.documentRemove,(i=t.documentRemove).document,o=HS(e,i.document),a=i.removedTargetIds||[],n=new AS([],a,o,null);else{if(!("filter"in t))return ZT();t.filter;var h=t.filter;h.targetId,i=h.count||0,o=new cS(i),a=h.targetId,n=new xS(a,o)}return n}(this.R,e),n=function(e){if(!("targetChange"in e))return uI.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?uI.min():t.readTime?BS(t.readTime):uI.min()}(e);return this.listener._r(t,n)},t.prototype.mr=function(e){var t,n,r,i,o={};o.database=$S(this.R),o.addTarget=(t=this.R,i=(n=e).target,(r=YI(i)?{documents:tC(t,i)}:{query:nC(t,i)}).targetId=n.targetId,n.resumeToken.approximateByteSize()>0?r.resumeToken=qS(t,n.resumeToken):n.snapshotVersion.compareTo(uI.min())>0&&(r.readTime=jS(t,n.snapshotVersion.toTimestamp())),r);var a=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ZT()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.R,e);a&&(o.labels=a),this.cr(o)},t.prototype.yr=function(e){var t={};t.database=$S(this.R),t.removeTarget=e,this.cr(t)},t}($A),XA=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,a.gr=!1,a}return Th(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(e){return this.Hi.Oi("Write",e)},t.prototype.onMessage=function(e){if(eI(!!e.streamToken),this.lastStreamToken=e.streamToken,this.gr){this.Zi.reset();var t=(r=e.writeResults,i=e.commitTime,r&&r.length>0?(eI(void 0!==i),r.map((function(e){return n=i,(r=(t=e).updateTime?BS(t.updateTime):BS(n)).isEqual(uI.min())&&(r=BS(n)),new Wk(r,t.transformResults||[]);var t,n,r}))):[]),n=BS(e.commitTime);return this.listener.Tr(n,t)}var r,i;return eI(!e.writeResults||0===e.writeResults.length),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var e={};e.database=$S(this.R),this.cr(e)},t.prototype.Er=function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return ZS(t.R,e)}))};this.cr(n)},t}($A),JA=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).credentials=t,i.Hi=n,i.R=r,i.Rr=!1,i}return Th(t,e),t.prototype.br=function(){if(this.Rr)throw new HT(WT.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===WT.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new HT(WT.UNKNOWN,e.toString())}))},t.prototype.$i=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.$i(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===WT.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new HT(WT.UNKNOWN,e.toString())}))},t.prototype.terminate=function(){this.Rr=!0},t}((function(){})),ZA=function(){function e(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var e=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()})))},e.prototype.Nr=function(e){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},e.prototype.set=function(e){this.Fr(),this.vr=0,"Online"===e&&(this.Vr=!1),this.Dr(e)},e.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},e.prototype.Cr=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(YT(t),this.Vr=!1):$T("OnlineStateTracker",t)},e.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},e}(),ex=function(e,t,n,r,i){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(e){n.enqueueAndForget((function(){return kh(o,void 0,void 0,(function(){return Sh(this,(function(e){switch(e.label){case 0:return cx(this)?($T("RemoteStore","Restarting streams for network reachability change."),[4,function(e){return kh(this,void 0,void 0,(function(){var t;return Sh(this,(function(n){switch(n.label){case 0:return(t=tI(e)).Or.add(4),[4,nx(t)];case 1:return n.sent(),t.Br.set("Unknown"),t.Or.delete(4),[4,tx(t)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))})),this.Br=new ZA(n,r)};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tx(e){return kh(this,void 0,void 0,(function(){var t,n;return Sh(this,(function(r){switch(r.label){case 0:if(!cx(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function nx(e){return kh(this,void 0,void 0,(function(){var t,n;return Sh(this,(function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function rx(e,t){var n=tI(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),ux(n)?sx(n):Ix(n).er()&&ox(n,t))}function ix(e,t){var n=tI(e),r=Ix(n);n.$r.delete(t),r.er()&&ax(n,t),0===n.$r.size&&(r.er()?r.ir():cx(n)&&n.Br.set("Unknown"))}function ox(e,t){e.qr.U(t.targetId),Ix(e).mr(t)}function ax(e,t){e.qr.U(t),Ix(e).yr(t)}function sx(e){e.qr=new DS({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),Ix(e).start(),e.Br.Sr()}function ux(e){return cx(e)&&!Ix(e).tr()&&e.$r.size>0}function cx(e){return 0===tI(e).Or.size}function lx(e){e.qr=void 0}function hx(e){return kh(this,void 0,void 0,(function(){return Sh(this,(function(t){return e.$r.forEach((function(t,n){ox(e,t)})),[2]}))}))}function fx(e,t){return kh(this,void 0,void 0,(function(){return Sh(this,(function(n){return lx(e),ux(e)?(e.Br.Nr(t),sx(e)):e.Br.set("Unknown"),[2]}))}))}function dx(e,t,n){return kh(this,void 0,void 0,(function(){var r,i,o;return Sh(this,(function(a){switch(a.label){case 0:if(e.Br.set("Online"),!(t instanceof PS&&2===t.state&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(e,t){return kh(this,void 0,void 0,(function(){var n,r,i,o;return Sh(this,(function(a){switch(a.label){case 0:n=t.cause,r=0,i=t.targetIds,a.label=1;case 1:return r<i.length?(o=i[r],e.$r.has(o)?[4,e.remoteSyncer.rejectListen(o,n)]:[3,3]):[3,5];case 2:a.sent(),e.$r.delete(o),e.qr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(e,t)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),$T("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,px(e,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof AS?e.qr.X(t):t instanceof xS?e.qr.rt(t):e.qr.et(t),n.isEqual(uI.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,sA(e.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,(s=e,u=n,c=s.qr.ut(u),c.targetChanges.forEach((function(e,t){if(e.resumeToken.approximateByteSize()>0){var n=s.$r.get(t);n&&s.$r.set(t,n.withResumeToken(e.resumeToken,u))}})),c.targetMismatches.forEach((function(e){var t=s.$r.get(e);if(t){s.$r.set(e,t.withResumeToken(mI.EMPTY_BYTE_STRING,t.snapshotVersion)),ax(s,e);var n=new ZC(t.target,e,1,t.sequenceNumber);ox(s,n)}})),s.remoteSyncer.applyRemoteEvent(c))]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return $T("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,px(e,o)];case 12:return a.sent(),[3,13];case 13:return[2]}var s,u,c}))}))}function px(e,t,n){return kh(this,void 0,void 0,(function(){var r=this;return Sh(this,(function(i){switch(i.label){case 0:if(!KC(t))throw t;return e.Or.add(1),[4,nx(e)];case 1:return i.sent(),e.Br.set("Offline"),n||(n=function(){return sA(e.localStore)}),e.asyncQueue.enqueueRetryable((function(){return kh(r,void 0,void 0,(function(){return Sh(this,(function(t){switch(t.label){case 0:return $T("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return t.sent(),e.Or.delete(1),[4,tx(e)];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))}function vx(e,t){return t().catch((function(n){return px(e,n,t)}))}function gx(e){return kh(this,void 0,void 0,(function(){var t,n,r,i,o;return Sh(this,(function(a){switch(a.label){case 0:t=tI(e),n=kx(t),r=t.kr.length>0?t.kr[t.kr.length-1].batchId:-1,a.label=1;case 1:if(!(cx(s=t)&&s.kr.length<10))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,lA(t.localStore,r)];case 3:return null===(i=a.sent())?(0===t.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(e,t){e.kr.push(t);var n=kx(e);n.er()&&n.pr&&n.Er(t.mutations)}(t,i),[3,6]);case 4:return o=a.sent(),[4,px(t,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return mx(t)&&yx(t),[2]}var s}))}))}function mx(e){return cx(e)&&!kx(e).tr()&&e.kr.length>0}function yx(e){kx(e).start()}function bx(e){return kh(this,void 0,void 0,(function(){return Sh(this,(function(t){return kx(e).Ar(),[2]}))}))}function wx(e){return kh(this,void 0,void 0,(function(){var t,n,r,i;return Sh(this,(function(o){for(t=kx(e),n=0,r=e.kr;n<r.length;n++)i=r[n],t.Er(i.mutations);return[2]}))}))}function _x(e,t,n){return kh(this,void 0,void 0,(function(){var r,i;return Sh(this,(function(o){switch(o.label){case 0:return r=e.kr.shift(),i=JC.from(r,t,n),[4,vx(e,(function(){return e.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,gx(e)];case 2:return o.sent(),[2]}}))}))}function Ex(e,t){return kh(this,void 0,void 0,(function(){return Sh(this,(function(n){switch(n.label){case 0:return t&&kx(e).pr?[4,function(e,t){return kh(this,void 0,void 0,(function(){var n,r;return Sh(this,(function(i){switch(i.label){case 0:return lS(r=t.code)&&r!==WT.ABORTED?(n=e.kr.shift(),kx(e).sr(),[4,vx(e,(function(){return e.remoteSyncer.rejectFailedWrite(n.batchId,t)}))]):[3,3];case 1:return i.sent(),[4,gx(e)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return mx(e)&&yx(e),[2]}}))}))}function Tx(e,t){return kh(this,void 0,void 0,(function(){var n;return Sh(this,(function(r){switch(r.label){case 0:return n=tI(e),t?(n.Or.delete(2),[4,tx(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,nx(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function Ix(e){var t,n,r,i,o=this;return e.Ur||(e.Ur=(t=e.datastore,n=e.asyncQueue,r={Ii:hx.bind(null,e),Ri:fx.bind(null,e),_r:dx.bind(null,e)},(i=tI(t)).br(),new YA(n,i.Hi,i.credentials,i.R,r)),e.Mr.push((function(t){return kh(o,void 0,void 0,(function(){return Sh(this,(function(n){switch(n.label){case 0:return t?(e.Ur.sr(),ux(e)?sx(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:n.sent(),lx(e),n.label=3;case 3:return[2]}}))}))}))),e.Ur}function kx(e){var t,n,r,i,o=this;return e.Kr||(e.Kr=(t=e.datastore,n=e.asyncQueue,r={Ii:bx.bind(null,e),Ri:Ex.bind(null,e),Ir:wx.bind(null,e),Tr:_x.bind(null,e)},(i=tI(t)).br(),new XA(n,i.Hi,i.credentials,i.R,r)),e.Mr.push((function(t){return kh(o,void 0,void 0,(function(){return Sh(this,(function(n){switch(n.label){case 0:return t?(e.Kr.sr(),[4,gx(e)]):[3,2];case 1:return n.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:n.sent(),e.kr.length>0&&($T("RemoteStore","Stopping write stream with "+e.kr.length+" pending writes"),e.kr=[]),n.label=4;case 4:return[2]}}))}))}))),e.Kr}var Sx=function(){function e(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new UC,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return e.createAndSchedule=function(t,n,r,i,o){var a=new e(t,n,Date.now()+r,i,o);return a.start(r),a},e.prototype.start=function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new HT(WT.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))},e.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function Cx(e,t){if(YT("AsyncQueue",t+": "+e),KC(e))return new HT(WT.UNAVAILABLE,t+": "+e);throw e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nx=function(){function e(e){this.comparator=e?function(t,n){return e(t,n)||NI.comparator(t.key,n.key)}:function(e,t){return NI.comparator(e.key,t.key)},this.keyedMap=wS(),this.sortedSet=new fS(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(e){return null!=this.keyedMap.get(e)},e.prototype.get=function(e){return this.keyedMap.get(e)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),Ax=function(){function e(){this.Qr=new fS(NI.comparator)}return e.prototype.track=function(e){var t=e.doc.key,n=this.Qr.get(t);n?0!==e.type&&3===n.type?this.Qr=this.Qr.insert(t,e):3===e.type&&1!==n.type?this.Qr=this.Qr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Qr=this.Qr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Qr=this.Qr.remove(t):1===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):ZT():this.Qr=this.Qr.insert(t,e)},e.prototype.jr=function(){var e=[];return this.Qr.inorderTraversal((function(t,n){e.push(n)})),e},e}(),xx=function(){function e(e,t,n,r,i,o,a,s){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return e.fromInitialDocuments=function(t,n,r,i){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,Nx.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Tk(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},e}(),Px=function(){this.Wr=void 0,this.listeners=[]},Rx=function(){this.queries=new jN((function(e){return Ik(e)}),Tk),this.onlineState="Unknown",this.Gr=new Set};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dx(e,t){return kh(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return Sh(this,(function(c){switch(c.label){case 0:if(n=tI(e),r=t.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new Px),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Wr=c.sent(),[3,4];case 3:return s=c.sent(),u=Cx(s,"Initialization of query '"+kk(t.query)+"' failed"),[2,void t.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(t),t.zr(n.onlineState),o.Wr&&t.Hr(o.Wr)&&Fx(n),[2]}}))}))}function Ox(e,t){return kh(this,void 0,void 0,(function(){var n,r,i,o,a;return Sh(this,(function(s){return n=tI(e),r=t.query,i=!1,(o=n.queries.get(r))&&(a=o.listeners.indexOf(t))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function Lx(e,t){for(var n=tI(e),r=!1,i=0,o=t;i<o.length;i++){var a=o[i],s=a.query,u=n.queries.get(s);if(u){for(var c=0,l=u.listeners;c<l.length;c++)l[c].Hr(a)&&(r=!0);u.Wr=a}}r&&Fx(n)}function Mx(e,t,n){var r=tI(e),i=r.queries.get(t);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(t)}function Fx(e){e.Gr.forEach((function(e){e.next()}))}var Ux=function(){function e(e,t,n){this.query=e,this.Jr=t,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return e.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&t.push(i)}e=new xx(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),o=!0):this.eo(e,this.onlineState)&&(this.no(e),o=!0),this.Xr=e,o},e.prototype.onError=function(e){this.Jr.error(e)},e.prototype.zr=function(e){this.onlineState=e;var t=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),t=!0),t},e.prototype.eo=function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return!(this.options.so&&n||e.docs.isEmpty()&&"Offline"!==t)},e.prototype.Zr=function(e){if(e.docChanges.length>0)return!0;var t=this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges},e.prototype.no=function(e){e=xx.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},e}(),jx=function(){function e(e,t){this.payload=e,this.byteLength=t}return e.prototype.io=function(){return"metadata"in this.payload},e}(),qx=function(){function e(e){this.R=e}return e.prototype.qn=function(e){return HS(this.R,e)},e.prototype.Un=function(e){return e.metadata.exists?JS(this.R,e.document,!1):WI.newNoDocument(this.qn(e.metadata.name),this.Kn(e.metadata.readTime))},e.prototype.Kn=function(e){return BS(e)},e}(),Vx=function(){function e(e,t,n){this.ro=e,this.localStore=t,this.R=n,this.queries=[],this.documents=[],this.progress=Bx(e)}return e.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null},e.prototype.co=function(e){for(var t=new Map,n=new qx(this.R),r=0,i=e;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.qn(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var c=u[s],l=(t.get(c)||IS()).add(a);t.set(c,l)}}return t},e.prototype.complete=function(){return kh(this,void 0,void 0,(function(){var e,t,n,r,i;return Sh(this,(function(o){switch(o.label){case 0:return[4,mA(this.localStore,new qx(this.R),this.documents,this.ro.id)];case 1:e=o.sent(),t=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?(i=r[n],[4,yA(this.localStore,i,t.get(i.name))]):[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new ZN(Object.assign({},this.progress),e))]}}))}))},e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bx(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zx=function(e){this.key=e},Kx=function(e){this.key=e},Wx=function(){function e(e,t){this.query=e,this.uo=t,this.ao=null,this.current=!1,this.ho=IS(),this.mutatedKeys=IS(),this.lo=Ck(e),this.fo=new Nx(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(e,t){var n=this,r=t?t.mo:new Ax,i=t?t.fo:this.fo,o=t?t.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=vk(this.query)&&i.size===this.query.limit?i.last():null,c=gk(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),h=Sk(n.query,t)?t:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(h?(a=a.add(h),o=d?o.add(e):o.delete(e)):(a=a.delete(e),o=o.delete(e)))})),vk(this.query)||gk(this.query))for(;a.size>this.query.limit;){var l=vk(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:a,mo:r,Nn:s,mutatedKeys:o}},e.prototype.yo=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},e.prototype.applyChanges=function(e,t,n){var r=this,i=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var o=e.mo.jr();o.sort((function(e,t){return n=e.type,i=t.type,(o=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ZT()}})(n)-o(i)||r.lo(e.doc,t.doc);var n,i,o})),this.po(n);var a=t?this.Eo():[],s=0===this.ho.size&&this.current?1:0,u=s!==this.ao;return this.ao=s,0!==o.length||u?{snapshot:new xx(this.query,e.fo,i,o,e.mutatedKeys,0===s,u,!1),To:a}:{To:a}},e.prototype.zr=function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Ax,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},e.prototype.po=function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.uo=t.uo.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.uo=t.uo.delete(e)})),this.current=e.current)},e.prototype.Eo=function(){var e=this;if(!this.current)return[];var t=this.ho;this.ho=IS(),this.fo.forEach((function(t){e.Io(t.key)&&(e.ho=e.ho.add(t.key))}));var n=[];return t.forEach((function(t){e.ho.has(t)||n.push(new Kx(t))})),this.ho.forEach((function(e){t.has(e)||n.push(new zx(e))})),n},e.prototype.Ao=function(e){this.uo=e.Bn,this.ho=IS();var t=this._o(e.documents);return this.applyChanges(t,!0)},e.prototype.Ro=function(){return xx.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},e}(),Hx=function(e,t,n){this.query=e,this.targetId=t,this.view=n},Gx=function(e){this.key=e,this.bo=!1},Qx=function(){function e(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new jN((function(e){return Ik(e)}),Tk),this.Vo=new Map,this.So=new Set,this.Do=new fS(NI.comparator),this.Co=new Map,this.No=new wA,this.xo={},this.Fo=new Map,this.ko=CN.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),e}();function $x(e,t){return kh(this,void 0,void 0,(function(){var n,r,i,o,a,s;return Sh(this,(function(u){switch(u.label){case 0:return n=IP(e),(o=n.Po.get(t))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,hA(n.localStore,_k(t))];case 2:return a=u.sent(),s=n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.targetId,[4,Yx(n,t,r,"current"===s)];case 3:i=u.sent(),n.isPrimaryClient&&rx(n.remoteStore,a),u.label=4;case 4:return[2,i]}}))}))}function Yx(e,t,n,r){return kh(this,void 0,void 0,(function(){var i,o,a,s,u,c;return Sh(this,(function(l){switch(l.label){case 0:return e.Oo=function(t,n,r){return function(e,t,n,r){return kh(this,void 0,void 0,(function(){var i,o,a;return Sh(this,(function(s){switch(s.label){case 0:return(i=t.view._o(n)).Nn?[4,dA(e.localStore,t.query,!1).then((function(e){var n=e.documents;return t.view._o(n,i)}))]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.targetChanges.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o),[2,(cP(e,t.targetId,a.To),a.snapshot)]}}))}))}(e,t,n,r)},[4,dA(e.localStore,t,!0)];case 1:return i=l.sent(),o=new Wx(t,i.Bn),a=o._o(i.documents),s=NS.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),u=o.applyChanges(a,e.isPrimaryClient,s),cP(e,n,u.To),c=new Hx(t,n,o),[2,(e.Po.set(t,c),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),u.snapshot)]}}))}))}function Xx(e,t){return kh(this,void 0,void 0,(function(){var n,r,i;return Sh(this,(function(o){switch(o.label){case 0:return n=tI(e),r=n.Po.get(t),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter((function(e){return!Tk(e,t)}))),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,fA(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),ix(n.remoteStore,r.targetId),sP(n,r.targetId)})).catch(RN)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return sP(n,r.targetId),[4,fA(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function Jx(e,t,n){return kh(this,void 0,void 0,(function(){var r,i,o,a;return Sh(this,(function(s){switch(s.label){case 0:r=kP(e),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,(u=r.localStore,c=t,h=tI(u),f=sI.now(),d=c.reduce((function(e,t){return e.add(t.key)}),IS()),h.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return h.Mn.pn(e,d).next((function(t){l=t;for(var n=[],r=0,i=c;r<i.length;r++){var o=i[r],a=Xk(o,l.get(o.key));null!=a&&n.push(new tS(o.key,a,KI(a.value.mapValue),Hk.exists(!0)))}return h._n.addMutationBatch(e,f,n,c)}))})).then((function(e){return e.applyToLocalDocumentSet(l),{batchId:e.batchId,changes:l}})))];case 2:return i=s.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(e,t,n){var r=e.xo[e.currentUser.toKey()];r||(r=new fS(iI)),r=r.insert(t,n),e.xo[e.currentUser.toKey()]=r}(r,i.batchId,n),[4,fP(r,i.changes)];case 3:return s.sent(),[4,gx(r.remoteStore)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),a=Cx(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}var u,c,l,h,f,d}))}))}function Zx(e,t){return kh(this,void 0,void 0,(function(){var n,r;return Sh(this,(function(i){switch(i.label){case 0:n=tI(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,uA(n.localStore,t)];case 2:return r=i.sent(),t.targetChanges.forEach((function(e,t){var r=n.Co.get(t);r&&(eI(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.bo=!0:e.modifiedDocuments.size>0?eI(r.bo):e.removedDocuments.size>0&&(eI(r.bo),r.bo=!1))})),[4,fP(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,RN(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function eP(e,t,n){var r=tI(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(e,n){var r=n.view.zr(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=tI(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(t)&&(r=!0)})),r&&Fx(n)}(r.eventManager,t),i.length&&r.vo._r(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function tP(e,t,n){return kh(this,void 0,void 0,(function(){var r,i,o,a,s,u;return Sh(this,(function(c){switch(c.label){case 0:return(r=tI(e)).sharedClientState.updateQueryState(t,"rejected",n),i=r.Co.get(t),(o=i&&i.key)?(a=(a=new fS(NI.comparator)).insert(o,WI.newNoDocument(o,uI.min())),s=IS().add(o),u=new CS(uI.min(),new Map,new vS(iI),a,s),[4,Zx(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(t),hP(r),[3,4];case 2:return[4,fA(r.localStore,t,!1).then((function(){return sP(r,t,n)})).catch(RN)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function nP(e,t){return kh(this,void 0,void 0,(function(){var n,r,i;return Sh(this,(function(o){switch(o.label){case 0:n=tI(e),r=t.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,aA(n.localStore,t)];case 2:return i=o.sent(),aP(n,r,null),oP(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,fP(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,RN(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function rP(e,t,n){return kh(this,void 0,void 0,(function(){var r,i;return Sh(this,(function(o){switch(o.label){case 0:r=tI(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,(a=r.localStore,s=t,u=tI(a),u.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var t;return u._n.lookupMutationBatch(e,s).next((function(n){return eI(null!==n),t=n.keys(),u._n.removeMutationBatch(e,n)})).next((function(){return u._n.performConsistencyCheck(e)})).next((function(){return u.Mn.pn(e,t)}))})))];case 2:return i=o.sent(),aP(r,t,n),oP(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,fP(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,RN(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}var a,s,u}))}))}function iP(e,t){return kh(this,void 0,void 0,(function(){var n,r,i,o,a;return Sh(this,(function(s){switch(s.label){case 0:cx((n=tI(e)).remoteStore)||$T("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,(u=n.localStore,c=tI(u),c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return c._n.getHighestUnacknowledgedBatchId(e)})))];case 2:return-1===(r=s.sent())?[2,void t.resolve()]:((i=n.Fo.get(r)||[]).push(t),n.Fo.set(r,i),[3,4]);case 3:return o=s.sent(),a=Cx(o,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}var u,c}))}))}function oP(e,t){(e.Fo.get(t)||[]).forEach((function(e){e.resolve()})),e.Fo.delete(t)}function aP(e,t,n){var r=tI(e),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.xo[r.currentUser.toKey()]=i}}function sP(e,t,n){void 0===n&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var o=i[r];e.Po.delete(o),n&&e.vo.Mo(o,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach((function(t){e.No.containsKey(t)||uP(e,t)}))}function uP(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);null!==n&&(ix(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),hP(e))}function cP(e,t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof zx?(e.No.addReference(o.key,t),lP(e,o)):o instanceof Kx?($T("SyncEngine","Document no longer in limbo: "+o.key),e.No.removeReference(o.key,t),e.No.containsKey(o.key)||uP(e,o.key)):ZT()}}function lP(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||($T("SyncEngine","New document in limbo: "+n),e.So.add(r),hP(e))}function hP(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new NI(dI.fromString(t)),r=e.ko.next();e.Co.set(r,new Gx(n)),e.Do=e.Do.insert(n,r),rx(e.remoteStore,new ZC(_k(pk(n.path)),r,2,KT.o))}}function fP(e,t,n){return kh(this,void 0,void 0,(function(){var r,i,o,a;return Sh(this,(function(s){switch(s.label){case 0:return r=tI(e),i=[],o=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach((function(e,s){a.push(r.Oo(s,t,n).then((function(e){if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,e.fromCache?"not-current":"current"),i.push(e);var t=tA.Pn(s.targetId,e);o.push(t)}})))})),[4,Promise.all(a)]);case 1:return s.sent(),r.vo._r(i),[4,function(e,t){return kh(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l;return Sh(this,(function(h){switch(h.label){case 0:n=tI(e),h.label=1;case 1:return h.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return jC.forEach(t,(function(t){return jC.forEach(t.bn,(function(r){return n.persistence.referenceDelegate.addReference(e,t.targetId,r)})).next((function(){return jC.forEach(t.vn,(function(r){return n.persistence.referenceDelegate.removeReference(e,t.targetId,r)}))}))}))}))];case 2:return h.sent(),[3,4];case 3:if(!KC(r=h.sent()))throw r;return $T("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=t;i<o.length;i++)a=o[i],s=a.targetId,a.fromCache||(u=n.Fn.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),n.Fn=n.Fn.insert(s,l));return[2]}}))}))}(r.localStore,o)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}function dP(e,t){return kh(this,void 0,void 0,(function(){var n,r;return Sh(this,(function(i){switch(i.label){case 0:return(n=tI(e)).currentUser.isEqual(t)?[3,3]:($T("SyncEngine","User change. New user:",t.toKey()),[4,oA(n.localStore,t)]);case 1:return r=i.sent(),n.currentUser=t,(o=n).Fo.forEach((function(e){e.forEach((function(e){e.reject(new HT(WT.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),o.Fo.clear(),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,fP(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}var o}))}))}function pP(e,t){var n=tI(e),r=n.Co.get(t);if(r&&r.bo)return IS().add(r.key);var i=IS(),o=n.Vo.get(t);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=s[a],c=n.Po.get(u);i=i.unionWith(c.view.wo)}return i}function vP(e,t){return kh(this,void 0,void 0,(function(){var n,r,i;return Sh(this,(function(o){switch(o.label){case 0:return[4,dA((n=tI(e)).localStore,t.query,!0)];case 1:return r=o.sent(),i=t.view.Ao(r),[2,(n.isPrimaryClient&&cP(n,t.targetId,i.To),i)]}}))}))}function gP(e){return kh(this,void 0,void 0,(function(){var t;return Sh(this,(function(n){return[2,vA((t=tI(e)).localStore).then((function(e){return fP(t,e)}))]}))}))}function mP(e,t,n,r){return kh(this,void 0,void 0,(function(){var i,o;return Sh(this,(function(a){switch(a.label){case 0:return[4,(s=(i=tI(e)).localStore,u=t,c=tI(s),l=tI(c._n),c.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return l.jt(e,u).next((function(t){return t?c.Mn.pn(e,t):jC.resolve(null)}))})))];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,gx(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(aP(i,t,r||null),oP(i,t),function(e,t){tI(tI(e)._n).Gt(t)}(i.localStore,t)):ZT(),a.label=4;case 4:return[4,fP(i,o)];case 5:return a.sent(),[3,7];case 6:$T("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}var s,u,c,l}))}))}function yP(e,t){return kh(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c;return Sh(this,(function(l){switch(l.label){case 0:return IP(n=tI(e)),kP(n),!0!==t||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,bP(n,r.toArray())]);case 1:return i=l.sent(),n.$o=!0,[4,Tx(n.remoteStore,!0)];case 2:for(l.sent(),o=0,a=i;o<a.length;o++)s=a[o],rx(n.remoteStore,s);return[3,7];case 3:return!1!==t||!1===n.$o?[3,7]:(u=[],c=Promise.resolve(),n.Vo.forEach((function(e,t){n.sharedClientState.isLocalQueryTarget(t)?u.push(t):c=c.then((function(){return sP(n,t),fA(n.localStore,t,!0)})),ix(n.remoteStore,t)})),[4,c]);case 4:return l.sent(),[4,bP(n,u)];case 5:return l.sent(),(h=tI(n)).Co.forEach((function(e,t){ix(h.remoteStore,t)})),h.No.ts(),h.Co=new Map,h.Do=new fS(NI.comparator),n.$o=!1,[4,Tx(n.remoteStore,!1)];case 6:l.sent(),l.label=7;case 7:return[2]}var h}))}))}function bP(e,t,n){return kh(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,h,f,d,p,v;return Sh(this,(function(g){switch(g.label){case 0:n=tI(e),r=[],i=[],o=0,a=t,g.label=1;case 1:return o<a.length?(s=a[o],u=void 0,(c=n.Vo.get(s))&&0!==c.length?[4,hA(n.localStore,_k(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=h[l],d=n.Po.get(f),[4,vP(n,d)]):[3,6];case 4:(p=g.sent()).snapshot&&i.push(p.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,pA(n.localStore,s)];case 8:return v=g.sent(),[4,hA(n.localStore,v)];case 9:return u=g.sent(),[4,Yx(n,wP(v),s,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}}))}))}function wP(e){return dk(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function _P(e){var t=tI(e);return tI(tI(t.localStore).persistence).fn()}function EP(e,t,n,r){return kh(this,void 0,void 0,(function(){var i,o,a;return Sh(this,(function(s){switch(s.label){case 0:return(i=tI(e)).$o?($T("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,vA(i.localStore)];case 3:return o=s.sent(),a=CS.createSynthesizedRemoteEventForCurrentChange(t,"current"===n),[4,fP(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,fA(i.localStore,t,!0)];case 6:return s.sent(),sP(i,t,r),[3,8];case 7:ZT(),s.label=8;case 8:return[2]}}))}))}function TP(e,t,n){return kh(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,h,f;return Sh(this,(function(d){switch(d.label){case 0:if(!(r=IP(e)).$o)return[3,10];i=0,o=t,d.label=1;case 1:return i<o.length?(a=o[i],r.Vo.has(a)?($T("SyncEngine","Adding an already active target "+a),[3,5]):[4,pA(r.localStore,a)]):[3,6];case 2:return s=d.sent(),[4,hA(r.localStore,s)];case 3:return u=d.sent(),[4,Yx(r,wP(s),u.targetId,!1)];case 4:d.sent(),rx(r.remoteStore,u),d.label=5;case 5:return i++,[3,1];case 6:c=function(e){return Sh(this,(function(t){switch(t.label){case 0:return r.Vo.has(e)?[4,fA(r.localStore,e,!1).then((function(){ix(r.remoteStore,e),sP(r,e)})).catch(RN)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))},l=0,h=n,d.label=7;case 7:return l<h.length?(f=h[l],[5,c(f)]):[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function IP(e){var t=tI(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Zx.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=pP.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=tP.bind(null,t),t.vo._r=Lx.bind(null,t.eventManager),t.vo.Mo=Mx.bind(null,t.eventManager),t}function kP(e){var t=tI(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=nP.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=rP.bind(null,t),t}function SP(e,t,n){var r=tI(e);(function(e,t,n){return kh(this,void 0,void 0,(function(){var r,i,o,a,s,u;return Sh(this,(function(c){switch(c.label){case 0:return c.trys.push([0,14,,15]),[4,t.getMetadata()];case 1:return r=c.sent(),[4,(l=e.localStore,h=r,f=tI(l),d=BS(h.createTime),f.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return f.Ke.getBundleMetadata(e,h.id)})).then((function(e){return!!e&&e.createTime.compareTo(d)>=0})))];case 2:return c.sent()?[4,t.close()]:[3,4];case 3:return[2,(c.sent(),void n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)))];case 4:return n._updateProgress(Bx(r)),i=new Vx(r,e.localStore,t.R),[4,t.Lo()];case 5:o=c.sent(),c.label=6;case 6:return o?[4,i.oo(o)]:[3,10];case 7:return(a=c.sent())&&n._updateProgress(a),[4,t.Lo()];case 8:o=c.sent(),c.label=9;case 9:return[3,6];case 10:return[4,i.complete()];case 11:return s=c.sent(),[4,fP(e,s.wn,void 0)];case 12:return c.sent(),[4,function(e,t){var n=tI(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ke.saveBundleMetadata(e,t)}))}(e.localStore,r)];case 13:return c.sent(),n._completeWith(s.progress),[3,15];case 14:return XT("SyncEngine","Loading bundle failed with "+(u=c.sent())),n._failWith(u),[3,15];case 15:return[2]}var l,h,f,d}))}))})(r,t,n).then((function(){r.sharedClientState.notifyBundleLoaded()}))}var CP=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(e){return kh(this,void 0,void 0,(function(){return Sh(this,(function(t){switch(t.label){case 0:return this.R=GA(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return t.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Ko(e),[2]}}))}))},e.prototype.Uo=function(e){return null},e.prototype.Ko=function(e){return iA(this.persistence,new nA,e.initialUser,this.R)},e.prototype.qo=function(e){return new SA(NA.bs,this.R)},e.prototype.Bo=function(e){return new jA},e.prototype.terminate=function(){return kh(this,void 0,void 0,(function(){return Sh(this,(function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}}))}))},e}(),NP=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).Qo=t,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Th(t,e),t.prototype.initialize=function(t){return kh(this,void 0,void 0,(function(){return Sh(this,(function(n){switch(n.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return n.sent(),[4,gA(this.localStore)];case 2:return n.sent(),[4,this.Qo.initialize(this,t)];case 3:return n.sent(),[4,kP(this.Qo.syncEngine)];case 4:return n.sent(),[4,gx(this.Qo.remoteStore)];case 5:return n.sent(),[2]}}))}))},t.prototype.Ko=function(e){return iA(this.persistence,new nA,e.initialUser,this.R)},t.prototype.Uo=function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new LN(t,e.asyncQueue)},t.prototype.qo=function(e){var t=JN(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?bN.withCacheSize(this.cacheSizeBytes):bN.DEFAULT;return new $N(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,WA(),HA(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(e){return new jA},t}(CP),AP=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n,!1)||this).Qo=t,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Th(t,e),t.prototype.initialize=function(t){return kh(this,void 0,void 0,(function(){var n,r=this;return Sh(this,(function(i){switch(i.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return i.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof UA?(this.sharedClientState.syncEngine={ui:mP.bind(null,n),ai:EP.bind(null,n),hi:TP.bind(null,n),fn:_P.bind(null,n),ci:gP.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He((function(e){return kh(r,void 0,void 0,(function(){return Sh(this,(function(t){switch(t.label){case 0:return[4,yP(this.Qo.syncEngine,e)];case 1:return t.sent(),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},t.prototype.Bo=function(e){var t=WA();if(!UA.yt(t))throw new HT(WT.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=JN(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new UA(t,e.asyncQueue,n,e.clientId,e.initialUser)},t}(NP),xP=function(){function e(){}return e.prototype.initialize=function(e,t){return kh(this,void 0,void 0,(function(){var n=this;return Sh(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return eP(n.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=dP.bind(null,this.syncEngine),[4,Tx(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.createEventManager=function(e){return new Rx},e.prototype.createDatastore=function(e){var t,n,r=GA(e.databaseInfo.databaseId),i=(t=e.databaseInfo,new KA(t));return n=e.credentials,new JA(n,i,r)},e.prototype.createRemoteStore=function(e){var t,n,r,i,o,a=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return eP(a.syncEngine,e,0)},o=VA.yt()?new VA:new qA,new ex(t,n,r,i,o)},e.prototype.createSyncEngine=function(e,t){return n=this.localStore,r=this.remoteStore,i=this.eventManager,o=this.sharedClientState,a=e.initialUser,s=e.maxConcurrentLimboResolutions,u=t,c=new Qx(n,r,i,o,a,s),u&&(c.$o=!0),c;var n,r,i,o,a,s,u,c},e.prototype.terminate=function(){return function(e){return kh(this,void 0,void 0,(function(){var t;return Sh(this,(function(n){switch(n.label){case 0:return t=tI(e),$T("RemoteStore","RemoteStore shutting down."),t.Or.add(5),[4,nx(t)];case 1:return n.sent(),t.Lr.shutdown(),t.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PP(e,t){void 0===t&&(t=10240);var n=0;return{read:function(){return kh(this,void 0,void 0,(function(){var r;return Sh(this,(function(i){return n<e.byteLength?(r={value:e.slice(n,n+t),done:!1},[2,(n+=t,r)]):[2,{done:!0}]}))}))},cancel:function(){return kh(this,void 0,void 0,(function(){return Sh(this,(function(e){return[2]}))}))},releaseLock:function(){},closed:Promise.reject("unimplemented")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var RP=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},e.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)},e}(),DP=function(){function e(e,t){var n=this;this.Go=e,this.R=t,this.metadata=new UC,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then((function(e){e&&e.io()?n.metadata.resolve(e.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==e?void 0:e.payload)))}),(function(e){return n.metadata.reject(e)}))}return e.prototype.close=function(){return this.Go.cancel()},e.prototype.getMetadata=function(){return kh(this,void 0,void 0,(function(){return Sh(this,(function(e){return[2,this.metadata.promise]}))}))},e.prototype.Lo=function(){return kh(this,void 0,void 0,(function(){return Sh(this,(function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}}))}))},e.prototype.Ho=function(){return kh(this,void 0,void 0,(function(){var e,t,n,r;return Sh(this,(function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(e=i.sent())?[2,null]:(t=this.zo.decode(e),n=Number(t),isNaN(n)&&this.Yo("length string ("+t+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new jx(JSON.parse(r),e.length+n)]}}))}))},e.prototype.Zo=function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))},e.prototype.Jo=function(){return kh(this,void 0,void 0,(function(){var e,t;return Sh(this,(function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),t=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),t)])}}))}))},e.prototype.Xo=function(e){return kh(this,void 0,void 0,(function(){var t;return Sh(this,(function(n){switch(n.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return t=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),t)]}}))}))},e.prototype.Yo=function(e){throw this.Go.cancel(),new Error("Invalid bundle format: "+e)},e.prototype.tc=function(){return kh(this,void 0,void 0,(function(){var e,t;return Sh(this,(function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(e=n.sent()).done||((t=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t),[2,e.done]}}))}))},e}(),OP=function(){function e(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(e){return kh(this,void 0,void 0,(function(){var t,n=this;return Sh(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new HT(WT.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(e,t){return kh(this,void 0,void 0,(function(){var n,r,i,o,a,s;return Sh(this,(function(u){switch(u.label){case 0:return n=tI(e),r=$S(n.R)+"/documents",i={documents:t.map((function(e){return WS(n.R,e)}))},[4,n.$i("BatchGetDocuments",r,i)];case 1:return o=u.sent(),a=new Map,o.forEach((function(e){var t,r,i=(t=n.R,"found"in(r=e)?function(e,t){eI(!!t.found),t.found.name,t.found.updateTime;var n=HS(e,t.found.name),r=BS(t.found.updateTime),i=new zI({mapValue:{fields:t.found.fields}});return WI.newFoundDocument(n,r,i)}(t,r):"missing"in r?function(e,t){eI(!!t.missing),eI(!!t.readTime);var n=HS(e,t.missing),r=BS(t.readTime);return WI.newNoDocument(n,r)}(t,r):ZT());a.set(i.key.toString(),i)})),s=[],[2,(t.forEach((function(e){var t=a.get(e.toString());eI(!!t),s.push(t)})),s)]}}))}))}(this.datastore,e)];case 1:return[2,((t=r.sent()).forEach((function(e){return n.recordVersion(e)})),t)]}}))}))},e.prototype.set=function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.update=function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(n){this.lastWriteError=n}this.writtenDocs.add(e.toString())},e.prototype.delete=function(e){this.write(new sS(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.commit=function(){return kh(this,void 0,void 0,(function(){var e,t=this;return Sh(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach((function(t){e.delete(t.key.toString())})),e.forEach((function(e,n){var r=NI.fromPath(n);t.mutations.push(new uS(r,t.precondition(r)))})),[4,function(e,t){return kh(this,void 0,void 0,(function(){var n,r,i;return Sh(this,(function(o){switch(o.label){case 0:return n=tI(e),r=$S(n.R)+"/documents",i={writes:t.map((function(e){return ZS(n.R,e)}))},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},e.prototype.recordVersion=function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ZT();t=uI.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new HT(WT.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)},e.prototype.precondition=function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Hk.updateTime(t):Hk.none()},e.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(uI.min()))throw new HT(WT.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Hk.updateTime(t)}return Hk.exists(!0)},e.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},e.prototype.ensureCommitNotCalled=function(){},e}(),LP=function(){function e(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new QA(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var e=this;this.Zi.ji((function(){return kh(e,void 0,void 0,(function(){var e,t,n=this;return Sh(this,(function(r){return e=new OP(this.datastore),(t=this.sc(e))&&t.then((function(t){n.asyncQueue.enqueueAndForget((function(){return e.commit().then((function(){n.deferred.resolve(t)})).catch((function(e){n.ic(e)}))}))})).catch((function(e){n.ic(e)})),[2]}))}))}))},e.prototype.sc=function(e){try{var t=this.updateFunction(e);return!kI(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}},e.prototype.ic=function(e){var t=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return t.nc(),Promise.resolve()}))):this.deferred.reject(e)},e.prototype.rc=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!lS(t)}return!1},e}(),MP=function(){function e(e,t,n){var r=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=AA.UNAUTHENTICATED,this.clientId=rI.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(t,(function(e){return kh(r,void 0,void 0,(function(){return Sh(this,(function(t){switch(t.label){case 0:return $T("FirestoreClient","Received user=",e.uid),[4,this.credentialListener(e)];case 1:return t.sent(),this.user=e,[2]}}))}))}))}return e.prototype.getConfiguration=function(){return kh(this,void 0,void 0,(function(){return Sh(this,(function(e){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]}))}))},e.prototype.setCredentialChangeListener=function(e){this.credentialListener=e},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new HT(WT.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new UC;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return kh(e,void 0,void 0,(function(){var e,n;return Sh(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),t.resolve(),[3,6];case 5:return e=r.sent(),n=Cx(e,"Failed to shutdown persistence"),t.reject(n),[3,6];case 6:return[2]}}))}))})),t.promise},e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FP(e,t){return kh(this,void 0,void 0,(function(){var n,r,i=this;return Sh(this,(function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),$T("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=o.sent(),[4,t.initialize(n)];case 2:return o.sent(),r=n.initialUser,e.setCredentialChangeListener((function(e){return kh(i,void 0,void 0,(function(){return Sh(this,(function(n){switch(n.label){case 0:return r.isEqual(e)?[3,2]:[4,oA(t.localStore,e)];case 1:n.sent(),r=e,n.label=2;case 2:return[2]}}))}))})),t.persistence.setDatabaseDeletedListener((function(){return e.terminate()})),e.offlineComponents=t,[2]}}))}))}function UP(e,t){return kh(this,void 0,void 0,(function(){var n,r;return Sh(this,(function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,jP(e)];case 1:return n=i.sent(),$T("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.setCredentialChangeListener((function(e){return function(e,t){return kh(this,void 0,void 0,(function(){var n,r;return Sh(this,(function(i){switch(i.label){case 0:return(n=tI(e)).asyncQueue.verifyOperationInProgress(),$T("RemoteStore","RemoteStore received new credentials"),r=cx(n),n.Or.add(3),[4,nx(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(t)];case 2:return i.sent(),n.Or.delete(3),[4,tx(n)];case 3:return i.sent(),[2]}}))}))}(t.remoteStore,e)})),e.onlineComponents=t,[2]}}))}))}function jP(e){return kh(this,void 0,void 0,(function(){return Sh(this,(function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:($T("FirestoreClient","Using default OfflineComponentProvider"),[4,FP(e,new CP)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}}))}))}function qP(e){return kh(this,void 0,void 0,(function(){return Sh(this,(function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:($T("FirestoreClient","Using default OnlineComponentProvider"),[4,UP(e,new xP)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}}))}))}function VP(e){return jP(e).then((function(e){return e.persistence}))}function BP(e){return jP(e).then((function(e){return e.localStore}))}function zP(e){return qP(e).then((function(e){return e.remoteStore}))}function KP(e){return qP(e).then((function(e){return e.syncEngine}))}function WP(e){return kh(this,void 0,void 0,(function(){var t,n;return Sh(this,(function(r){switch(r.label){case 0:return[4,qP(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=$x.bind(null,t.syncEngine),n.onUnlisten=Xx.bind(null,t.syncEngine),n)]}}))}))}function HP(e,t,n){var r=this;void 0===n&&(n={});var i=new UC;return e.asyncQueue.enqueueAndForget((function(){return kh(r,void 0,void 0,(function(){var r;return Sh(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new RP({next:function(o){t.enqueueAndForget((function(){return Ox(e,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new HT(WT.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new HT(WT.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(e){return i.reject(e)}}),a=new Ux(pk(n.path),o,{includeMetadataChanges:!0,so:!0});return Dx(e,a)},[4,WP(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}function GP(e,t,n){var r=this;void 0===n&&(n={});var i=new UC;return e.asyncQueue.enqueueAndForget((function(){return kh(r,void 0,void 0,(function(){var r;return Sh(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new RP({next:function(n){t.enqueueAndForget((function(){return Ox(e,a)})),n.fromCache&&"server"===r.source?i.reject(new HT(WT.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),a=new Ux(n,o,{includeMetadataChanges:!0,so:!0});return Dx(e,a)},[4,WP(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}var QP=function(e,t,n,r,i,o,a,s){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=s},$P=function(){function e(e,t){this.projectId=e,this.database=t||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),YP=new Map,XP=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},JP=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){this.changeListener=t,e.enqueueRetryable((function(){return t(AA.UNAUTHENTICATED)}))},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),ZP=function(){function e(e){this.token=e,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),eR=function(){function e(e){var t=this;this.currentUser=AA.UNAUTHENTICATED,this.oc=new UC,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){t.cc++,t.currentUser=t.ac(),t.oc.resolve(),t.changeListener&&t.asyncQueue.enqueueRetryable((function(){return t.changeListener(t.currentUser)}))};var n=function(e){$T("FirebaseCredentialsProvider","Auth detected"),t.auth=e,t.auth.addAuthTokenListener(t.uc)};e.onInit((function(e){return n(e)})),setTimeout((function(){if(!t.auth){var r=e.getImmediate({optional:!0});r?n(r):($T("FirebaseCredentialsProvider","Auth not yet detected"),t.oc.resolve())}}),0)}return e.prototype.getToken=function(){var e=this,t=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.cc!==t?($T("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(eI("string"==typeof n.accessToken),new XP(n.accessToken,e.currentUser)):null})):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(e,t){var n=this;this.asyncQueue=e,this.asyncQueue.enqueueRetryable((function(){return kh(n,void 0,void 0,(function(){return Sh(this,(function(e){switch(e.label){case 0:return[4,this.oc.promise];case 1:return e.sent(),[4,t(this.currentUser)];case 2:return e.sent(),this.changeListener=t,[2]}}))}))}))},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var e=this.auth&&this.auth.getUid();return eI(null===e||"string"==typeof e),new AA(e)},e}(),tR=function(){function e(e,t,n){this.hc=e,this.lc=t,this.fc=n,this.type="FirstParty",this.user=AA.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.lc},t=this.hc.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.fc&&(e["X-Goog-Iam-Authorization-Token"]=this.fc),e},enumerable:!1,configurable:!0}),e}(),nR=function(){function e(e,t,n){this.hc=e,this.lc=t,this.fc=n}return e.prototype.getToken=function(){return Promise.resolve(new tR(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(e,t){e.enqueueRetryable((function(){return t(AA.FIRST_PARTY)}))},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rR(e,t,n){if(!n)throw new HT(WT.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function iR(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new HT(WT.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function oR(e,t,n,r){if(!0===t&&!0===r)throw new HT(WT.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function aR(e){if(!NI.isDocumentKey(e))throw new HT(WT.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function sR(e){if(NI.isDocumentKey(e))throw new HT(WT.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function uR(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return"function"==typeof e?"a function":ZT()}function cR(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new HT(WT.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=uR(e);throw new HT(WT.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function lR(e,t){if(t<=0)throw new HT(WT.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hR=function(){function e(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new HT(WT.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new HT(WT.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,oR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams},e}(),fR=function(){function e(e,t){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hR({}),this._settingsFrozen=!1,e instanceof $P?(this._databaseId=e,this._credentials=new JP):(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new HT(WT.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $P(e.options.projectId)}(e),this._credentials=new eR(t))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new HT(WT.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(e){if(this._settingsFrozen)throw new HT(WT.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hR(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new JP;switch(e.type){case"gapi":var t=e.client;return eI(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new nR(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new HT(WT.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return this,(e=YP.get(this))&&($T("ComponentProvider","Removing Datastore"),YP.delete(this),e.terminate()),Promise.resolve();var e},e}(),dR=function(){function e(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new vR(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),pR=function(){function e(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),vR=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,pk(r))||this)._path=r,i.type="collection",i}return Th(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._path.popLast();return e.isEmpty()?null:new dR(this.firestore,null,new NI(e))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._path)},t}(pR);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gR(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=yf(e),rR("collection","path",t),e instanceof fR)return sR(n=dI.fromString.apply(dI,Ah([t],r))),new vR(e,null,n);if(!(e instanceof dR||e instanceof vR))throw new HT(WT.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return sR(n=dI.fromString.apply(dI,Ah([e.path],r)).child(dI.fromString(t))),new vR(e.firestore,null,n)}function mR(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=yf(e),1===arguments.length&&(t=rI.u()),rR("doc","path",t),e instanceof fR)return aR(n=dI.fromString.apply(dI,Ah([t],r))),new dR(e,null,new NI(n));if(!(e instanceof dR||e instanceof vR))throw new HT(WT.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return aR(n=e._path.child(dI.fromString.apply(dI,Ah([t],r)))),new dR(e.firestore,e instanceof vR?e.converter:null,new NI(n))}function yR(e,t){return e=yf(e),t=yf(t),(e instanceof dR||e instanceof vR)&&(t instanceof dR||t instanceof vR)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function bR(e,t){return e=yf(e),t=yf(t),e instanceof pR&&t instanceof pR&&e.firestore===t.firestore&&Tk(e._query,t._query)&&e.converter===t.converter}var wR=function(){function e(){var e=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new QA(this,"async_queue_retry"),this.Ic=function(){var t=HA();t&&$T("AsyncQueue","Visibility state changed to "+t.visibilityState),e.Zi.Gi()};var t=HA();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(e){this.enqueue(e)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Ac(),this.Rc(e)},e.prototype.enterRestrictedMode=function(e){if(!this._c){this._c=!0,this.Ec=e||!1;var t=HA();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(e){var t=this;if(this.Ac(),this._c)return new Promise((function(){}));var n=new UC;return this.Rc((function(){return t._c&&t.Ec?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))},e.prototype.enqueueRetryable=function(e){var t=this;this.enqueueAndForget((function(){return t.wc.push(e),t.bc()}))},e.prototype.bc=function(){return kh(this,void 0,void 0,(function(){var e,t=this;return Sh(this,(function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!KC(e=n.sent()))throw e;return $T("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.wc.length>0&&this.Zi.ji((function(){return t.bc()})),n.label=5;case 5:return[2]}}))}))},e.prototype.Rc=function(e){var t=this,n=this.dc.then((function(){return t.gc=!0,e().catch((function(e){throw t.yc=e,t.gc=!1,YT("INTERNAL UNHANDLED ERROR: ",(r=(n=e).message||"",n.stack&&(r=n.stack.includes(n.message)?n.stack:n.message+"\n"+n.stack),r)),e;var n,r})).then((function(e){return t.gc=!1,e}))}));return this.dc=n,n},e.prototype.enqueueAfterDelay=function(e,t,n){var r=this;this.Ac(),this.Tc.indexOf(e)>-1&&(t=0);var i=Sx.createAndSchedule(this,e,t,n,(function(e){return r.vc(e)}));return this.mc.push(i),i},e.prototype.Ac=function(){this.yc&&ZT()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return kh(this,void 0,void 0,(function(){var e;return Sh(this,(function(t){switch(t.label){case 0:return[4,e=this.dc];case 1:t.sent(),t.label=2;case 2:if(e!==this.dc)return[3,0];t.label=3;case 3:return[2]}}))}))},e.prototype.Vc=function(e){for(var t=0,n=this.mc;t<n.length;t++)if(n[t].timerId===e)return!0;return!1},e.prototype.Sc=function(e){var t=this;return this.Pc().then((function(){t.mc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));for(var n=0,r=t.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==e&&i.timerId===e)break}return t.Pc()}))},e.prototype.Dc=function(e){this.Tc.push(e)},e.prototype.vc=function(e){var t=this.mc.indexOf(e);this.mc.splice(t,1)},e}();function _R(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(e)}var ER=function(){function e(){this._progressObserver={},this._taskCompletionResolver=new UC,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return e.prototype.onProgress=function(e,t,n){this._progressObserver={next:e,error:t,complete:n}},e.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},e.prototype.then=function(e,t){return this._taskCompletionResolver.promise.then(e,t)},e.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},e.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},e.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)},e}(),TR=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).type="firestore",r._queue=new wR,r._persistenceKey="name"in t?t.name:"[DEFAULT]",r}return Th(t,e),t.prototype._terminate=function(){return this._firestoreClient||kR(this),this._firestoreClient.terminate()},t}(fR);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IR(e){return e._firestoreClient||kR(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function kR(e){var t,n,r,i,o,a=e._freezeSettings(),s=(n=e._databaseId,r=(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",i=e._persistenceKey,new QP(n,r,i,(o=a).host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,o.useFetchStreams));e._firestoreClient=new MP(e._credentials,e._queue,s)}function SR(e,t,n){var r=this,i=new UC;return e.asyncQueue.enqueue((function(){return kh(r,void 0,void 0,(function(){var r;return Sh(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,FP(e,n)];case 1:return o.sent(),[4,UP(e,t)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!("FirebaseError"===(a=r=o.sent()).name?a.code===WT.FAILED_PRECONDITION||a.code===WT.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&a instanceof DOMException)||22===a.code||20===a.code||11===a.code))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}var a}))}))})).then((function(){return i.promise}))}function CR(e){if(e._initialized||e._terminated)throw new HT(WT.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var NR=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length;++n)if(0===e[n].length)throw new HT(WT.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vI(e)}return e.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},e}(),AR=function(){function e(e){this._byteString=e}return e.fromBase64String=function(t){try{return new e(mI.fromBase64String(t))}catch(n){throw new HT(WT.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},e.fromUint8Array=function(t){return new e(mI.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},e}(),xR=function(e){this._methodName=e},PR=function(){function e(e,t){if(!isFinite(e)||e<-90||e>90)throw new HT(WT.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new HT(WT.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(e){return iI(this._lat,e._lat)||iI(this._long,e._long)},e}(),RR=/^__.*__$/,DR=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return null!==this.fieldMask?new tS(e,this.data,this.fieldMask,t,this.fieldTransforms):new eS(e,this.data,t,this.fieldTransforms)},e}(),OR=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return new tS(e,this.data,this.fieldMask,t,this.fieldTransforms)},e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LR(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ZT()}}var MR=function(){function e(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Cc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.Fc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xc({path:n,kc:!1});return r.$c(e),r},e.prototype.Oc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xc({path:n,kc:!1});return r.Cc(),r},e.prototype.Mc=function(e){return this.xc({path:void 0,kc:!0})},e.prototype.Lc=function(e){return nD(e,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))},e.prototype.Cc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.$c(this.path.get(e))},e.prototype.$c=function(e){if(0===e.length)throw this.Lc("Document fields must not be empty");if(LR(this.Nc)&&RR.test(e))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),FR=function(){function e(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.R=n||GA(e)}return e.prototype.Uc=function(e,t,n,r){return void 0===r&&(r=!1),new MR({Nc:e,methodName:t,qc:n,path:vI.emptyPath(),kc:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function UR(e){var t=e._freezeSettings(),n=GA(e._databaseId);return new FR(e._databaseId,!!t.ignoreUndefinedProperties,n)}function jR(e,t,n,r,i,o){void 0===o&&(o={});var a=e.Uc(o.merge||o.mergeFields?2:0,t,n,i);JR("Data must be an object, but it was:",a,r);var s,u,c=YR(r,a);if(o.merge)s=new gI(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=ZR(t,f[h],n);if(!a.contains(d))throw new HT(WT.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");rD(l,d)||l.push(d)}s=new gI(l),u=a.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=a.fieldTransforms;return new DR(new zI(c),s,u)}var qR=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Th(t,e),t.prototype._toFieldTransform=function(e){if(2!==e.Nc)throw 1===e.Nc?e.Lc(this._methodName+"() can only appear at the top level of your update data"):e.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null},t.prototype.isEqual=function(e){return e instanceof t},t}(xR);function VR(e,t,n){return new MR({Nc:3,qc:t.settings.qc,methodName:e._methodName,kc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var BR=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Th(t,e),t.prototype._toFieldTransform=function(e){return new Kk(e.path,new Mk)},t.prototype.isEqual=function(e){return e instanceof t},t}(xR),zR=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Kc=n,r}return Th(t,e),t.prototype._toFieldTransform=function(e){var t=VR(this,e,!0),n=this.Kc.map((function(e){return $R(e,t)})),r=new Fk(n);return new Kk(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(xR),KR=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Kc=n,r}return Th(t,e),t.prototype._toFieldTransform=function(e){var t=VR(this,e,!0),n=this.Kc.map((function(e){return $R(e,t)})),r=new jk(n);return new Kk(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(xR),WR=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Qc=n,r}return Th(t,e),t.prototype._toFieldTransform=function(e){var t=new Vk(e.R,Pk(e.R,this.Qc));return new Kk(e.path,t)},t.prototype.isEqual=function(e){return this===e},t}(xR);function HR(e,t,n,r){var i=e.Uc(1,t,n);JR("Data must be an object, but it was:",i,r);var o=[],a=zI.empty();lI(r,(function(e,r){var s=tD(t,e,n);r=yf(r);var u=i.Oc(s);if(r instanceof qR)o.push(s);else{var c=$R(r,u);null!=c&&(o.push(s),a.set(s,c))}}));var s=new gI(o);return new OR(a,s,i.fieldTransforms)}function GR(e,t,n,r,i,o){var a=e.Uc(1,t,n),s=[ZR(t,r,n)],u=[i];if(o.length%2!=0)throw new HT(WT.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(ZR(t,o[c])),u.push(o[c+1]);for(var l=[],h=zI.empty(),f=s.length-1;f>=0;--f)if(!rD(l,s[f])){var d=s[f],p=u[f];p=yf(p);var v=a.Oc(d);if(p instanceof qR)l.push(d);else{var g=$R(p,v);null!=g&&(l.push(d),h.set(d,g))}}var m=new gI(l);return new OR(h,m,a.fieldTransforms)}function QR(e,t,n,r){return void 0===r&&(r=!1),$R(n,e.Uc(r?4:3,t))}function $R(e,t){if(XR(e=yf(e)))return JR("Unsupported field value:",t,e),YR(e,t);if(e instanceof xR)return function(e,t){if(!LR(t.Nc))throw t.Lc(e._methodName+"() can only be used with update() and set()");if(!t.path)throw t.Lc(e._methodName+"() is not currently supported inside arrays");var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.kc&&4!==t.Nc)throw t.Lc("Nested arrays are not supported");return function(e,t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var a=$R(o[i],t.Mc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=yf(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Pk(t.R,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=sI.fromDate(e);return{timestampValue:jS(t.R,n)}}if(e instanceof sI)return n=new sI(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)),{timestampValue:jS(t.R,n)};if(e instanceof PR)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof AR)return{bytesValue:qS(t.R,e._byteString)};if(e instanceof dR){n=t.databaseId;var r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Lc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:zS(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Lc("Unsupported field value: "+uR(e))}(e,t)}function YR(e,t){var n={};return hI(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):lI(e,(function(e,r){var i=$R(r,t.Fc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function XR(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof sI||e instanceof PR||e instanceof AR||e instanceof dR||e instanceof xR)}function JR(e,t,n){if(!XR(n)||("object"!=typeof(i=n)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i))){var r=uR(n);throw"an object"===r?t.Lc(e+" a custom object"):t.Lc(e+" "+r)}var i}function ZR(e,t,n){if((t=yf(t))instanceof NR)return t._internalPath;if("string"==typeof t)return tD(e,t);throw nD("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var eD=new RegExp("[~\\*/\\[\\]]");function tD(e,t,n){if(t.search(eD)>=0)throw nD("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return(new(NR.bind.apply(NR,Ah([void 0],t.split(".")))))._internalPath}catch(aO){throw nD("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function nD(e,t,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function "+t+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new HT(WT.INVALID_ARGUMENT,(s+=". ")+e+u)}function rD(e,t){return e.some((function(e){return e.isEqual(t)}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var iD=function(){function e(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new dR(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return null!==this._document},e.prototype.data=function(){if(this._document){if(this._converter){var e=new oD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(e){if(this._document){var t=this._document.data.field(aD("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}},e}(),oD=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Th(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(iD);function aD(e,t){return"string"==typeof t?tD(e,t):t instanceof NR?t._internalPath:t._delegate._internalPath}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sD=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),uD=function(e){function t(t,n,r,i,o,a){var s=this;return(s=e.call(this,t,n,r,i,a)||this)._firestore=t,s._firestoreImpl=t,s.metadata=o,s}return Th(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(e){if(void 0===e&&(e={}),this._document){if(this._converter){var t=new cD(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}},t.prototype.get=function(e,t){if(void 0===t&&(t={}),this._document){var n=this._document.data.field(aD("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}},t}(iD),cD=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Th(t,e),t.prototype.data=function(t){return void 0===t&&(t={}),e.prototype.data.call(this,t)},t}(uD),lD=function(){function e(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new sD(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new cD(n._firestore,n._userDataWriter,r.key,r,new sD(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))},e.prototype.docChanges=function(e){void 0===e&&(e={});var t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new HT(WT.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new cD(e._firestore,e._userDataWriter,t.doc.key,t.doc,new sD(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new cD(e._firestore,e._userDataWriter,t.doc.key,t.doc,new sD(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,o=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(o=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:hD(t.type),doc:n,oldIndex:i,newIndex:o}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},e}();function hD(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ZT()}}function fD(e,t){return e instanceof uD&&t instanceof uD?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof lD&&t instanceof lD&&e._firestore===t._firestore&&bR(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dD(e){if(gk(e)&&0===e.explicitOrderBy.length)throw new HT(WT.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var pD=function(){};function vD(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];e=o._apply(e)}return e}var gD=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).jc=t,i.Wc=n,i.Gc=r,i.type="where",i}return Th(t,e),t.prototype._apply=function(e){var t,n,r,i=UR(e.firestore),o=function(e,t,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new HT(WT.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){TD(a,o);for(var u=[],c=0,l=a;c<l.length;c++){var h=l[c];u.push(ED(r,e,h))}s={arrayValue:{values:u}}}else s=ED(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||TD(a,o),s=QR(n,"where",a,"in"===o||"not-in"===o);var f=XI.create(i,o,s);return function(e,t){if(t.g()){var n=yk(e);if(null!==n&&!n.isEqual(t.field))throw new HT(WT.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+t.field.toString()+"'");var r=mk(e);null!==r&&ID(e,t.field,r)}var i=function(e,t){for(var n=0,r=e.filters;n<r.length;n++){var i=r[n];if(t.indexOf(i.op)>=0)return i.op}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new HT(WT.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter."):new HT(WT.INVALID_ARGUMENT,"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+i.toString()+"' filters.")}(e,f),f}(e._query,0,i,e.firestore._databaseId,this.jc,this.Wc,this.Gc);return new pR(e.firestore,e.converter,(t=e._query,n=o,r=t.filters.concat([n]),new fk(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)))},t}(pD),mD=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).jc=t,r.zc=n,r.type="orderBy",r}return Th(t,e),t.prototype._apply=function(e){var t,n,r,i=function(e,t,n){if(null!==e.startAt)throw new HT(WT.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new HT(WT.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new uk(t,n);return function(e,t){if(null===mk(e)){var n=yk(e);null!==n&&ID(e,n,t.field)}}(e,r),r}(e._query,this.jc,this.zc);return new pR(e.firestore,e.converter,(t=e._query,n=i,r=t.explicitOrderBy.concat([n]),new fk(t.path,t.collectionGroup,r,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)))},t}(pD),yD=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Hc=n,i.Jc=r,i}return Th(t,e),t.prototype._apply=function(e){return new pR(e.firestore,e.converter,Ek(e._query,this.Hc,this.Jc))},t}(pD),bD=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Yc=n,i.Xc=r,i}return Th(t,e),t.prototype._apply=function(e){var t,n,r=_D(e,this.type,this.Yc,this.Xc);return new pR(e.firestore,e.converter,(t=e._query,n=r,new fk(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,n,t.endAt)))},t}(pD),wD=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Yc=n,i.Xc=r,i}return Th(t,e),t.prototype._apply=function(e){var t,n,r=_D(e,this.type,this.Yc,this.Xc);return new pR(e.firestore,e.converter,(t=e._query,n=r,new fk(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,n)))},t}(pD);function _D(e,t,n,r){if(n[0]=yf(n[0]),n[0]instanceof iD)return function(e,t,n,r,i){if(!r)throw new HT(WT.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=wk(e);a<s.length;a++){var u=s[a];if(u.field.isKeyField())o.push(MI(t,r.key));else{var c=r.data.field(u.field);if(EI(c))throw new HT(WT.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new HT(WT.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new ak(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=UR(e.firestore);return function(e,t,n,r,i,o){var a=e.explicitOrderBy;if(i.length>a.length)throw new HT(WT.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.isKeyField()){if("string"!=typeof c)throw new HT(WT.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!bk(e)&&-1!==c.indexOf("/"))throw new HT(WT.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=e.path.child(dI.fromString(c));if(!NI.isDocumentKey(l))throw new HT(WT.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new NI(l);s.push(MI(t,h))}else{var f=QR(n,r,c);s.push(f)}}return new ak(s,o)}(e._query,e.firestore._databaseId,i,t,n,r)}function ED(e,t,n){if("string"==typeof(n=yf(n))){if(""===n)throw new HT(WT.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!bk(t)&&-1!==n.indexOf("/"))throw new HT(WT.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(dI.fromString(n));if(!NI.isDocumentKey(r))throw new HT(WT.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return MI(e,new NI(r))}if(n instanceof dR)return MI(e,n._key);throw new HT(WT.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+uR(n)+".")}function TD(e,t){if(!Array.isArray(e)||0===e.length)throw new HT(WT.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new HT(WT.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function ID(e,t,n){if(!n.isEqual(t))throw new HT(WT.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kD=function(){function e(){}return e.prototype.convertValue=function(e,t){switch(void 0===t&&(t="none"),AI(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wI(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(_I(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ZT()}},e.prototype.convertObject=function(e,t){var n=this,r={};return lI(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r},e.prototype.convertGeoPoint=function(e){return new PR(wI(e.latitude),wI(e.longitude))},e.prototype.convertArray=function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))},e.prototype.convertServerTimestamp=function(e,t){switch(t){case"previous":var n=TI(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(II(e));default:return null}},e.prototype.convertTimestamp=function(e){var t=bI(e);return new sI(t.seconds,t.nanos)},e.prototype.convertDocumentKey=function(e,t){var n=dI.fromString(e);eI(pC(n));var r=new $P(n.get(1),n.get(3)),i=new NI(n.popFirst(5));return r.isEqual(t)||YT("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+t.projectId+"/"+t.database+") instead."),i},e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SD(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var CD=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return Th(t,e),t.prototype.convertBytes=function(e){return new AR(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new dR(this.firestore,null,t)},t}(kD),ND=function(){function e(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=UR(e)}return e.prototype.set=function(e,t,n){this._verifyNotCommitted();var r=AD(e,this._firestore),i=SD(r.converter,t,n),o=jR(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,Hk.none())),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,a=AD(e,this._firestore);return o="string"==typeof(t=yf(t))||t instanceof NR?GR(this._dataReader,"WriteBatch.update",a._key,t,n,r):HR(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(o.toMutation(a._key,Hk.exists(!0))),this},e.prototype.delete=function(e){this._verifyNotCommitted();var t=AD(e,this._firestore);return this._mutations=this._mutations.concat(new sS(t._key,Hk.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new HT(WT.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AD(e,t){if((e=yf(e)).firestore!==t)throw new HT(WT.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xD=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return Th(t,e),t.prototype.convertBytes=function(e){return new AR(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new dR(this.firestore,null,t)},t}(kD);function PD(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=cR(e,dR);var o=cR(e.firestore,TR),a=UR(o);return DD(o,[("string"==typeof(t=yf(t))||t instanceof NR?GR(a,"updateDoc",e._key,t,n,r):HR(a,"updateDoc",e._key,t)).toMutation(e._key,Hk.exists(!0))])}function RD(e){for(var t,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];e=yf(e);var a={includeMetadataChanges:!1},s=0;"object"!=typeof i[s]||_R(i[s])||(a=i[s],s++);var u,c,l,h={includeMetadataChanges:a.includeMetadataChanges};if(_R(i[s])){var f=i[s];i[s]=null===(t=f.next)||void 0===t?void 0:t.bind(f),i[s+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[s+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(e instanceof dR)c=cR(e.firestore,TR),l=pk(e._key.path),u={next:function(t){i[s]&&i[s](OD(c,e,t))},error:i[s+1],complete:i[s+2]};else{var d=cR(e,pR);c=cR(d.firestore,TR),l=d._query;var p=new xD(c);u={next:function(e){i[s]&&i[s](new lD(c,p,d,e))},error:i[s+1],complete:i[s+2]},dD(e._query)}return function(e,t,n,r){var i=this,o=new RP(r),a=new Ux(t,o,n);return e.asyncQueue.enqueueAndForget((function(){return kh(i,void 0,void 0,(function(){var t;return Sh(this,(function(n){switch(n.label){case 0:return t=Dx,[4,WP(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))})),function(){o.Wo(),e.asyncQueue.enqueueAndForget((function(){return kh(i,void 0,void 0,(function(){var t;return Sh(this,(function(n){switch(n.label){case 0:return t=Ox,[4,WP(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))}))}}(IR(c),l,h,u)}function DD(e,t){return function(e,t){var n=this,r=new UC;return e.asyncQueue.enqueueAndForget((function(){return kh(n,void 0,void 0,(function(){var n;return Sh(this,(function(i){switch(i.label){case 0:return n=Jx,[4,KP(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(IR(e),t)}function OD(e,t,n){var r=n.docs.get(t._key),i=new xD(e);return new uD(e,i,t._key,r,new sD(n.hasPendingWrites,n.fromCache),t.converter)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LD=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this)._firestore=t,r}return Th(t,e),t.prototype.get=function(t){var n=this,r=AD(t,this._firestore),i=new xD(this._firestore);return e.prototype.get.call(this,t).then((function(e){return new uD(n._firestore,i,r._key,e._document,new sD(!1,!1),r.converter)}))},t}(function(){function e(e,t){this._firestore=e,this._transaction=t,this._dataReader=UR(e)}return e.prototype.get=function(e){var t=this,n=AD(e,this._firestore),r=new CD(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return ZT();var i=e[0];if(i.isFoundDocument())return new iD(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new iD(t._firestore,r,n._key,null,n.converter);throw ZT()}))},e.prototype.set=function(e,t,n){var r=AD(e,this._firestore),i=SD(r.converter,t,n),o=jR(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=AD(e,this._firestore);return o="string"==typeof(t=yf(t))||t instanceof NR?GR(this._dataReader,"Transaction.update",a._key,t,n,r):HR(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,o),this},e.prototype.delete=function(e){var t=AD(e,this._firestore);return this._transaction.delete(t._key),this},e}());
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MD(){if("undefined"==typeof Uint8Array)throw new HT(WT.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function FD(){if("undefined"==typeof atob)throw new HT(WT.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var UD=function(){function e(e){this._delegate=e}return e.fromBase64String=function(t){return FD(),new e(AR.fromBase64String(t))},e.fromUint8Array=function(t){return MD(),new e(AR.fromUint8Array(t))},e.prototype.toBase64=function(){return FD(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return MD(),this._delegate.toUint8Array()},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),jD=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(e,t){return function(e,t){CR(e=cR(e,TR));var n=IR(e),r=e._freezeSettings(),i=new xP;return SR(n,i,new NP(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})},e.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(e){CR(e=cR(e,TR));var t=IR(e),n=e._freezeSettings(),r=new xP;return SR(t,r,new AP(r,n.cacheSizeBytes))}(e._delegate)},e.prototype.clearIndexedDbPersistence=function(e){return function(e){var t=this;if(e._initialized&&!e._terminated)throw new HT(WT.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new UC;return e._queue.enqueueAndForgetEvenWhileRestricted((function(){return kh(t,void 0,void 0,(function(){var t;return Sh(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(e){return kh(this,void 0,void 0,(function(){var t;return Sh(this,(function(n){switch(n.label){case 0:return VC.yt()?(t=e+"main",[4,VC.delete(t)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(JN(e._databaseId,e._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return t=r.sent(),n.reject(t),[3,3];case 3:return[2]}}))}))})),n.promise}(e._delegate)},e}(),qD=function(){function e(e,t,n){var r=this;this._delegate=t,this.Zc=n,this.INTERNAL={delete:function(){return r.terminate()}},e instanceof $P||(this.tu=e)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||XT("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)},e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),function(e,t,n,r){void 0===r&&(r={});var i=(e=cR(e,fR))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==t&&XT("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},i),{host:t+":"+n,ssl:!1})),r.mockUserToken){var o=qh(r.mockUserToken),a=r.mockUserToken.sub||r.mockUserToken.user_id;if(!a)throw new HT(WT.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");e._credentials=new ZP(new XP(o,new AA(a)))}}(this._delegate,e,t,n)},e.prototype.enableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return kh(t,void 0,void 0,(function(){var t,n;return Sh(this,(function(r){switch(r.label){case 0:return[4,VP(e)];case 1:return t=r.sent(),[4,zP(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!0),i=n,o=tI(i),o.Or.delete(0),tx(o))]}var i,o}))}))}))}(IR(cR(this._delegate,TR)))},e.prototype.disableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return kh(t,void 0,void 0,(function(){var t,n;return Sh(this,(function(r){switch(r.label){case 0:return[4,VP(e)];case 1:return t=r.sent(),[4,zP(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!1),function(e){return kh(this,void 0,void 0,(function(){var t;return Sh(this,(function(n){switch(n.label){case 0:return(t=tI(e)).Or.add(0),[4,nx(t)];case 1:return n.sent(),t.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(IR(cR(this._delegate,TR)))},e.prototype.enablePersistence=function(e){var t=!1,n=!1;return e&&oR("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(e){var t=this,n=new UC;return e.asyncQueue.enqueueAndForget((function(){return kh(t,void 0,void 0,(function(){var t;return Sh(this,(function(r){switch(r.label){case 0:return t=iP,[4,KP(e)];case 1:return[2,t.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(IR(cR(this._delegate,TR)))},e.prototype.onSnapshotsInSync=function(e){return t=this._delegate,n=e,function(e,t){var n=this,r=new RP(t);return e.asyncQueue.enqueueAndForget((function(){return kh(n,void 0,void 0,(function(){var t;return Sh(this,(function(n){switch(n.label){case 0:return t=function(e,t){tI(e).Gr.add(t),t.next()},[4,WP(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),e.asyncQueue.enqueueAndForget((function(){return kh(n,void 0,void 0,(function(){var t;return Sh(this,(function(n){switch(n.label){case 0:return t=function(e,t){tI(e).Gr.delete(t)},[4,WP(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))}))}}(IR(t=cR(t,TR)),_R(n)?n:{next:n});var t,n},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new HT(WT.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new eO(this,gR(this._delegate,e))}catch(t){throw HD(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(e){try{return new WD(this,mR(this._delegate,e))}catch(t){throw HD(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(e){try{return new XD(this,function(e,t){if(e=cR(e,fR),rR("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new HT(WT.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new pR(e,null,(n=t,new fk(dI.emptyPath(),n)));var n}(this._delegate,e))}catch(t){throw HD(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(e){var t,n=this;return function(e,t){var n=this,r=new UC;return e.asyncQueue.enqueueAndForget((function(){return kh(n,void 0,void 0,(function(){var n;return Sh(this,(function(i){switch(i.label){case 0:return[4,(o=e,qP(o).then((function(e){return e.datastore})))];case 1:return n=i.sent(),new LP(e.asyncQueue,n,t,r).run(),[2]}var o}))}))})),r.promise}(IR(t=this._delegate),(function(r){return function(t){return e(new BD(n,t))}(new LD(t,r))}))},e.prototype.batch=function(){var e=this;return IR(this._delegate),new zD(new ND(this._delegate,(function(t){return DD(e._delegate,t)})))},e.prototype.loadBundle=function(e){throw new HT(WT.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(e){throw new HT(WT.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),VD=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return Th(t,e),t.prototype.convertBytes=function(e){return new UD(new AR(e))},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return WD.eu(t,this.firestore,null)},t}(kD);var BD=function(){function e(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new VD(e)}return e.prototype.get=function(e){var t=this,n=tO(e);return this._delegate.get(n).then((function(e){return new $D(t._firestore,new uD(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))},e.prototype.set=function(e,t,n){var r=tO(e);return n?(iR("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=tO(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,Ah([a,t,n],i)),this},e.prototype.delete=function(e){var t=tO(e);return this._delegate.delete(t),this},e}(),zD=function(){function e(e){this._delegate=e}return e.prototype.set=function(e,t,n){var r=tO(e);return n?(iR("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=tO(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,Ah([a,t,n],i)),this},e.prototype.delete=function(e){var t=tO(e);return this._delegate.delete(t),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),KD=function(){function e(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}return e.prototype.fromFirestore=function(e,t){var n=new cD(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new YD(this._firestore,n),null!=t?t:{})},e.prototype.toFirestore=function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)},e.nu=function(t,n){var r=e.su,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new VD(t),n),i.set(n,o)),o},e}();KD.su=new WeakMap;var WD=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new VD(e)}return e.iu=function(t,n,r){if(t.length%2!=0)throw new HT(WT.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new dR(n._delegate,r,new NI(t)))},e.eu=function(t,n,r){return new e(n,new dR(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new eO(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new eO(this.firestore,gR(this._delegate,e))}catch(t){throw HD(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(e){return(e=yf(e))instanceof dR&&yR(this._delegate,e)},e.prototype.set=function(e,t){t=iR("DocumentReference.set",t);try{return function(e,t,n){e=cR(e,dR);var r=cR(e.firestore,TR),i=SD(e.converter,t,n);return DD(r,[jR(UR(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Hk.none())])}(this._delegate,e,t)}catch(n){throw HD(n,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?PD(this._delegate,e):PD.apply(void 0,Ah([this._delegate,e,t],n))}catch(i){throw HD(i,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return DD(cR((e=this._delegate).firestore,TR),[new sS(e._key,Hk.none())]);var e},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=GD(t),i=QD(t,(function(t){return new $D(e.firestore,new uD(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return RD(this._delegate,r,i)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=cR(e,dR);var t=cR(e.firestore,TR),n=IR(t),r=new xD(t);return function(e,t){var n=this,r=new UC;return e.asyncQueue.enqueueAndForget((function(){return kh(n,void 0,void 0,(function(){var n;return Sh(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return kh(this,void 0,void 0,(function(){var r,i;return Sh(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,(a=e,s=t,u=tI(a),u.persistence.runTransaction("read document","readonly",(function(e){return u.Mn.mn(e,s)})))];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new HT(WT.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Cx(r,"Failed to get document '"+t+" from cache"),n.reject(i),[3,3];case 3:return[2]}var a,s,u}))}))},[4,BP(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._key).then((function(n){return new uD(t,r,e._key,n,new sD(null!==n&&n.hasLocalMutations,!0),e.converter)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=cR(e,dR);var t=cR(e.firestore,TR);return HP(IR(t),e._key,{source:"server"}).then((function(n){return OD(t,e,n)}))}(this._delegate):function(e){e=cR(e,dR);var t=cR(e.firestore,TR);return HP(IR(t),e._key).then((function(n){return OD(t,e,n)}))}(this._delegate)).then((function(e){return new $D(t.firestore,new uD(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(KD.nu(this.firestore,t)):this._delegate.withConverter(null))},e}();function HD(e,t,n){return e.message=e.message.replace(t,n),e}function GD(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if("object"==typeof r&&!_R(r))return r}return{}}function QD(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=_R(e[0])?e[0]:_R(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var $D=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"ref",{get:function(){return new WD(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(e){return this._delegate.data(e)},e.prototype.get=function(e,t){return this._delegate.get(e,t)},e.prototype.isEqual=function(e){return fD(this._delegate,e._delegate)},e}(),YD=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Th(t,e),t.prototype.data=function(e){return this._delegate.data(e)},t}($D),XD=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new VD(e)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,vD(this._delegate,(o=r,a=i=n,s=aD("where",t),new gD(s,a,o))))}catch(i){throw HD(i,/(orderBy|where)\(\)/,"Query.$1()")}var i,o,a,s},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,vD(this._delegate,function(e,t){void 0===t&&(t="asc");var n=t,r=aD("orderBy",e);return new mD(r,n)}(t,n)))}catch(r){throw HD(r,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,vD(this._delegate,(lR("limit",n=t),new yD("limit",n,"F"))))}catch(r){throw HD(r,"limit()","Query.limit()")}var n},e.prototype.limitToLast=function(t){try{return new e(this.firestore,vD(this._delegate,(lR("limitToLast",n=t),new yD("limitToLast",n,"L"))))}catch(r){throw HD(r,"limitToLast()","Query.limitToLast()")}var n},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,vD(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new bD("startAt",e,!0)}.apply(void 0,t)))}catch(r){throw HD(r,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,vD(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new bD("startAfter",e,!1)}.apply(void 0,t)))}catch(r){throw HD(r,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,vD(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new wD("endBefore",e,!0)}.apply(void 0,t)))}catch(r){throw HD(r,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,vD(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new wD("endAt",e,!1)}.apply(void 0,t)))}catch(r){throw HD(r,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(e){return bR(this._delegate,e._delegate)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=cR(e,pR);var t=cR(e.firestore,TR),n=IR(t),r=new xD(t);return function(e,t){var n=this,r=new UC;return e.asyncQueue.enqueueAndForget((function(){return kh(n,void 0,void 0,(function(){var n;return Sh(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return kh(this,void 0,void 0,(function(){var r,i,o,a,s;return Sh(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,dA(e,t,!0)];case 1:return s=u.sent(),r=new Wx(t,s.Bn),i=r._o(s.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return a=u.sent(),s=Cx(a,"Failed to execute query '"+t+" against cache"),n.reject(s),[3,3];case 3:return[2]}}))}))},[4,BP(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._query).then((function(n){return new lD(t,r,e,n)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=cR(e,pR);var t=cR(e.firestore,TR),n=IR(t),r=new xD(t);return GP(n,e._query,{source:"server"}).then((function(n){return new lD(t,r,e,n)}))}(this._delegate):function(e){e=cR(e,pR);var t=cR(e.firestore,TR),n=IR(t),r=new xD(t);return dD(e._query),GP(n,e._query).then((function(n){return new lD(t,r,e,n)}))}(this._delegate)).then((function(e){return new ZD(t.firestore,new lD(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=GD(t),i=QD(t,(function(t){return new ZD(e.firestore,new lD(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return RD(this._delegate,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(KD.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),JD=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new YD(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),ZD=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"query",{get:function(){return new XD(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map((function(t){return new YD(e._firestore,t)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new JD(t._firestore,e)}))},e.prototype.forEach=function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new YD(n._firestore,r))}))},e.prototype.isEqual=function(e){return fD(this._delegate,e._delegate)},e}(),eO=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).firestore=t,r._delegate=n,r}return Th(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return e?new WD(this.firestore,e):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(e){try{return new WD(this.firestore,void 0===e?mR(this._delegate):mR(this._delegate,e))}catch(t){throw HD(t,"doc()","CollectionReference.doc()")}},t.prototype.add=function(e){var t,n,r,i,o,a=this;return(t=this._delegate,n=e,r=cR(t.firestore,TR),i=mR(t),o=SD(t.converter,n),DD(r,[jR(UR(t.firestore),"addDoc",i._key,o,null!==t.converter,{}).toMutation(i._key,Hk.exists(!1))]).then((function(){return i}))).then((function(e){return new WD(a.firestore,e)}))},t.prototype.isEqual=function(e){return yR(this._delegate,e._delegate)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(KD.nu(this.firestore,e)):this._delegate.withConverter(null))},t}(XD);function tO(e){return cR(e,dR)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nO=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._delegate=new(NR.bind.apply(NR,Ah([void 0],e)))}return e.documentId=function(){return new e(vI.keyField().canonicalString())},e.prototype.isEqual=function(e){return(e=yf(e))instanceof NR&&this._delegate._internalPath.isEqual(e._internalPath)},e}(),rO=function(){function e(e){this._delegate=e}return e.serverTimestamp=function(){var t=new BR("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new qR("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new zR("arrayUnion",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new KR("arrayRemove",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=new WR("increment",t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iO(e){return t=this._delegate,n=e,r=IR(t=cR(t,TR)),i=new ER,function(e,t,n,r){var i,o,a,s=this,u=(i=n,o=GA(t),a=function(e,t){if(e instanceof Uint8Array)return PP(e,t);if(e instanceof ArrayBuffer)return PP(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof i?(new TextEncoder).encode(i):i),new DP(a,o));e.asyncQueue.enqueueAndForget((function(){return kh(s,void 0,void 0,(function(){var t;return Sh(this,(function(n){switch(n.label){case 0:return t=SP,[4,KP(e)];case 1:return t.apply(void 0,[n.sent(),u,r]),[2]}}))}))}))}(r,t._databaseId,n,i),i;var t,n,r,i}function oO(e){var t,n,r=this;return(t=this._delegate,n=e,function(e,t){var n=this;return e.asyncQueue.enqueue((function(){return kh(n,void 0,void 0,(function(){var n;return Sh(this,(function(r){switch(r.label){case 0:return n=function(e,t){var n=tI(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ke.getNamedQuery(e,t)}))},[4,BP(e)];case 1:return[2,n.apply(void 0,[r.sent(),t])]}}))}))}))}(IR(t=cR(t,TR)),n).then((function(e){return e?new pR(t,null,e.query):null}))).then((function(e){return e?new XD(r,e):null}))}var aO,sO,uO={Firestore:qD,GeoPoint:PR,Timestamp:sI,Blob:UD,Transaction:BD,WriteBatch:zD,DocumentReference:WD,DocumentSnapshot:$D,Query:XD,QueryDocumentSnapshot:YD,QuerySnapshot:ZD,CollectionReference:eO,FieldPath:nO,FieldValue:rO,setLogLevel:function(e){var t;t=e,GT.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(aO=Gf).INTERNAL.registerComponent(new bf("firestore",(function(e){return function(e,t){return new qD(e,new TR(e,t),new jD)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},uO))),aO.registerVersion("@firebase/firestore","2.3.10"),(sO=qD).prototype.loadBundle=iO,sO.prototype.namedQuery=oO;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var cO={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},lO=function(e){function t(n,r,i){var o=e.call(this,r)||this;return Object.setPrototypeOf(o,t.prototype),o.code=n,o.details=i,o}return Th(t,e),t}(Error);var hO=function(){function e(e,t){var n=this;this.auth=null,this.messaging=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then((function(e){return n.auth=e}),(function(){})),this.messaging||t.get().then((function(e){return n.messaging=e}),(function(){}))}return e.prototype.getAuthToken=function(){return kh(this,void 0,void 0,(function(){var e;return Sh(this,(function(t){switch(t.label){case 0:if(!this.auth)return[2,void 0];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(e=t.sent())?[2,e.accessToken]:[2,void 0];case 3:return t.sent(),[2,void 0];case 4:return[2]}}))}))},e.prototype.getInstanceIdToken=function(){return kh(this,void 0,void 0,(function(){return Sh(this,(function(e){switch(e.label){case 0:if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.messaging.getToken()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,void 0];case 4:return[2]}}))}))},e.prototype.getContext=function(){return kh(this,void 0,void 0,(function(){var e,t;return Sh(this,(function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return e=n.sent(),[4,this.getInstanceIdToken()];case 2:return t=n.sent(),[2,{authToken:e,instanceIdToken:t}]}}))}))},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fO(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}var dO=function(){function e(){}return e.prototype.encode=function(e){var t=this;if(null==e)return null;if(e instanceof Number&&(e=e.valueOf()),"number"==typeof e&&isFinite(e))return e;if(!0===e||!1===e)return e;if("[object String]"===Object.prototype.toString.call(e))return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map((function(e){return t.encode(e)}));if("function"==typeof e||"object"==typeof e)return fO(e,(function(e){return t.encode(e)}));throw new Error("Data cannot be encoded in JSON: "+e)},e.prototype.decode=function(e){var t=this;if(null==e)return e;if(e["@type"])switch(e["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(e.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+e);return n;default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map((function(e){return t.decode(e)})):"function"==typeof e||"object"==typeof e?fO(e,(function(e){return t.decode(e)})):e},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pO=function(){function e(e,t,n,r,i,o){var a=this;void 0===i&&(i="us-central1"),this.app_=e,this.appCheckProvider=r,this.fetchImpl=o,this.serializer=new dO,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(a.deleteService())}},this.contextProvider=new hO(t,n),this.cancelAllRequests=new Promise((function(e){a.deleteService=function(){return e()}}));try{var s=new URL(i);this.customDomain=s.origin,this.region="us-central1"}catch(aO){this.customDomain=null,this.region=i}}return Object.defineProperty(e.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),e.prototype._url=function(e){var t=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+t+"/"+this.region+"/"+e:null!==this.customDomain?this.customDomain+"/"+e:"https://"+this.region+"-"+t+".cloudfunctions.net/"+e},e.prototype.useEmulator=function(e,t){this.emulatorOrigin="http://"+e+":"+t},e.prototype.useFunctionsEmulator=function(e){this.emulatorOrigin=e},e.prototype.httpsCallable=function(e,t){var n=this;return function(r){return n.call(e,r,t||{})}},e.prototype.postJSON=function(e,t,n){return kh(this,void 0,void 0,(function(){var r,i,o;return Sh(this,(function(a){switch(a.label){case 0:return n["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:null!==(r=a.sent())&&(n["X-Firebase-AppCheck"]=r),a.label=2;case 2:return a.trys.push([2,4,,5]),[4,this.fetchImpl(e,{method:"POST",body:JSON.stringify(t),headers:n})];case 3:return i=a.sent(),[3,5];case 4:return a.sent(),[2,{status:0,json:null}];case 5:o=null,a.label=6;case 6:return a.trys.push([6,8,,9]),[4,i.json()];case 7:return o=a.sent(),[3,9];case 8:return a.sent(),[3,9];case 9:return[2,{status:i.status,json:o}]}}))}))},e.prototype.getAppCheckToken=function(){return kh(this,void 0,void 0,(function(){var e;return Sh(this,(function(t){switch(t.label){case 0:return(e=this.appCheckProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:return[2,t.sent().token];case 2:return[2,null]}}))}))},e.prototype.call=function(e,t,n){return kh(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,h,f,d;return Sh(this,(function(p){switch(p.label){case 0:return r=this._url(e),t=this.serializer.encode(t),i={data:t},o={},[4,this.contextProvider.getContext()];case 1:return(a=p.sent()).authToken&&(o.Authorization="Bearer "+a.authToken),a.instanceIdToken&&(o["Firebase-Instance-ID-Token"]=a.instanceIdToken),s=n.timeout||7e4,u=function(e){var t,n=new Promise((function(n,r){t=setTimeout((function(){r(new lO("deadline-exceeded","deadline-exceeded"))}),e)}));return{timer:t,promise:n}}(s),c=u.timer,l=u.promise,[4,Promise.race([vO(c,this.postJSON(r,i,o)),l,vO(c,this.cancelAllRequests)])];case 2:if(!(h=p.sent()))throw new lO("cancelled","Firebase Functions instance was deleted.");if(f=function(e,t,n){var r=function(e){if(e>=200&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(e),i=r,o=void 0;try{var a=t&&t.error;if(a){var s=a.status;if("string"==typeof s){if(!cO[s])return new lO("internal","internal");r=cO[s],i=s}var u=a.message;"string"==typeof u&&(i=u),void 0!==(o=a.details)&&(o=n.decode(o))}}catch(aO){}return"ok"===r?null:new lO(r,i,o)}(h.status,h.json,this.serializer))throw f;if(!h.json)throw new lO("internal","Response is not valid JSON object.");if(void 0===(d=h.json.data)&&(d=h.json.result),void 0===d)throw new lO("internal","Response is missing data field.");return[2,{data:this.serializer.decode(d)}]}}))}))},e}();function vO(e,t){return kh(this,void 0,void 0,(function(){var n;return Sh(this,(function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),clearTimeout(e),[2,n]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gO(e){return Array.prototype.slice.call(e)}function mO(e){return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function yO(e,t,n){var r,i=new Promise((function(i,o){mO(r=e[t].apply(e,n)).then(i,o)}));return i.request=r,i}function bO(e,t,n){var r=yO(e,t,n);return r.then((function(e){if(e)return new kO(e,r.request)}))}function wO(e,t,n){n.forEach((function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})}))}function _O(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return yO(this[t],r,arguments)})}))}function EO(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})}))}function TO(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return bO(this[t],r,arguments)})}))}function IO(e){this._index=e}function kO(e,t){this._cursor=e,this._request=t}function SO(e){this._store=e}function CO(e){this._tx=e,this.complete=new Promise((function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}}))}function NO(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new CO(n)}function AO(e){this._db=e}function xO(e,t,n){var r=yO(indexedDB,"open",[e,t]),i=r.request;return i&&(i.onupgradeneeded=function(e){n&&n(new NO(i.result,e.oldVersion,i.transaction))}),r.then((function(e){return new AO(e)}))}function PO(e){return yO(indexedDB,"deleteDatabase",[e])}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
!function(e,t){var n={Functions:pO};e.INTERNAL.registerComponent(new bf("functions",(function(e,n){var r=n.instanceIdentifier,i=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal"),s=e.getProvider("messaging");return new pO(i,o,s,a,r,t)}),"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}(Gf,fetch.bind(self)),Gf.registerVersion("@firebase/functions","0.6.14"),wO(IO,"_index",["name","keyPath","multiEntry","unique"]),_O(IO,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),TO(IO,"_index",IDBIndex,["openCursor","openKeyCursor"]),wO(kO,"_cursor",["direction","key","primaryKey","value"]),_O(kO,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(e){e in IDBCursor.prototype&&(kO.prototype[e]=function(){var t=this,n=arguments;return Promise.resolve().then((function(){return t._cursor[e].apply(t._cursor,n),mO(t._request).then((function(e){if(e)return new kO(e,t._request)}))}))})})),SO.prototype.createIndex=function(){return new IO(this._store.createIndex.apply(this._store,arguments))},SO.prototype.index=function(){return new IO(this._store.index.apply(this._store,arguments))},wO(SO,"_store",["name","keyPath","indexNames","autoIncrement"]),_O(SO,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),TO(SO,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),EO(SO,"_store",IDBObjectStore,["deleteIndex"]),CO.prototype.objectStore=function(){return new SO(this._tx.objectStore.apply(this._tx,arguments))},wO(CO,"_tx",["objectStoreNames","mode"]),EO(CO,"_tx",IDBTransaction,["abort"]),NO.prototype.createObjectStore=function(){return new SO(this._db.createObjectStore.apply(this._db,arguments))},wO(NO,"_db",["name","version","objectStoreNames"]),EO(NO,"_db",IDBDatabase,["deleteObjectStore","close"]),AO.prototype.transaction=function(){return new CO(this._db.transaction.apply(this._db,arguments))},wO(AO,"_db",["name","version","objectStoreNames"]),EO(AO,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(e){[SO,IO].forEach((function(t){e in t.prototype&&(t.prototype[e.replace("open","iterate")]=function(){var t=gO(arguments),n=t[t.length-1],r=this._store||this._index,i=r[e].apply(r,t.slice(0,-1));i.onsuccess=function(){n(i.result)}})}))})),[IO,SO].forEach((function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise((function(i){n.iterateCursor(e,(function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():i(r)):i(r)}))}))})}));var RO,DO=((RO={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',RO["not-registered"]="Firebase Installation is not registered.",RO["installation-not-found"]="Firebase Installation not found.",RO["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',RO["app-offline"]="Could not process request. Application offline.",RO["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",RO),OO=new Xh("installations","Installations",DO);function LO(e){return e instanceof Yh&&e.code.includes("request-failed")}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MO(e){return"https://firebaseinstallations.googleapis.com/v1/projects/"+e.projectId+"/installations"}function FO(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function UO(e,t){return kh(this,void 0,void 0,(function(){var n,r;return Sh(this,(function(i){switch(i.label){case 0:return[4,t.json()];case 1:return n=i.sent(),r=n.error,[2,OO.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}}))}))}function jO(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function qO(e,t){var n=t.refreshToken,r=jO(e);return r.append("Authorization",function(e){return"FIS_v2 "+e}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(n)),r}function VO(e){return kh(this,void 0,void 0,(function(){var t;return Sh(this,(function(n){switch(n.label){case 0:return[4,e()];case 1:return(t=n.sent()).status>=500&&t.status<600?[2,e()]:[2,t]}}))}))}function BO(e,t){var n=t.fid;return kh(this,void 0,void 0,(function(){var t,r,i,o,a,s;return Sh(this,(function(u){switch(u.label){case 0:return t=MO(e),r=jO(e),i={fid:n,authVersion:"FIS_v2",appId:e.appId,sdkVersion:"w:0.4.31"},o={method:"POST",headers:r,body:JSON.stringify(i)},[4,VO((function(){return fetch(t,o)}))];case 1:return(a=u.sent()).ok?[4,a.json()]:[3,3];case 2:return s=u.sent(),[2,{fid:s.fid||n,registrationStatus:2,refreshToken:s.refreshToken,authToken:FO(s.authToken)}];case 3:return[4,UO("Create Installation",a)];case 4:throw u.sent()}}))}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zO(e){return new Promise((function(t){setTimeout(t,e)}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var KO=/^[cdef][\w-]{21}$/;function WO(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){return(t=e,btoa(String.fromCharCode.apply(String,Ah([],Nh(t)))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e);return KO.test(t)?t:""}catch(n){return""}}function HO(e){return e.appName+"!"+e.appId}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var GO=new Map;function QO(e,t){var n=HO(e);$O(n,t),function(e,t){var n=XO();n&&n.postMessage({key:e,fid:t});JO()}(n,t)}function $O(e,t){var n,r,i=GO.get(e);if(i)try{for(var o=Ch(i),a=o.next();!a.done;a=o.next()){(0,a.value)(t)}}catch(s){n={error:s}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var YO=null;function XO(){return!YO&&"BroadcastChannel"in self&&((YO=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){$O(e.data.key,e.data.fid)}),YO}function JO(){0===GO.size&&YO&&(YO.close(),YO=null)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ZO,eL="firebase-installations-store",tL=null;function nL(){return tL||(tL=xO("firebase-installations-database",1,(function(e){switch(e.oldVersion){case 0:e.createObjectStore(eL)}}))),tL}function rL(e,t){return kh(this,void 0,void 0,(function(){var n,r,i,o,a;return Sh(this,(function(s){switch(s.label){case 0:return n=HO(e),[4,nL()];case 1:return r=s.sent(),i=r.transaction(eL,"readwrite"),[4,(o=i.objectStore(eL)).get(n)];case 2:return a=s.sent(),[4,o.put(t,n)];case 3:return s.sent(),[4,i.complete];case 4:return s.sent(),a&&a.fid===t.fid||QO(e,t.fid),[2,t]}}))}))}function iL(e){return kh(this,void 0,void 0,(function(){var t,n,r;return Sh(this,(function(i){switch(i.label){case 0:return t=HO(e),[4,nL()];case 1:return n=i.sent(),[4,(r=n.transaction(eL,"readwrite")).objectStore(eL).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function oL(e,t){return kh(this,void 0,void 0,(function(){var n,r,i,o,a,s;return Sh(this,(function(u){switch(u.label){case 0:return n=HO(e),[4,nL()];case 1:return r=u.sent(),i=r.transaction(eL,"readwrite"),[4,(o=i.objectStore(eL)).get(n)];case 2:return a=u.sent(),void 0!==(s=t(a))?[3,4]:[4,o.delete(n)];case 3:return u.sent(),[3,6];case 4:return[4,o.put(s,n)];case 5:u.sent(),u.label=6;case 6:return[4,i.complete];case 7:return u.sent(),!s||a&&a.fid===s.fid||QO(e,s.fid),[2,s]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aL(e){return kh(this,void 0,void 0,(function(){var t,n,r;return Sh(this,(function(i){switch(i.label){case 0:return[4,oL(e,(function(n){var r=function(e){return cL(e||{fid:WO(),registrationStatus:0})}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(OO.create("app-offline"))};var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:function(e,t){return kh(this,void 0,void 0,(function(){var n,r;return Sh(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,BO(e,t)];case 1:return n=i.sent(),[2,rL(e,n)];case 2:return LO(r=i.sent())&&409===r.customData.serverCode?[4,iL(e)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,rL(e,{fid:t.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}}))}))}(e,n)}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:sL(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry}))];case 1:return""!==(n=i.sent()).fid?[3,3]:(r={},[4,t]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:t}]}}))}))}function sL(e){return kh(this,void 0,void 0,(function(){var t,n,r,i;return Sh(this,(function(o){switch(o.label){case 0:return[4,uL(e)];case 1:t=o.sent(),o.label=2;case 2:return 1!==t.registrationStatus?[3,5]:[4,zO(100)];case 3:return o.sent(),[4,uL(e)];case 4:return t=o.sent(),[3,2];case 5:return 0!==t.registrationStatus?[3,7]:[4,aL(e)];case 6:return n=o.sent(),r=n.installationEntry,(i=n.registrationPromise)?[2,i]:[2,r];case 7:return[2,t]}}))}))}function uL(e){return oL(e,(function(e){if(!e)throw OO.create("installation-not-found");return cL(e)}))}function cL(e){return 1===(t=e).registrationStatus&&t.registrationTime+1e4<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}function lL(e,t){var n=e.appConfig,r=e.platformLoggerProvider;return kh(this,void 0,void 0,(function(){var e,i,o,a,s,u,c;return Sh(this,(function(l){switch(l.label){case 0:return e=function(e,t){var n=t.fid;return MO(e)+"/"+n+"/authTokens:generate"}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(n,t),i=qO(n,t),(o=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",o.getPlatformInfoString()),a={installation:{sdkVersion:"w:0.4.31"}},s={method:"POST",headers:i,body:JSON.stringify(a)},[4,VO((function(){return fetch(e,s)}))];case 1:return(u=l.sent()).ok?[4,u.json()]:[3,3];case 2:return c=l.sent(),[2,FO(c)];case 3:return[4,UO("Generate Auth Token",u)];case 4:throw l.sent()}}))}))}function hL(e,t){return void 0===t&&(t=!1),kh(this,void 0,void 0,(function(){var n,r,i;return Sh(this,(function(o){switch(o.label){case 0:return[4,oL(e.appConfig,(function(r){if(!dL(r))throw OO.create("not-registered");var i=r.authToken;if(!t&&function(e){return 2===e.requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+36e5}(e)}(i))return r;if(1===i.requestStatus)return n=function(e,t){return kh(this,void 0,void 0,(function(){var n,r;return Sh(this,(function(i){switch(i.label){case 0:return[4,fL(e.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,zO(100)];case 3:return i.sent(),[4,fL(e.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,hL(e,t)]:[2,r]}}))}))}(e,t),r;if(!navigator.onLine)throw OO.create("app-offline");var o=function(e){var t={requestStatus:1,requestTime:Date.now()};return Ih(Ih({},e),{authToken:t})}(r);return n=function(e,t){return kh(this,void 0,void 0,(function(){var n,r,i;return Sh(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,lL(e,t)];case 1:return n=o.sent(),i=Ih(Ih({},t),{authToken:n}),[4,rL(e.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return!LO(r=o.sent())||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,iL(e.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=Ih(Ih({},t),{authToken:{requestStatus:0}}),[4,rL(e.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}}))}))}(e,o),o}))];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}}))}))}function fL(e){return oL(e,(function(e){if(!dL(e))throw OO.create("not-registered");var t,n=e.authToken;return 1===(t=n).requestStatus&&t.requestTime+1e4<Date.now()?Ih(Ih({},e),{authToken:{requestStatus:0}}):e}))}function dL(e){return void 0!==e&&2===e.registrationStatus}function pL(e){return kh(this,void 0,void 0,(function(){var t;return Sh(this,(function(n){switch(n.label){case 0:return[4,aL(e)];case 1:return(t=n.sent().registrationPromise)?[4,t]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vL(e,t){return kh(this,void 0,void 0,(function(){var n,r,i,o;return Sh(this,(function(a){switch(a.label){case 0:return n=function(e,t){var n=t.fid;return MO(e)+"/"+n}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e,t),r=qO(e,t),i={method:"DELETE",headers:r},[4,VO((function(){return fetch(n,i)}))];case 1:return(o=a.sent()).ok?[3,3]:[4,UO("Delete Installation",o)];case 2:throw a.sent();case 3:return[2]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function gL(e,t){var n=e.appConfig;return function(e,t){XO();var n=HO(e),r=GO.get(n);r||(r=new Set,GO.set(n,r)),r.add(t)}(n,t),function(){!function(e,t){var n=HO(e),r=GO.get(n);r&&(r.delete(t),0===r.size&&GO.delete(n),JO())}(n,t)}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mL(e){return OO.create("missing-app-config-values",{valueName:e})}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(e){e.INTERNAL.registerComponent(new bf("installations",(function(e){var t=e.getProvider("app").getImmediate(),n={appConfig:function(e){var t,n;if(!e||!e.options)throw mL("App Configuration");if(!e.name)throw mL("App Name");try{for(var r=Ch(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!e.options[o])throw mL(o)}}catch(a){t={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t),platformLoggerProvider:e.getProvider("platform-logger")};return{app:t,getId:function(){
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
return function(e){return kh(this,void 0,void 0,(function(){var t,n,r;return Sh(this,(function(i){switch(i.label){case 0:return[4,aL(e.appConfig)];case 1:return t=i.sent(),n=t.installationEntry,(r=t.registrationPromise)?r.catch(console.error):hL(e).catch(console.error),[2,n.fid]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(n)},getToken:function(e){return function(e,t){return void 0===t&&(t=!1),kh(this,void 0,void 0,(function(){return Sh(this,(function(n){switch(n.label){case 0:return[4,pL(e.appConfig)];case 1:return n.sent(),[4,hL(e,t)];case 2:return[2,n.sent().token]}}))}))}(n,e)},delete:function(){return function(e){return kh(this,void 0,void 0,(function(){var t,n;return Sh(this,(function(r){switch(r.label){case 0:return[4,oL(t=e.appConfig,(function(e){if(!e||0!==e.registrationStatus)return e}))];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw OO.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw OO.create("app-offline");case 3:return[4,vL(t,n)];case 4:return r.sent(),[4,iL(t)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}(n)},onIdChange:function(e){return gL(n,e)}}}),"PUBLIC")),e.registerVersion("@firebase/installations","0.4.31")}(Gf);var yL,bL,wL=((ZO={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',ZO["only-available-in-window"]="This method is available in a Window context.",ZO["only-available-in-sw"]="This method is available in a service worker context.",ZO["permission-default"]="The notification permission was not granted and dismissed instead.",ZO["permission-blocked"]="The notification permission was not granted and blocked instead.",ZO["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",ZO["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",ZO["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",ZO["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",ZO["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",ZO["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",ZO["token-update-no-token"]="FCM returned no token when updating the user to push.",ZO["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",ZO["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",ZO["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",ZO["invalid-vapid-key"]="The public VAPID key must be a string.",ZO["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",ZO),_L=new Xh("messaging","Messaging",wL),EL="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function TL(e){var t=new Uint8Array(e);return btoa(String.fromCharCode.apply(String,Ah([],Nh(t)))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function IL(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(bL=yL||(yL={})).PUSH_RECEIVED="push-received",bL.NOTIFICATION_CLICKED="notification-clicked";function kL(e){return kh(this,void 0,void 0,(function(){var t,n,r=this;return Sh(this,(function(i){switch(i.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(t=i.sent(),!t.map((function(e){return e.name})).includes("fcm_token_details_db"))return[2,null];i.label=2;case 2:return n=null,[4,xO("fcm_token_details_db",5,(function(t){return kh(r,void 0,void 0,(function(){var r,i,o,a;return Sh(this,(function(s){switch(s.label){case 0:return t.oldVersion<2?[2]:t.objectStoreNames.contains("fcm_token_object_Store")?[4,(r=t.transaction.objectStore("fcm_token_object_Store")).index("fcmSenderId").get(e)]:[2];case 1:return i=s.sent(),[4,r.clear()];case 2:if(s.sent(),!i)return[2];if(2===t.oldVersion){if(!(o=i).auth||!o.p256dh||!o.endpoint)return[2];n={token:o.fcmToken,createTime:null!==(a=o.createTime)&&void 0!==a?a:Date.now(),subscriptionOptions:{auth:o.auth,p256dh:o.p256dh,endpoint:o.endpoint,swScope:o.swScope,vapidKey:"string"==typeof o.vapidKey?o.vapidKey:TL(o.vapidKey)}}}else(3===t.oldVersion||4===t.oldVersion)&&(n={token:(o=i).fcmToken,createTime:o.createTime,subscriptionOptions:{auth:TL(o.auth),p256dh:TL(o.p256dh),endpoint:o.endpoint,swScope:o.swScope,vapidKey:TL(o.vapidKey)}});return[2]}}))}))}))];case 3:return i.sent().close(),[4,PO("fcm_token_details_db")];case 4:return i.sent(),[4,PO("fcm_vapid_details_db")];case 5:return i.sent(),[4,PO("undefined")];case 6:return i.sent(),[2,SL(n)?n:null]}}))}))}function SL(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return"number"==typeof e.createTime&&e.createTime>0&&"string"==typeof e.token&&e.token.length>0&&"string"==typeof t.auth&&t.auth.length>0&&"string"==typeof t.p256dh&&t.p256dh.length>0&&"string"==typeof t.endpoint&&t.endpoint.length>0&&"string"==typeof t.swScope&&t.swScope.length>0&&"string"==typeof t.vapidKey&&t.vapidKey.length>0}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var CL="firebase-messaging-store",NL=null;function AL(){return NL||(NL=xO("firebase-messaging-database",1,(function(e){switch(e.oldVersion){case 0:e.createObjectStore(CL)}}))),NL}function xL(e){return kh(this,void 0,void 0,(function(){var t,n,r;return Sh(this,(function(i){switch(i.label){case 0:return t=DL(e),[4,AL()];case 1:return[4,i.sent().transaction(CL).objectStore(CL).get(t)];case 2:return(n=i.sent())?[2,n]:[3,3];case 3:return[4,kL(e.appConfig.senderId)];case 4:return(r=i.sent())?[4,PL(e,r)]:[3,6];case 5:return i.sent(),[2,r];case 6:return[2]}}))}))}function PL(e,t){return kh(this,void 0,void 0,(function(){var n,r,i;return Sh(this,(function(o){switch(o.label){case 0:return n=DL(e),[4,AL()];case 1:return r=o.sent(),[4,(i=r.transaction(CL,"readwrite")).objectStore(CL).put(t,n)];case 2:return o.sent(),[4,i.complete];case 3:return o.sent(),[2,t]}}))}))}function RL(e){return kh(this,void 0,void 0,(function(){var t,n,r;return Sh(this,(function(i){switch(i.label){case 0:return t=DL(e),[4,AL()];case 1:return n=i.sent(),[4,(r=n.transaction(CL,"readwrite")).objectStore(CL).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function DL(e){return e.appConfig.appId}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OL(e,t){return kh(this,void 0,void 0,(function(){var n,r,i,o,a,s;return Sh(this,(function(u){switch(u.label){case 0:return[4,UL(e)];case 1:n=u.sent(),r=jL(t),i={method:"POST",headers:n,body:JSON.stringify(r)},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(FL(e.appConfig),i)];case 3:return[4,u.sent().json()];case 4:return o=u.sent(),[3,6];case 5:throw a=u.sent(),_L.create("token-subscribe-failed",{errorInfo:a});case 6:if(o.error)throw s=o.error.message,_L.create("token-subscribe-failed",{errorInfo:s});if(!o.token)throw _L.create("token-subscribe-no-token");return[2,o.token]}}))}))}function LL(e,t){return kh(this,void 0,void 0,(function(){var n,r,i,o,a,s;return Sh(this,(function(u){switch(u.label){case 0:return[4,UL(e)];case 1:n=u.sent(),r=jL(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(FL(e.appConfig)+"/"+t.token,i)];case 3:return[4,u.sent().json()];case 4:return o=u.sent(),[3,6];case 5:throw a=u.sent(),_L.create("token-update-failed",{errorInfo:a});case 6:if(o.error)throw s=o.error.message,_L.create("token-update-failed",{errorInfo:s});if(!o.token)throw _L.create("token-update-no-token");return[2,o.token]}}))}))}function ML(e,t){return kh(this,void 0,void 0,(function(){var n,r,i,o,a;return Sh(this,(function(s){switch(s.label){case 0:return[4,UL(e)];case 1:n=s.sent(),r={method:"DELETE",headers:n},s.label=2;case 2:return s.trys.push([2,5,,6]),[4,fetch(FL(e.appConfig)+"/"+t,r)];case 3:return[4,s.sent().json()];case 4:if((i=s.sent()).error)throw o=i.error.message,_L.create("token-unsubscribe-failed",{errorInfo:o});return[3,6];case 5:throw a=s.sent(),_L.create("token-unsubscribe-failed",{errorInfo:a});case 6:return[2]}}))}))}function FL(e){return"https://fcmregistrations.googleapis.com/v1/projects/"+e.projectId+"/registrations"}function UL(e){var t=e.appConfig,n=e.installations;return kh(this,void 0,void 0,(function(){var e;return Sh(this,(function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return e=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":"FIS "+e})]}}))}))}function jL(e){var t=e.p256dh,n=e.auth,r=e.endpoint,i=e.vapidKey,o={web:{endpoint:r,auth:n,p256dh:t}};return i!==EL&&(o.web.applicationPubKey=i),o}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qL(e,t,n){return kh(this,void 0,void 0,(function(){var r,i,o,a;return Sh(this,(function(s){switch(s.label){case 0:if("granted"!==Notification.permission)throw _L.create("permission-blocked");return[4,KL(t,n)];case 1:return r=s.sent(),[4,xL(e)];case 2:return i=s.sent(),o={vapidKey:n,swScope:t.scope,endpoint:r.endpoint,auth:TL(r.getKey("auth")),p256dh:TL(r.getKey("p256dh"))},i?[3,3]:[2,zL(e,o)];case 3:if(u=i.subscriptionOptions,l=(c=o).vapidKey===u.vapidKey,h=c.endpoint===u.endpoint,f=c.auth===u.auth,d=c.p256dh===u.p256dh,l&&h&&f&&d)return[3,8];s.label=4;case 4:return s.trys.push([4,6,,7]),[4,ML(e,i.token)];case 5:return s.sent(),[3,7];case 6:return a=s.sent(),console.warn(a),[3,7];case 7:return[2,zL(e,o)];case 8:return Date.now()>=i.createTime+6048e5?[2,BL({token:i.token,createTime:Date.now(),subscriptionOptions:o},e,t)]:[2,i.token];case 9:return[2]}var u,c,l,h,f,d;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}))}))}function VL(e,t){return kh(this,void 0,void 0,(function(){var n,r;return Sh(this,(function(i){switch(i.label){case 0:return[4,xL(e)];case 1:return(n=i.sent())?[4,ML(e,n.token)]:[3,4];case 2:return i.sent(),[4,RL(e)];case 3:i.sent(),i.label=4;case 4:return[4,t.pushManager.getSubscription()];case 5:return(r=i.sent())?[2,r.unsubscribe()]:[2,!0]}}))}))}function BL(e,t,n){return kh(this,void 0,void 0,(function(){var r,i,o;return Sh(this,(function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,LL(t,e)];case 1:return r=a.sent(),i=Ih(Ih({},e),{token:r,createTime:Date.now()}),[4,PL(t,i)];case 2:return a.sent(),[2,r];case 3:return o=a.sent(),[4,VL(t,n)];case 4:throw a.sent(),o;case 5:return[2]}}))}))}function zL(e,t){return kh(this,void 0,void 0,(function(){var n,r;return Sh(this,(function(i){switch(i.label){case 0:return[4,OL(e,t)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:t},[4,PL(e,r)];case 2:return i.sent(),[2,r.token]}}))}))}function KL(e,t){return kh(this,void 0,void 0,(function(){var n;return Sh(this,(function(r){switch(r.label){case 0:return[4,e.pushManager.getSubscription()];case 1:return(n=r.sent())?[2,n]:[2,e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:IL(t)})]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function WL(e){return"object"==typeof e&&!!e&&"google.c.a.c_id"in e}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HL(e){return new Promise((function(t){setTimeout(t,e)}))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var GL=function(){function e(e){var t=this;this.firebaseDependencies=e,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",(function(e){e.waitUntil(t.onPush(e))})),self.addEventListener("pushsubscriptionchange",(function(e){e.waitUntil(t.onSubChange(e))})),self.addEventListener("notificationclick",(function(e){e.waitUntil(t.onNotificationClick(e))}))}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.setBackgroundMessageHandler=function(e){if(this.isOnBackgroundMessageUsed=!1,!e||"function"!=typeof e)throw _L.create("invalid-bg-handler");this.bgMessageHandler=e},e.prototype.onBackgroundMessage=function(e){var t=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=e,function(){t.bgMessageHandler=null}},e.prototype.getToken=function(){var e,t;return kh(this,void 0,void 0,(function(){var n;return Sh(this,(function(r){switch(r.label){case 0:return this.vapidKey?[3,2]:[4,xL(this.firebaseDependencies)];case 1:n=r.sent(),this.vapidKey=null!==(t=null===(e=null==n?void 0:n.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==t?t:EL,r.label=2;case 2:return[2,qL(this.firebaseDependencies,self.registration,this.vapidKey)]}}))}))},e.prototype.deleteToken=function(){return VL(this.firebaseDependencies,self.registration)},e.prototype.requestPermission=function(){throw _L.create("only-available-in-window")},e.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw _L.create("use-vapid-key-after-get-token");if("string"!=typeof e||0===e.length)throw _L.create("invalid-vapid-key");this.vapidKey=e},e.prototype.useServiceWorker=function(){throw _L.create("only-available-in-window")},e.prototype.onMessage=function(){throw _L.create("only-available-in-window")},e.prototype.onTokenRefresh=function(){throw _L.create("only-available-in-window")},e.prototype.onPush=function(e){return kh(this,void 0,void 0,(function(){var t,n,r,i;return Sh(this,(function(o){switch(o.label){case 0:return(t=function(e){var t=e.data;if(!t)return null;try{return t.json()}catch(n){return null}}(e))?[4,XL()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return function(e){return e.some((function(e){return"visible"===e.visibilityState&&!e.url.startsWith("chrome-extension://")}))}(n=o.sent())?[2,YL(n,t)]:(r=!1,t.notification?[4,JL(QL(t))]:[3,3]);case 2:o.sent(),r=!0,o.label=3;case 3:return!0===r&&!1===this.isOnBackgroundMessageUsed?[2]:(this.bgMessageHandler&&(i=function(e){var t={from:e.from,collapseKey:e.collapse_key};return function(e,t){if(t.notification){e.notification={};var n=t.notification.title;n&&(e.notification.title=n);var r=t.notification.body;r&&(e.notification.body=r);var i=t.notification.image;i&&(e.notification.image=i)}}(t,e),function(e,t){t.data&&(e.data=t.data)}(t,e),function(e,t){if(t.fcmOptions){e.fcmOptions={};var n=t.fcmOptions.link;n&&(e.fcmOptions.link=n);var r=t.fcmOptions.analytics_label;r&&(e.fcmOptions.analyticsLabel=r)}}(t,e),t}(t),"function"==typeof this.bgMessageHandler?this.bgMessageHandler(i):this.bgMessageHandler.next(i)),[4,HL(1e3)]);case 4:return o.sent(),[2]}}))}))},e.prototype.onSubChange=function(e){var t,n;return kh(this,void 0,void 0,(function(){var r;return Sh(this,(function(i){switch(i.label){case 0:return e.newSubscription?[3,2]:[4,VL(this.firebaseDependencies,self.registration)];case 1:return i.sent(),[2];case 2:return[4,xL(this.firebaseDependencies)];case 3:return r=i.sent(),[4,VL(this.firebaseDependencies,self.registration)];case 4:return i.sent(),[4,qL(this.firebaseDependencies,self.registration,null!==(n=null===(t=null==r?void 0:r.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==n?n:EL)];case 5:return i.sent(),[2]}}))}))},e.prototype.onNotificationClick=function(e){var t,n;return kh(this,void 0,void 0,(function(){var r,i,o,a,s;return Sh(this,(function(u){switch(u.label){case 0:return(r=null===(n=null===(t=e.notification)||void 0===t?void 0:t.data)||void 0===n?void 0:n.FCM_MSG)?e.action?[2]:(e.stopImmediatePropagation(),e.notification.close(),(i=function(e){var t,n,r,i=null!==(n=null===(t=e.fcmOptions)||void 0===t?void 0:t.link)&&void 0!==n?n:null===(r=e.notification)||void 0===r?void 0:r.click_action;if(i)return i;return WL(e.data)?self.location.origin:null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(r))?(o=new URL(i,self.location.href),a=new URL(self.location.origin),o.host!==a.host?[2]:[4,$L(o)]):[2]):[2];case 1:return(s=u.sent())?[3,4]:[4,self.clients.openWindow(i)];case 2:return s=u.sent(),[4,HL(3e3)];case 3:return u.sent(),[3,6];case 4:return[4,s.focus()];case 5:s=u.sent(),u.label=6;case 6:return s?(r.messageType=yL.NOTIFICATION_CLICKED,r.isFirebaseMessaging=!0,[2,s.postMessage(r)]):[2]}}))}))},e}();function QL(e){var t,n=Ih({},e.notification);return n.data=((t={}).FCM_MSG=e,t),n}function $L(e){return kh(this,void 0,void 0,(function(){var t,n,r,i,o,a,s;return Sh(this,(function(u){switch(u.label){case 0:return[4,XL()];case 1:t=u.sent();try{for(n=Ch(t),r=n.next();!r.done;r=n.next())if(i=r.value,o=new URL(i.url,self.location.href),e.host===o.host)return[2,i]}catch(c){a={error:c}}finally{try{r&&!r.done&&(s=n.return)&&s.call(n)}finally{if(a)throw a.error}}return[2,null]}}))}))}function YL(e,t){var n,r;t.isFirebaseMessaging=!0,t.messageType=yL.PUSH_RECEIVED;try{for(var i=Ch(e),o=i.next();!o.done;o=i.next()){o.value.postMessage(t)}}catch(a){n={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function XL(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function JL(e){var t,n=e.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(t=e.title)&&void 0!==t?t:"",e)}var ZL=function(){function e(e){var t=this;this.firebaseDependencies=e,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",(function(e){return t.messageEventListener(e)}))}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.messageEventListener=function(e){return kh(this,void 0,void 0,(function(){var t,n;return Sh(this,(function(r){switch(r.label){case 0:return(t=e.data).isFirebaseMessaging?(this.onMessageCallback&&t.messageType===yL.PUSH_RECEIVED&&("function"==typeof this.onMessageCallback?this.onMessageCallback(function(e){return delete e.messageType,delete e.isFirebaseMessaging,e}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(Object.assign({},t))):this.onMessageCallback.next(Object.assign({},t))),WL(n=t.data)&&"1"===n["google.c.a.e"]?[4,this.logEvent(t.messageType,n)]:[3,2]):[2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.getVapidKey=function(){return this.vapidKey},e.prototype.getSwReg=function(){return this.swRegistration},e.prototype.getToken=function(e){return kh(this,void 0,void 0,(function(){return Sh(this,(function(t){switch(t.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:t.sent(),t.label=2;case 2:if("granted"!==Notification.permission)throw _L.create("permission-blocked");return[4,this.updateVapidKey(null==e?void 0:e.vapidKey)];case 3:return t.sent(),[4,this.updateSwReg(null==e?void 0:e.serviceWorkerRegistration)];case 4:return t.sent(),[2,qL(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}}))}))},e.prototype.updateVapidKey=function(e){return kh(this,void 0,void 0,(function(){return Sh(this,(function(t){return e?this.vapidKey=e:this.vapidKey||(this.vapidKey=EL),[2]}))}))},e.prototype.updateSwReg=function(e){return kh(this,void 0,void 0,(function(){return Sh(this,(function(t){switch(t.label){case 0:return e||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:if(!e&&this.swRegistration)return[2];if(!(e instanceof ServiceWorkerRegistration))throw _L.create("invalid-sw-registration");return this.swRegistration=e,[2]}}))}))},e.prototype.registerDefaultSw=function(){return kh(this,void 0,void 0,(function(){var e,t;return Sh(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),e=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return e.swRegistration=n.sent(),this.swRegistration.update().catch((function(){})),[3,3];case 2:throw t=n.sent(),_L.create("failed-service-worker-registration",{browserErrorMessage:t.message});case 3:return[2]}}))}))},e.prototype.deleteToken=function(){return kh(this,void 0,void 0,(function(){return Sh(this,(function(e){switch(e.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:return[2,VL(this.firebaseDependencies,this.swRegistration)]}}))}))},e.prototype.requestPermission=function(){return kh(this,void 0,void 0,(function(){var e;return Sh(this,(function(t){switch(t.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(e=t.sent()))return[2];throw"denied"===e?_L.create("permission-blocked"):_L.create("permission-default")}}))}))},e.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw _L.create("use-vapid-key-after-get-token");if("string"!=typeof e||0===e.length)throw _L.create("invalid-vapid-key");this.vapidKey=e},e.prototype.useServiceWorker=function(e){if(!(e instanceof ServiceWorkerRegistration))throw _L.create("invalid-sw-registration");if(this.swRegistration)throw _L.create("use-sw-after-get-token");this.swRegistration=e},e.prototype.onMessage=function(e){var t=this;return this.onMessageCallback=e,function(){t.onMessageCallback=null}},e.prototype.setBackgroundMessageHandler=function(){throw _L.create("only-available-in-sw")},e.prototype.onBackgroundMessage=function(){throw _L.create("only-available-in-sw")},e.prototype.onTokenRefresh=function(){return function(){}},e.prototype.logEvent=function(e,t){return kh(this,void 0,void 0,(function(){var n;return Sh(this,(function(r){switch(r.label){case 0:return n=function(e){switch(e){case yL.NOTIFICATION_CLICKED:return"notification_open";case yL.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return r.sent().logEvent(n,{message_id:t["google.c.a.c_id"],message_name:t["google.c.a.c_l"],message_time:t["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}}))}))},e}();function eM(e){return _L.create("missing-app-config-values",{valueName:e})}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tM={isSupported:nM};function nM(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}Gf.INTERNAL.registerComponent(new bf("messaging",(function(e){var t=e.getProvider("app").getImmediate(),n={app:t,appConfig:function(e){var t,n;if(!e||!e.options)throw eM("App Configuration Object");if(!e.name)throw eM("App Name");var r=e.options;try{for(var i=Ch(["projectId","apiKey","appId","messagingSenderId"]),o=i.next();!o.done;o=i.next()){var a=o.value;if(!r[a])throw eM(a)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return{appName:e.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}(t),installations:e.getProvider("installations").getImmediate(),analyticsProvider:e.getProvider("analytics-internal")};if(!nM())throw _L.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new GL(n):new ZL(n)}),"PUBLIC").setServiceProps(tM));
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var rM=function(e){function t(n,r){var i=e.call(this,iM(n),"Firebase Storage: "+r+" ("+iM(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,t.prototype),i}return Th(t,e),t.prototype._codeEquals=function(e){return iM(e)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=this._baseMessage+"\n"+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),t}(Yh);function iM(e){return"storage/"+e}function oM(){return new rM("unknown","An unknown error occurred, please check the error payload for server response.")}function aM(){return new rM("canceled","User canceled the upload/download.")}function sM(){return new rM("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function uM(e){return new rM("invalid-argument",e)}function cM(){return new rM("app-deleted","The Firebase app was deleted.")}function lM(e){return new rM("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function hM(e,t){return new rM("invalid-format","String does not match format '"+e+"': "+t)}function fM(e){throw new rM("internal-error","Internal error: "+e)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var dM={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},pM=function(e,t){this.data=e,this.contentType=t||null};function vM(e,t){switch(e){case dM.RAW:return new pM(gM(t));case dM.BASE64:case dM.BASE64URL:return new pM(mM(e,t));case dM.DATA_URL:return new pM((n=new yM(t)).base64?mM(dM.BASE64,n.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(aO){throw hM(dM.DATA_URL,"Malformed data URL.")}return gM(t)}(n.rest),function(e){return new yM(e).contentType}(t))}var n;throw oM()}function gM(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<e.length-1&&56320==(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320==(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function mM(e,t){switch(e){case dM.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw hM(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case dM.BASE64URL:var i=-1!==t.indexOf("+"),o=-1!==t.indexOf("/");if(i||o)throw hM(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=atob(t)}catch(aO){throw hM(e,"Invalid character found")}for(var s=new Uint8Array(a.length),u=0;u<a.length;u++)s[u]=a.charCodeAt(u);return s}var yM=function(e){this.base64=!1,this.contentType=null;var t=e.match(/^data:([^,]+)?,/);if(null===t)throw hM(dM.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=t[1]||null;null!=n&&(this.base64=(r=n,i=";base64",r.length>=i.length&&r.substring(r.length-i.length)===i),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=e.substring(e.indexOf(",")+1);var r,i;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */};var bM,wM,_M={STATE_CHANGED:"state_changed"},EM={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function TM(e){switch(e){case"running":case"pausing":case"canceling":return EM.RUNNING;case"paused":return EM.PAUSED;case"success":return EM.SUCCESS;case"canceled":return EM.CANCELED;case"error":default:return EM.ERROR}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(wM=bM||(bM={}))[wM.NO_ERROR=0]="NO_ERROR",wM[wM.NETWORK_ERROR=1]="NETWORK_ERROR",wM[wM.ABORT=2]="ABORT";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var IM=function(){function e(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=bM.NO_ERROR,this.sendPromise_=new Promise((function(t){e.xhr_.addEventListener("abort",(function(){e.errorCode_=bM.ABORT,t()})),e.xhr_.addEventListener("error",(function(){e.errorCode_=bM.NETWORK_ERROR,t()})),e.xhr_.addEventListener("load",(function(){t()}))}))}return e.prototype.send=function(e,t,n,r){if(this.sent_)throw fM("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw fM("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw fM("cannot .getStatus() before sending");try{return this.xhr_.status}catch(aO){return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw fM("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},e.prototype.addUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)},e.prototype.removeUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var kM=function(){function e(){}return e.prototype.createConnection=function(){return new IM},e}(),SM=function(){function e(e,t){this.bucket=e,this.path_=t}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},e.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(aO){return new e(t,"")}if(""===r.path)return r;throw new rM("invalid-default-bucket","Invalid default bucket '"+t+"'.")},e.makeFromUrl=function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var o=new RegExp("^gs://"+i+"(/(.*))?$","i");function a(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:o,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+s+"/v[A-Za-z0-9_]+/b/"+i+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:a},{regex:new RegExp("^https?://"+("firebasestorage.googleapis.com"===n?"(?:storage.googleapis.com|storage.cloud.google.com)":n)+"/"+i+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:a}],c=0;c<u.length;c++){var l=u[c],h=l.regex.exec(t);if(h){var f=h[l.indices.bucket],d=h[l.indices.path];d||(d=""),r=new e(f,d),l.postModify(r);break}}if(null==r)throw function(e){return new rM("invalid-url","Invalid URL '"+e+"'.")}(t);return r},e}(),CM=function(){function e(e){this.promise_=Promise.reject(e)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NM(e){return"string"==typeof e||e instanceof String}function AM(e){return xM()&&e instanceof Blob}function xM(){return"undefined"!=typeof Blob}function PM(e,t,n,r){if(r<t)throw uM("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(r>n)throw uM("Invalid value for '"+e+"'. Expected "+n+" or less.")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RM(e,t){var n=t.match(/^(\w+):\/\/.+/),r=t;return null==(null==n?void 0:n[1])&&(r="https://"+t),r+"/v0"+e}function DM(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OM=function(){function e(e,t,n,r,i,o,a,s,u,c,l){var h=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return e.prototype.start_=function(){var e=this;function t(t,n){var r,i=e.resolve_,o=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var s=e.callback_(a,a.getResponseText());void 0!==s?i(s):i()}catch(aO){o(aO)}else null!==a?((r=oM()).serverResponse=a.getResponseText(),e.errorCallback_?o(e.errorCallback_(a,r)):o(r)):n.canceled?o(r=e.appDelete_?cM():aM()):o(r=new rM("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?t(0,new LM(!1,null,!0)):this.backoffId_=
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(e,t,n){var r=1,i=null,o=!1,a=0;function s(){return 2===a}var u=!1;function c(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];u||(u=!0,t.apply(null,e))}function l(t){i=setTimeout((function(){i=null,e(h,s())}),t)}function h(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!u)if(e)c.call.apply(c,Ah([null,e],t));else{var i;s()||o?c.call.apply(c,Ah([null,e],t)):(r<64&&(r*=2),1===a?(a=2,i=0):i=1e3*(r+Math.random()),l(i))}}var f=!1;function d(e){f||(f=!0,u||(null!==i?(e||(a=2),clearTimeout(i),l(0)):e||(a=1)))}return l(0),setTimeout((function(){o=!0,d(!0)}),n),d}((function(t,n){if(n)t(!1,new LM(!1,null,!0));else{var r=e.pool_.createConnection();e.pendingConnection_=r,null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===bM.NO_ERROR,o=r.getStatus();if(n&&!e.isRetryStatusCode_(o)){var a=-1!==e.successCodes_.indexOf(o);t(!0,new LM(a,r))}else{var s=r.getErrorCode()===bM.ABORT;t(!1,new LM(!1,null,s))}}))}function i(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)}}),t,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()},e.prototype.isRetryStatusCode_=function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r},e}(),LM=function(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function MM(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function FM(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=MM();if(void 0!==n){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}if(xM())return new Blob(e);throw new rM("unsupported-environment","This browser doesn't seem to support creating Blobs")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var UM=function(){function e(e,t){var n=0,r="";AM(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(AM(this.data_)){var r=this.data_,i=(a=t,s=n,(o=r).webkitSlice?o.webkitSlice(a,s):o.mozSlice?o.mozSlice(a,s):o.slice?o.slice(a,s):null);return null===i?null:new e(i)}var o,a,s;return new e(new Uint8Array(this.data_.buffer,t,n-t),!0)},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(xM()){var r=t.map((function(t){return t instanceof e?t.data_:t}));return new e(FM.apply(null,r))}var i=t.map((function(e){return NM(e)?vM(dM.RAW,e).data:e.data_})),o=0;i.forEach((function(e){o+=e.byteLength}));var a=new Uint8Array(o),s=0;return i.forEach((function(e){for(var t=0;t<e.length;t++)a[s++]=e[t]})),new e(a,!0)},e.prototype.uploadData=function(){return this.data_},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jM(e){var t,n;try{t=JSON.parse(e)}catch(aO){return null}return"object"!=typeof(n=t)||Array.isArray(n)?null:t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qM(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VM(e,t){return t}var BM=function(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||VM},zM=null;function KM(){if(zM)return zM;var e=[];e.push(new BM("bucket")),e.push(new BM("generation")),e.push(new BM("metageneration")),e.push(new BM("name","fullPath",!0));var t=new BM("name");t.xform=function(e,t){return function(e){return!NM(e)||e.length<2?e:qM(e)}(t)},e.push(t);var n=new BM("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new BM("timeCreated")),e.push(new BM("updated")),e.push(new BM("md5Hash",null,!0)),e.push(new BM("cacheControl",null,!0)),e.push(new BM("contentDisposition",null,!0)),e.push(new BM("contentEncoding",null,!0)),e.push(new BM("contentLanguage",null,!0)),e.push(new BM("contentType",null,!0)),e.push(new BM("metadata","customMetadata",!0)),zM=e}function WM(e,t,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,t[a.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new SM(n,r);return t._makeStorageReference(i)}})}(r,e),r}function HM(e,t,n){var r=jM(t);return null===r?null:WM(e,r,n)}function GM(e,t){for(var n={},r=t.length,i=0;i<r;i++){var o=t[i];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QM(e,t,n){var r=jM(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var a=o[i].replace(/\/$/,""),s=e._makeStorageReference(new SM(t,a));r.prefixes.push(s)}if(n.items)for(var u=0,c=n.items;u<c.length;u++){var l=c[u];s=e._makeStorageReference(new SM(t,l.name)),r.items.push(s)}return r}(e,t,r)}var $M=function(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YM(e){if(!e)throw oM()}function XM(e,t){return function(n,r){var i=HM(e,r,t);return YM(null!==i),i}}function JM(e,t){return function(n,r){var i=HM(e,r,t);return YM(null!==i),function(e,t,n){var r=jM(t);if(null===r)return null;if(!NM(r.downloadTokens))return null;var i=r.downloadTokens;if(0===i.length)return null;var o=encodeURIComponent;return i.split(",").map((function(t){var r=e.bucket,i=e.fullPath;return RM("/b/"+o(r)+"/o/"+o(i),n)+DM({alt:"media",token:t})}))[0]}(i,r,e.host)}}function ZM(e){return function(t,n){var r,i,o;return 401===t.getStatus()?r=t.getResponseText().includes("Firebase App Check token is invalid")?new rM("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new rM("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(o=e.bucket,r=new rM("quota-exceeded","Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new rM("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function eF(e){var t=ZM(e);return function(n,r){var i,o=t(n,r);return 404===n.getStatus()&&(i=e.path,o=new rM("object-not-found","Object '"+i+"' does not exist.")),o.serverResponse=r.serverResponse,o}}function tF(e,t,n){var r=RM(t.fullServerUrl(),e.host),i=e.maxOperationRetryTime,o=new $M(r,"GET",XM(e,n),i);return o.errorHandler=eF(t),o}function nF(e,t,n,r,i){var o={};t.isRoot?o.prefix="":o.prefix=t.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var a=RM(t.bucketOnlyServerUrl(),e.host),s=e.maxOperationRetryTime,u=new $M(a,"GET",function(e,t){return function(n,r){var i=QM(e,t,r);return YM(null!==i),i}}(e,t.bucket),s);return u.urlParams=o,u.errorHandler=ZM(t),u}function rF(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}var iF=function(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null};function oF(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(aO){YM(!1)}return YM(!!n&&-1!==(t||["active"]).indexOf(n)),n}function aF(e,t,n,r,i,o,a,s){var u=new iF(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new rM("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var h=u.current,f=h+l,d={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":""+u.current},p=r.slice(h,f);if(null===p)throw sM();var v=t.maxUploadRetryTime,g=new $M(n,"POST",(function(e,n){var i,a=oF(e,["active","final"]),s=u.current+l,c=r.size();return i="final"===a?XM(t,o)(e,n):null,new iF(s,c,"final"===a,i)}),v);return g.headers=d,g.body=p.uploadData(),g.progressCallback=s||null,g.errorHandler=ZM(e),g}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sF=function(e,t,n){if("function"==typeof e||null!=t||null!=n)this.next=e,this.error=t,this.complete=n;else{var r=e;this.next=r.next,this.error=r.error,this.complete=r.complete}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uF(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then((function(){return e.apply(void 0,t)}))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cF=function(){function e(e,t,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=KM(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return e.prototype._makeProgressCallback=function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}},e.prototype._shouldDoResumable=function(e){return e.size()>262144},e.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=n[0],i=n[1];switch(t._state){case"running":e(r,i);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))},e.prototype._createResumable=function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a=rF(t,r,i),s={name:a.fullPath},u=RM(o,e.host),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},l=GM(a,n),h=e.maxUploadRetryTime,f=new $M(u,"POST",(function(e){var t;oF(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(aO){YM(!1)}return YM(NM(t)),t}),h);return f.urlParams=s,f.headers=c,f.body=l,f.errorHandler=ZM(t),f}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))},e.prototype._fetchStatus=function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,o=new $M(n,"POST",(function(e){var t=oF(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(aO){YM(!1)}n||YM(!1);var i=Number(n);return YM(!isNaN(i)),new iF(i,r.size(),"final"===t)}),i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=ZM(t),o}(e._ref.storage,e._ref._location,t,e._blob),o=e._ref.storage._makeRequest(i,n,r);e._request=o,o.getPromise().then((function(t){t=t,e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))},e.prototype._continueUpload=function(){var e=this,t=262144*this._chunkMultiplier,n=new iF(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,o){var a;try{a=aF(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(aO){return e._error=aO,void e._transition("error")}var s=e._ref.storage._makeRequest(a,i,o);e._request=s,s.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))},e.prototype._increaseMultiplier=function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var e=this;this._resolveToken((function(t,n){var r=tF(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))},e.prototype._oneShotUpload=function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+s;var u=rF(t,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+GM(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",h=UM.getBlob(c,r,l);if(null===h)throw sM();var f={name:u.fullPath},d=RM(o,e.host),p=e.maxUploadRetryTime,v=new $M(d,"POST",XM(e,n),p);return v.urlParams=f,v.headers=a,v.body=h.uploadData(),v.errorHandler=ZM(t),v}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))},e.prototype._updateProgress=function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()},e.prototype._transition=function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=aM(),this._state=e,this._notifyObservers();break;case"error":case"success":this._state=e,this._notifyObservers()}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var e=TM(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(e,t,n,r){var i=this,o=new sF(t,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},e.prototype.then=function(e,t){return this._promise.then(e,t)},e.prototype.catch=function(e){return this.then(null,e)},e.prototype._addObserver=function(e){this._observers.push(e),this._notifyObserver(e)},e.prototype._removeObserver=function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)},e.prototype._notifyObservers=function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))},e.prototype._finishPromise=function(){if(void 0!==this._resolve){var e=!0;switch(TM(this._state)){case EM.SUCCESS:uF(this._resolve.bind(null,this.snapshot))();break;case EM.CANCELED:case EM.ERROR:uF(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(e){switch(TM(this._state)){case EM.RUNNING:case EM.PAUSED:e.next&&uF(e.next.bind(e,this.snapshot))();break;case EM.SUCCESS:e.complete&&uF(e.complete.bind(e))();break;case EM.CANCELED:case EM.ERROR:e.error&&uF(e.error.bind(e,this._error))();break;default:e.error&&uF(e.error.bind(e,this._error))()}},e.prototype.resume=function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e},e.prototype.pause=function(){var e="running"===this._state;return e&&this._transition("pausing"),e},e.prototype.cancel=function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e},e}(),lF=function(){function e(e,t){this._service=e,this._location=t instanceof SM?t:SM.makeFromUrl(t,e.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var e=new SM(this._location.bucket,"");return this._newRef(this._service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return qM(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new SM(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(e){if(""===this._location.path)throw lM(e)},e}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hF(e){var t={prefixes:[],items:[]};return fF(e,t).then((function(){return t}))}function fF(e,t,n){return kh(this,void 0,void 0,(function(){var r,i,o;return Sh(this,(function(a){switch(a.label){case 0:return[4,dF(e,{pageToken:n})];case 1:return r=a.sent(),(i=t.prefixes).push.apply(i,r.prefixes),(o=t.items).push.apply(o,r.items),null==r.nextPageToken?[3,3]:[4,fF(e,t,r.nextPageToken)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function dF(e,t){return kh(this,void 0,void 0,(function(){var n,r;return Sh(this,(function(i){switch(i.label){case 0:return null!=t&&"number"==typeof t.maxResults&&PM("options.maxResults",1,1e3,t.maxResults),n=t||{},r=nF(e.storage,e._location,"/",n.pageToken,n.maxResults),[4,e.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}}))}))}function pF(e,t){return kh(this,void 0,void 0,(function(){var n;return Sh(this,(function(r){switch(r.label){case 0:return e._throwIfRoot("updateMetadata"),n=function(e,t,n,r){var i=RM(t.fullServerUrl(),e.host),o=GM(n,r),a=e.maxOperationRetryTime,s=new $M(i,"PATCH",XM(e,r),a);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=o,s.errorHandler=eF(t),s}(e.storage,e._location,t,KM()),[4,e.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}}))}))}function vF(e){return kh(this,void 0,void 0,(function(){var t;return Sh(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("getDownloadURL"),t=function(e,t,n){var r=RM(t.fullServerUrl(),e.host),i=e.maxOperationRetryTime,o=new $M(r,"GET",JM(e,n),i);return o.errorHandler=eF(t),o}(e.storage,e._location,KM()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise().then((function(e){if(null===e)throw new rM("no-download-url","The given file does not have any download URLs.");return e}))]}}))}))}function gF(e){return kh(this,void 0,void 0,(function(){var t;return Sh(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("deleteObject"),t=function(e,t){var n=RM(t.fullServerUrl(),e.host),r=e.maxOperationRetryTime,i=new $M(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=eF(t),i}(e.storage,e._location),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}}))}))}function mF(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new SM(e._location.bucket,n);return new lF(e.storage,r)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yF(e){return/^[A-Za-z]+:\/\//.test(e)}function bF(e,t){if(e instanceof EF){var n=e;if(null==n._bucket)throw new rM("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new lF(n,n._bucket);return null!=t?bF(r,t):r}if(void 0!==t){if(t.includes(".."))throw uM('`path` param cannot contain ".."');return mF(e,t)}return e}function wF(e,t){if(t&&yF(t)){if(e instanceof EF)return new lF(e,t);throw uM("To use ref(service, url), the first argument must be a Storage instance.")}return bF(e,t)}function _F(e,t){var n=null==t?void 0:t.storageBucket;return null==n?null:SM.makeFromBucketSpec(n,e)}var EF=function(){function e(e,t,n,r,i,o){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._pool=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host="firebasestorage.googleapis.com",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?SM.makeFromBucketSpec(i,this._host):_F(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=SM.makeFromBucketSpec(this._url,e):this._bucket=_F(e,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(e){PM("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(e){PM("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return kh(this,void 0,void 0,(function(){var e,t;return Sh(this,(function(n){switch(n.label){case 0:return(e=this._authProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:if(null!==(t=n.sent()))return[2,t.accessToken];n.label=2;case 2:return[2,null]}}))}))},e.prototype._getAppCheckToken=function(){return kh(this,void 0,void 0,(function(){var e;return Sh(this,(function(t){switch(t.label){case 0:return(e=this._appCheckProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:return[2,t.sent().token];case 2:return[2,null]}}))}))},e.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()},e.prototype._makeStorageReference=function(e){return new lF(this,e)},e.prototype._makeRequest=function(e,t,n){var r=this;if(this._deleted)return new CM(cM());var i=function(e,t,n,r,i,o){var a=DM(e.urlParams),s=e.url+a,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!=t?t:"AppManager")}(u,o),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new OM(s,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,t,n,this._pool,this._firebaseVersion);return this._requests.add(i),i.getPromise().then((function(){return r._requests.delete(i)}),(function(){return r._requests.delete(i)})),i},e.prototype.makeRequestWithTokens=function(e){return kh(this,void 0,void 0,(function(){var t,n,r;return Sh(this,(function(i){switch(i.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return t=i.sent(),n=t[0],r=t[1],[2,this._makeRequest(e,n,r)]}}))}))},e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TF(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new cF(e,new UM(t),n)}(e=yf(e),t,n)}function IF(e){return function(e){return kh(this,void 0,void 0,(function(){var t;return Sh(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),t=tF(e.storage,e._location,KM()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}}))}))}(e=yf(e))}function kF(e,t){return wF(e=yf(e),t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var SF=function(){function e(e,t,n){this._delegate=e,this.task=t,this.ref=n}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}(),CF=function(){function e(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new SF(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new SF(t,n,n._ref))}),t)},e.prototype.on=function(e,t,n,r){var i=this,o=void 0;return t&&(o="function"==typeof t?function(e){return t(new SF(e,i,i._ref))}:{next:t.next?function(e){return t.next(new SF(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,o,n||void 0,r||void 0)},e}(),NF=function(){function e(e,t){this._delegate=e,this._service=t}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new AF(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var e=this;return this._delegate.items.map((function(t){return new AF(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}(),AF=function(){function e(e,t){this._delegate=e,this.storage=t}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){return new e(function(e,t){return mF(e,t)}(this._delegate,t),this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(e,t){return this._throwIfRoot("put"),new CF(TF(this._delegate,e,t),this)},e.prototype.putString=function(e,t,n){void 0===t&&(t=dM.RAW),this._throwIfRoot("putString");var r=vM(t,e),i=Ih({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new CF(new cF(this._delegate,new UM(r.data,!0),i),this)},e.prototype.listAll=function(){var e,t=this;return(e=this._delegate,hF(e=yf(e))).then((function(e){return new NF(e,t.storage)}))},e.prototype.list=function(e){var t=this;return function(e,t){return dF(e=yf(e),t)}(this._delegate,e||void 0).then((function(e){return new NF(e,t.storage)}))},e.prototype.getMetadata=function(){return IF(this._delegate)},e.prototype.updateMetadata=function(e){return function(e,t){return pF(e=yf(e),t)}(this._delegate,e)},e.prototype.getDownloadURL=function(){return vF(yf(this._delegate))},e.prototype.delete=function(){return this._throwIfRoot("delete"),gF(yf(this._delegate))},e.prototype._throwIfRoot=function(e){if(""===this._delegate._location.path)throw lM(e)},e}(),xF=function(){function e(e,t){this.app=e,this._delegate=t}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(e){if(yF(e))throw uM("ref() expected a child path but got a URL, use refFromURL instead.");return new AF(kF(this._delegate,e),this)},e.prototype.refFromURL=function(e){if(!yF(e))throw uM("refFromURL() expected a full URL but got a child path, use ref() instead.");try{SM.makeFromUrl(e,this._delegate.host)}catch(aO){throw uM("refFromUrl() expected a valid full URL but got an invalid one.")}return new AF(kF(this._delegate,e),this)},e.prototype.setMaxUploadRetryTime=function(e){this._delegate.maxUploadRetryTime=e},e.prototype.setMaxOperationRetryTime=function(e){this._delegate.maxOperationRetryTime=e},e.prototype.useEmulator=function(e,t){!function(e,t,n){!function(e,t,n){e.host="http://"+t+":"+n}(e,t,n)}(this._delegate,e,t)},e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PF(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new xF(r,new EF(r,i,o,new kM,n,Gf.SDK_VERSION))}!function(e){var t={TaskState:EM,TaskEvent:_M,StringFormat:dM,Storage:EF,Reference:AF};e.INTERNAL.registerComponent(new bf("storage",PF,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage","0.6.2")}(Gf);var RF,DF,OF,LF=((RF={})["trace started"]="Trace {$traceName} was started before.",RF["trace stopped"]="Trace {$traceName} is not running.",RF["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",RF["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",RF["no window"]="Window is not available.",RF["no app id"]="App id is not available.",RF["no project id"]="Project id is not available.",RF["no api key"]="Api key is not available.",RF["invalid cc log"]="Attempted to queue invalid cc event",RF["FB not default"]="Performance can only start when Firebase app instance is the default one.",RF["RC response not ok"]="RC response is not ok",RF["invalid attribute name"]="Attribute name {$attributeName} is invalid.",RF["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",RF["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",RF["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",RF),MF=new Xh("performance","Performance",LF),FF=new Rf("Performance");FF.logLevel=If.INFO;var UF,jF=function(){function e(e){if(this.window=e,!e)throw MF.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}return e.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},e.prototype.mark=function(e){this.performance&&this.performance.mark&&this.performance.mark(e)},e.prototype.measure=function(e,t,n){this.performance&&this.performance.measure&&this.performance.measure(e,t,n)},e.prototype.getEntriesByType=function(e){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(e):[]},e.prototype.getEntriesByName=function(e){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(e):[]},e.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},e.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!Gh()||(FF.info("IndexedDB is not supported by current browswer"),!1):(FF.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},e.prototype.setupObserver=function(e,t){this.PerformanceObserver&&new this.PerformanceObserver((function(e){for(var n=0,r=e.getEntries();n<r.length;n++){var i=r[n];t(i)}})).observe({entryTypes:[e]})},e.getInstance=function(){return void 0===DF&&(DF=new e(OF)),DF},e}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function qF(e,t){var n=e.length-t.length;if(n<0||n>1)throw MF.create("invalid String merger input");for(var r=[],i=0;i<e.length;i++)r.push(e.charAt(i)),t.length>i&&r.push(t.charAt(i));return r.join("")}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var VF,BF,zF,KF=function(){function e(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=qF("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=qF("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return e.prototype.getAppId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!e)throw MF.create("no app id");return e},e.prototype.getProjectId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!e)throw MF.create("no project id");return e},e.prototype.getApiKey=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!e)throw MF.create("no api key");return e},e.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},e.getInstance=function(){return void 0===UF&&(UF=new e),UF},e}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WF(){return VF}(zF=BF||(BF={}))[zF.UNKNOWN=0]="UNKNOWN",zF[zF.VISIBLE=1]="VISIBLE",zF[zF.HIDDEN=2]="HIDDEN";var HF=["firebase_","google_","ga_"],GF=new RegExp("^[a-zA-Z]\\w*$");function QF(){switch(jF.getInstance().document.visibilityState){case"visible":return BF.VISIBLE;case"hidden":return BF.HIDDEN;default:return BF.UNKNOWN}}function $F(){var e=jF.getInstance().navigator.connection;switch(e&&e.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var YF=!0;function XF(e){var t=function(){var e=jF.getInstance().localStorage;if(!e)return;var t=e.getItem("@firebase/performance/configexpire");if(!(t&&(n=t,Number(n)>Date.now())))return;var n;var r=e.getItem("@firebase/performance/config");if(!r)return;try{return JSON.parse(r)}catch(i){return}}();return t?(JF(t),Promise.resolve()):function(e){return(t=KF.getInstance().installationsService.getToken(),t.then((function(e){})),t).then((function(t){var n="https://firebaseremoteconfig.googleapis.com/v1/projects/"+KF.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+KF.getInstance().getApiKey(),r=new Request(n,{method:"POST",headers:{Authorization:"FIREBASE_INSTALLATIONS_AUTH "+t},body:JSON.stringify({app_instance_id:e,app_instance_id_token:t,app_id:KF.getInstance().getAppId(),app_version:"0.4.17",sdk_version:"0.0.1"})});return fetch(r).then((function(e){if(e.ok)return e.json();throw MF.create("RC response not ok")}))})).catch((function(){FF.info("Could not fetch config, will use default configs")}));var t;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}(e).then(JF).then((function(e){return function(e){var t=jF.getInstance().localStorage;if(!e||!t)return;t.setItem("@firebase/performance/config",JSON.stringify(e)),t.setItem("@firebase/performance/configexpire",String(Date.now()+60*KF.getInstance().configTimeToLive*60*1e3))}(e)}),(function(){}))}function JF(e){if(!e)return e;var t=KF.getInstance(),n=e.entries||{};return void 0!==n.fpr_enabled?t.loggingEnabled="true"===String(n.fpr_enabled):t.loggingEnabled=YF,n.fpr_log_source&&(t.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(t.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(t.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(t.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(t.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),t.logTraceAfterSampling=ZF(t.tracesSamplingRate),t.logNetworkAfterSampling=ZF(t.networkRequestsSamplingRate),e}function ZF(e){return Math.random()<=e}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eU,tU=1;function nU(){var e;return tU=2,eU=eU||(e=jF.getInstance().document,new Promise((function(t){if(e&&"complete"!==e.readyState){var n=function(){"complete"===e.readyState&&(e.removeEventListener("readystatechange",n),t())};e.addEventListener("readystatechange",n)}else t()}))).then((function(){return(e=KF.getInstance().installationsService.getId()).then((function(e){VF=e})),e;var e})).then((function(e){return XF(e)})).then((function(){return rU()}),(function(){return rU()}))}function rU(){tU=3}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var iU,oU=3,aU=[],sU=!1;function uU(e){setTimeout((function(){var e,t;if(0!==oU)return aU.length?(e=aU.splice(0,1e3),t=e.map((function(e){return{source_extension_json_proto3:e.message,event_time_ms:String(e.eventTime)}})),void function(e,t){return function(e){var t=KF.getInstance().getFlTransportFullUrl();return fetch(t,{method:"POST",body:JSON.stringify(e)})}(e).then((function(e){return e.ok||FF.info("Call to Firebase backend failed."),e.json()})).then((function(e){var n=Number(e.nextRequestWaitMillis),r=1e4;isNaN(n)||(r=Math.max(n,r));var i=e.logResponseDetails;Array.isArray(i)&&i.length>0&&"RETRY_REQUEST_LATER"===i[0].responseAction&&(aU=Ah(Ah([],t),aU),FF.info("Retry transport request later.")),oU=3,uU(r)}))}({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:KF.getInstance().logSource,log_event:t},e).catch((function(){aU=Ah(Ah([],e),aU),oU--,FF.info("Tries left: "+oU+"."),uU(1e4)}))):uU(1e4)}),e)}function cU(e){if(!e.eventTime||!e.message)throw MF.create("invalid cc log");aU=Ah(Ah([],aU),[e])}function lU(e,t){var n;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */iU||(n=dU,iU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];cU({message:n.apply(void 0,e),eventTime:Date.now()})}),iU(e,t)}function hU(e){var t=KF.getInstance();!t.instrumentationEnabled&&e.isAuto||(t.dataCollectionEnabled||e.isAuto)&&jF.getInstance().requiredApisAvailable()&&(e.isAuto&&QF()!==BF.VISIBLE||(3===tU?fU(e):nU().then((function(){return fU(e)}),(function(){return fU(e)}))))}function fU(e){if(WF()){var t=KF.getInstance();t.loggingEnabled&&t.logTraceAfterSampling&&setTimeout((function(){return lU(e,1)}),0)}}function dU(e,t){return 0===t?(r={url:(n=e).url,http_method:n.httpMethod||0,http_response_code:200,response_payload_bytes:n.responsePayloadBytes,client_start_time_us:n.startTimeUs,time_to_response_initiated_us:n.timeToResponseInitiatedUs,time_to_response_completed_us:n.timeToResponseCompletedUs},i={application_info:pU(),network_request_metric:r},JSON.stringify(i)):function(e){var t={name:e.name,is_auto:e.isAuto,client_start_time_us:e.startTimeUs,duration_us:e.durationUs};0!==Object.keys(e.counters).length&&(t.counters=e.counters);var n=e.getAttributes();0!==Object.keys(n).length&&(t.custom_attributes=n);var r={application_info:pU(),trace_metric:t};return JSON.stringify(r)}(e);var n,r,i}function pU(){return{google_app_id:KF.getInstance().getAppId(),app_instance_id:WF(),web_app_info:{sdk_version:"0.4.17",page_url:jF.getInstance().getUrl(),service_worker_status:(e=jF.getInstance().navigator,"serviceWorker"in e?e.serviceWorker.controller?2:3:1),visibility_state:QF(),effective_connection_type:$F()},application_process_state:0};var e}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vU=["_fp","_fcp","_fid"];
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var gU=function(){function e(e,t,n){void 0===t&&(t=!1),this.name=e,this.isAuto=t,this.state=1,this.customAttributes={},this.counters={},this.api=jF.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=n||"FB-PERF-TRACE-MEASURE-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}return e.prototype.start=function(){if(1!==this.state)throw MF.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},e.prototype.stop=function(){if(2!==this.state)throw MF.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),hU(this)},e.prototype.record=function(e,t,n){if(e<=0)throw MF.create("nonpositive trace startTime",{traceName:this.name});if(t<=0)throw MF.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*t),this.startTimeUs=Math.floor(1e3*e),n&&n.attributes&&(this.customAttributes=Ih({},n.attributes)),n&&n.metrics)for(var r=0,i=Object.keys(n.metrics);r<i.length;r++){var o=i[r];isNaN(Number(n.metrics[o]))||(this.counters[o]=Number(Math.floor(n.metrics[o])))}hU(this)},e.prototype.incrementMetric=function(e,t){void 0===t&&(t=1),void 0===this.counters[e]?this.putMetric(e,t):this.putMetric(e,this.counters[e]+t)},e.prototype.putMetric=function(e,t){if(i=e,o=this.name,0===i.length||i.length>100||!(o&&o.startsWith("_wt_")&&vU.indexOf(i)>-1)&&i.startsWith("_"))throw MF.create("invalid custom metric name",{customMetricName:e});var n,r,i,o;this.counters[e]=(n=t,(r=Math.floor(n))<n&&FF.info("Metric value should be an Integer, setting the value as : "+r+"."),r)},e.prototype.getMetric=function(e){return this.counters[e]||0},e.prototype.putAttribute=function(e,t){var n,r=!(0===(n=e).length||n.length>40||HF.some((function(e){return n.startsWith(e)}))||!n.match(GF)),i=function(e){return 0!==e.length&&e.length<=100}(t);if(r&&i)this.customAttributes[e]=t;else{if(!r)throw MF.create("invalid attribute name",{attributeName:e});if(!i)throw MF.create("invalid attribute value",{attributeValue:t})}},e.prototype.getAttribute=function(e){return this.customAttributes[e]},e.prototype.removeAttribute=function(e){void 0!==this.customAttributes[e]&&delete this.customAttributes[e]},e.prototype.getAttributes=function(){return Ih({},this.customAttributes)},e.prototype.setStartTime=function(e){this.startTimeUs=e},e.prototype.setDuration=function(e){this.durationUs=e},e.prototype.calculateTraceMetrics=function(){var e=this.api.getEntriesByName(this.traceMeasure),t=e&&e[0];t&&(this.durationUs=Math.floor(1e3*t.duration),this.startTimeUs=Math.floor(1e3*(t.startTime+this.api.getTimeOrigin())))},e.createOobTrace=function(t,n,r){var i=jF.getInstance().getUrl();if(i){var o=new e("_wt_"+i,!0),a=Math.floor(1e3*jF.getInstance().getTimeOrigin());o.setStartTime(a),t&&t[0]&&(o.setDuration(Math.floor(1e3*t[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*t[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*t[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*t[0].loadEventEnd)));if(n){var s=n.find((function(e){return"first-paint"===e.name}));s&&s.startTime&&o.putMetric("_fp",Math.floor(1e3*s.startTime));var u=n.find((function(e){return"first-contentful-paint"===e.name}));u&&u.startTime&&o.putMetric("_fcp",Math.floor(1e3*u.startTime)),r&&o.putMetric("_fid",Math.floor(1e3*r))}hU(o)}},e.createUserTimingTrace=function(t){hU(new e(t,!1,t))},e}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mU(e){var t=e;if(t&&void 0!==t.responseStart){var n=jF.getInstance().getTimeOrigin(),r=Math.floor(1e3*(t.startTime+n)),i=t.responseStart?Math.floor(1e3*(t.responseStart-t.startTime)):void 0,o=Math.floor(1e3*(t.responseEnd-t.startTime));!function(e){var t=KF.getInstance();if(t.instrumentationEnabled){var n=e.url,r=t.logEndPointUrl.split("?")[0],i=t.flTransportEndpointUrl.split("?")[0];n!==r&&n!==i&&t.loggingEnabled&&t.logNetworkAfterSampling&&setTimeout((function(){return lU(e,0)}),0)}}({url:t.name&&t.name.split("?")[0],responsePayloadBytes:t.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:o})}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yU(){WF()&&(setTimeout((function(){return function(){var e=jF.getInstance(),t=e.getEntriesByType("navigation"),n=e.getEntriesByType("paint");if(e.onFirstInputDelay){var r=setTimeout((function(){gU.createOobTrace(t,n),r=void 0}),5e3);e.onFirstInputDelay((function(e){r&&(clearTimeout(r),gU.createOobTrace(t,n,e))}))}else gU.createOobTrace(t,n)}()}),0),setTimeout((function(){return function(){for(var e=jF.getInstance(),t=e.getEntriesByType("resource"),n=0,r=t;n<r.length;n++){mU(r[n])}e.setupObserver("resource",mU)}()}),0),setTimeout((function(){return function(){for(var e=jF.getInstance(),t=e.getEntriesByType("measure"),n=0,r=t;n<r.length;n++){bU(r[n])}e.setupObserver("measure",bU)}()}),0))}function bU(e){var t=e.name;"FB-PERF-TRACE-MEASURE"!==t.substring(0,"FB-PERF-TRACE-MEASURE".length)&&gU.createUserTimingTrace(t)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wU=function(){function e(e){this.app=e,jF.getInstance().requiredApisAvailable()&&Qh().then((function(e){e&&(sU||(uU(5500),sU=!0),nU().then(yU,yU))})).catch((function(e){FF.info("Environment doesn't support IndexedDB: "+e)}))}return e.prototype.trace=function(e){return new gU(e)},Object.defineProperty(e.prototype,"instrumentationEnabled",{get:function(){return KF.getInstance().instrumentationEnabled},set:function(e){KF.getInstance().instrumentationEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dataCollectionEnabled",{get:function(){return KF.getInstance().dataCollectionEnabled},set:function(e){KF.getInstance().dataCollectionEnabled=e},enumerable:!1,configurable:!0}),e}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(e){var t=function(e,t){if("[DEFAULT]"!==e.name)throw MF.create("FB not default");if("undefined"==typeof window)throw MF.create("no window");var n;return n=window,OF=n,KF.getInstance().firebaseAppInstance=e,KF.getInstance().installationsService=t,new wU(e)};e.INTERNAL.registerComponent(new bf("performance",(function(e){var n=e.getProvider("app").getImmediate(),r=e.getProvider("installations").getImmediate();return t(n,r)}),"PUBLIC")),e.registerVersion("@firebase/performance","0.4.17")}(Gf);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var _U,EU,TU,IU,kU="https://www.googletagmanager.com/gtag/js";(EU=_U||(_U={})).EVENT="event",EU.SET="set",EU.CONFIG="config",(IU=TU||(TU={})).ADD_SHIPPING_INFO="add_shipping_info",IU.ADD_PAYMENT_INFO="add_payment_info",IU.ADD_TO_CART="add_to_cart",IU.ADD_TO_WISHLIST="add_to_wishlist",IU.BEGIN_CHECKOUT="begin_checkout",IU.CHECKOUT_PROGRESS="checkout_progress",IU.EXCEPTION="exception",IU.GENERATE_LEAD="generate_lead",IU.LOGIN="login",IU.PAGE_VIEW="page_view",IU.PURCHASE="purchase",IU.REFUND="refund",IU.REMOVE_FROM_CART="remove_from_cart",IU.SCREEN_VIEW="screen_view",IU.SEARCH="search",IU.SELECT_CONTENT="select_content",IU.SELECT_ITEM="select_item",IU.SELECT_PROMOTION="select_promotion",IU.SET_CHECKOUT_OPTION="set_checkout_option",IU.SHARE="share",IU.SIGN_UP="sign_up",IU.TIMING_COMPLETE="timing_complete",IU.VIEW_CART="view_cart",IU.VIEW_ITEM="view_item",IU.VIEW_ITEM_LIST="view_item_list",IU.VIEW_PROMOTION="view_promotion",IU.VIEW_SEARCH_RESULTS="view_search_results";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var SU,CU=new Rf("@firebase/analytics");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NU(e,t,n,r,i,o){return kh(this,void 0,void 0,(function(){var a,s,u,c;return Sh(this,(function(l){switch(l.label){case 0:a=r[i],l.label=1;case 1:return l.trys.push([1,7,,8]),a?[4,t[a]]:[3,3];case 2:return l.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return s=l.sent(),(u=s.find((function(e){return e.measurementId===i})))?[4,t[u.appId]]:[3,6];case 5:l.sent(),l.label=6;case 6:return[3,8];case 7:return c=l.sent(),CU.error(c),[3,8];case 8:return e(_U.CONFIG,i,o),[2]}}))}))}function AU(e,t,n,r,i){return kh(this,void 0,void 0,(function(){var o,a,s,u,c,l,h,f;return Sh(this,(function(d){switch(d.label){case 0:return d.trys.push([0,4,,5]),o=[],i&&i.send_to?(a=i.send_to,Array.isArray(a)||(a=[a]),[4,Promise.all(n)]):[3,2];case 1:for(s=d.sent(),u=function(e){var n=s.find((function(t){return t.measurementId===e})),r=n&&t[n.appId];if(!r)return o=[],"break";o.push(r)},c=0,l=a;c<l.length&&(h=l[c],"break"!==u(h));c++);d.label=2;case 2:return 0===o.length&&(o=Object.values(t)),[4,Promise.all(o)];case 3:return d.sent(),e(_U.EVENT,r,i||{}),[3,5];case 4:return f=d.sent(),CU.error(f),[3,5];case 5:return[2]}}))}))}function xU(e,t,n,r,i){var o=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function(e,t,n,r){return function(i,o,a){return kh(this,void 0,void 0,(function(){var s;return Sh(this,(function(u){switch(u.label){case 0:return u.trys.push([0,6,,7]),i!==_U.EVENT?[3,2]:[4,AU(e,t,n,o,a)];case 1:return u.sent(),[3,5];case 2:return i!==_U.CONFIG?[3,4]:[4,NU(e,t,n,r,o,a)];case 3:return u.sent(),[3,5];case 4:e(_U.SET,o),u.label=5;case 5:return[3,7];case 6:return s=u.sent(),CU.error(s),[3,7];case 7:return[2]}}))}))}}(o,e,t,n),{gtagCore:o,wrappedGtag:window[i]}}var PU=((SU={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",SU["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",SU["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",SU["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",SU["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",SU["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",SU["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",SU["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',SU["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',SU),RU=new Xh("analytics","Analytics",PU),DU=new(function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t=1e3),this.throttleMetadata=e,this.intervalMillis=t}return e.prototype.getThrottleMetadata=function(e){return this.throttleMetadata[e]},e.prototype.setThrottleMetadata=function(e,t){this.throttleMetadata[e]=t},e.prototype.deleteThrottleMetadata=function(e){delete this.throttleMetadata[e]},e}());function OU(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function LU(e){var t;return kh(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return Sh(this,(function(c){switch(c.label){case 0:return n=e.appId,r=e.apiKey,i={method:"GET",headers:OU(r)},o="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),[4,fetch(o,i)];case 1:if(200===(a=c.sent()).status||304===a.status)return[3,6];s="",c.label=2;case 2:return c.trys.push([2,4,,5]),[4,a.json()];case 3:return u=c.sent(),(null===(t=u.error)||void 0===t?void 0:t.message)&&(s=u.error.message),[3,5];case 4:return c.sent(),[3,5];case 5:throw RU.create("config-fetch-failed",{httpStatus:a.status,responseMessage:s});case 6:return[2,a.json()]}}))}))}function MU(e,t,n,r){var i=t.throttleEndTimeMillis,o=t.backoffCount;return void 0===r&&(r=DU),kh(this,void 0,void 0,(function(){var t,a,s,u,c,l,h;return Sh(this,(function(f){switch(f.label){case 0:t=e.appId,a=e.measurementId,f.label=1;case 1:return f.trys.push([1,3,,4]),[4,FU(n,i)];case 2:return f.sent(),[3,4];case 3:if(s=f.sent(),a)return CU.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+a+' provided in the "measurementId" field in the local Firebase config. ['+s.message+"]"),[2,{appId:t,measurementId:a}];throw s;case 4:return f.trys.push([4,6,,7]),[4,LU(e)];case 5:return u=f.sent(),r.deleteThrottleMetadata(t),[2,u];case 6:if(!function(e){if(!(e instanceof Yh&&e.customData))return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(c=f.sent())){if(r.deleteThrottleMetadata(t),a)return CU.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+a+' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]"),[2,{appId:t,measurementId:a}];throw c}return l=503===Number(c.customData.httpStatus)?mf(o,r.intervalMillis,30):mf(o,r.intervalMillis),h={throttleEndTimeMillis:Date.now()+l,backoffCount:o+1},r.setThrottleMetadata(t,h),CU.debug("Calling attemptFetch again in "+l+" millis"),[2,MU(e,h,n,r)];case 7:return[2]}}))}))}function FU(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener((function(){clearTimeout(o),r(RU.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}var UU=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(e){this.listeners.push(e)},e.prototype.abort=function(){this.listeners.forEach((function(e){return e()}))},e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jU(e,t,n,r,i,o){return kh(this,void 0,void 0,(function(){var a,s,u,c,l,h,f;return Sh(this,(function(d){switch(d.label){case 0:return(a=function(e,t,n){return void 0===t&&(t=DU),kh(this,void 0,void 0,(function(){var r,i,o,a,s,u,c=this;return Sh(this,(function(l){if(r=e.options,i=r.appId,o=r.apiKey,a=r.measurementId,!i)throw RU.create("no-app-id");if(!o){if(a)return[2,{measurementId:a,appId:i}];throw RU.create("no-api-key")}return s=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new UU,setTimeout((function(){return kh(c,void 0,void 0,(function(){return Sh(this,(function(e){return u.abort(),[2]}))}))}),void 0!==n?n:6e4),[2,MU({appId:i,apiKey:o,measurementId:a},s,u,t)]}))}))}(e)).then((function(t){n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&CU.warn("The measurement ID in the local Firebase config ("+e.options.measurementId+") does not match the measurement ID fetched from the server ("+t.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(e){return CU.error(e)})),t.push(a),s=function(){return kh(this,void 0,void 0,(function(){var e;return Sh(this,(function(t){switch(t.label){case 0:return Gh()?[3,1]:(CU.warn(RU.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return t.trys.push([1,3,,4]),[4,Qh()];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),CU.warn(RU.create("indexeddb-unavailable",{errorInfo:e}).message),[2,!1];case 4:return[2,!0]}}))}))}().then((function(e){return e?r.getId():void 0})),[4,Promise.all([a,s])];case 1:return u=d.sent(),c=u[0],l=u[1],function(){for(var e=window.document.getElementsByTagName("script"),t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(r.src&&r.src.includes(kU))return r}return null}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */()||function(e,t){var n=document.createElement("script");n.src=kU+"?l="+e+"&id="+t,n.async=!0,document.head.appendChild(n)}(o,c.measurementId),i("js",new Date),(f={}).origin="firebase",f.update=!0,h=f,null!=l&&(h.firebase_id=l),i(_U.CONFIG,c.measurementId,h),[2,c.measurementId]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qU,VU,BU={},zU=[],KU={},WU="dataLayer",HU="gtag",GU=!1;function QU(e){if(GU)throw RU.create("already-initialized");e.dataLayerName&&(WU=e.dataLayerName),e.gtagName&&(HU=e.gtagName)}function $U(e,t){!function(){var e=[];if(Kh()&&e.push("This is a browser extension environment."),$h()||e.push("Cookies are not available."),e.length>0){var t=e.map((function(e,t){return"("+(t+1)+") "+e})).join(" "),n=RU.create("invalid-analytics-context",{errorInfo:t});CU.warn(n.message)}}();var n,r,i=e.options.appId;if(!i)throw RU.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw RU.create("no-api-key");CU.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+e.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=BU[i])throw RU.create("already-exists",{id:i});if(!GU){n=WU,r=[],Array.isArray(window[n])?r=window[n]:window[n]=r;var o=xU(BU,zU,KU,WU,HU),a=o.wrappedGtag,s=o.gtagCore;VU=a,qU=s,GU=!0}return BU[i]=jU(e,zU,KU,t,qU,WU),{app:e,logEvent:function(e,t,n){(
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(e,t,n,r,i){return kh(this,void 0,void 0,(function(){var o,a;return Sh(this,(function(s){switch(s.label){case 0:return i&&i.global?(e(_U.EVENT,n,r),[2]):[3,1];case 1:return[4,t];case 2:o=s.sent(),a=Ih(Ih({},r),{send_to:o}),e(_U.EVENT,n,a),s.label=3;case 3:return[2]}}))}))})(VU,BU[i],e,t,n).catch((function(e){return CU.error(e)}))},setCurrentScreen:function(e,t){(function(e,t,n,r){return kh(this,void 0,void 0,(function(){var i;return Sh(this,(function(o){switch(o.label){case 0:return r&&r.global?(e(_U.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=o.sent(),e(_U.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}}))}))})(VU,BU[i],e,t).catch((function(e){return CU.error(e)}))},setUserId:function(e,t){(function(e,t,n,r){return kh(this,void 0,void 0,(function(){var i;return Sh(this,(function(o){switch(o.label){case 0:return r&&r.global?(e(_U.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=o.sent(),e(_U.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}}))}))})(VU,BU[i],e,t).catch((function(e){return CU.error(e)}))},setUserProperties:function(e,t){(function(e,t,n,r){return kh(this,void 0,void 0,(function(){var i,o,a,s,u;return Sh(this,(function(c){switch(c.label){case 0:if(!r||!r.global)return[3,1];for(i={},o=0,a=Object.keys(n);o<a.length;o++)s=a[o],i["user_properties."+s]=n[s];return e(_U.SET,i),[2,Promise.resolve()];case 1:return[4,t];case 2:u=c.sent(),e(_U.CONFIG,u,{update:!0,user_properties:n}),c.label=3;case 3:return[2]}}))}))})(VU,BU[i],e,t).catch((function(e){return CU.error(e)}))},setAnalyticsCollectionEnabled:function(e){(function(e,t){return kh(this,void 0,void 0,(function(){var n;return Sh(this,(function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),window["ga-disable-"+n]=!t,[2]}}))}))})(BU[i],e).catch((function(e){return CU.error(e)}))},INTERNAL:{delete:function(){return delete BU[i],Promise.resolve()}}}}function YU(){return kh(this,void 0,void 0,(function(){return Sh(this,(function(e){switch(e.label){case 0:if(Kh())return[2,!1];if(!$h())return[2,!1];if(!Gh())return[2,!1];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,Qh()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,!1];case 4:return[2]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(e){e.INTERNAL.registerComponent(new bf("analytics",(function(e){return $U(e.getProvider("app").getImmediate(),e.getProvider("installations").getImmediate())}),"PUBLIC").setServiceProps({settings:QU,EventName:TU,isSupported:YU})),e.INTERNAL.registerComponent(new bf("analytics-internal",(function(e){try{return{logEvent:e.getProvider("analytics").getImmediate().logEvent}}catch(aO){throw RU.create("interop-component-reg-failed",{reason:aO})}}),"PRIVATE")),e.registerVersion("@firebase/analytics","0.6.17")}(Gf);var XU,JU=function(){function e(e,t,n,r){this.client=e,this.storage=t,this.storageCache=n,this.logger=r}return e.prototype.isCachedDataFresh=function(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-t,r=n<=e;return this.logger.debug("Config fetch cache check. Cache age millis: "+n+". Cache max age millis (minimumFetchIntervalMillis setting): "+e+". Is cache hit: "+r+"."),r},e.prototype.fetch=function(e){return kh(this,void 0,void 0,(function(){var t,n,r,i,o;return Sh(this,(function(a){switch(a.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return t=a.sent(),n=t[0],(r=t[1])&&this.isCachedDataFresh(e.cacheMaxAgeMillis,n)?[2,r]:(e.eTag=r&&r.eTag,[4,this.client.fetch(e)]);case 2:return i=a.sent(),o=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===i.status&&o.push(this.storage.setLastSuccessfulFetchResponse(i)),[4,Promise.all(o)];case 3:return a.sent(),[2,i]}}))}))},e}(),ZU=((XU={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",XU["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",XU["registration-api-key"]="Undefined API key. Check Firebase app initialization.",XU["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",XU["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",XU["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",XU["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",XU["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",XU["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",XU["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',XU["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',XU["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",XU["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",XU),ej=new Xh("remoteconfig","Remote Config",ZU);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var tj=function(){function e(e,t,n,r,i,o){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=o}return e.prototype.fetch=function(e){return kh(this,void 0,void 0,(function(){var t,n,r,i,o,a,s,u,c,l,h,f,d,p,v,g,m,y,b;return Sh(this,(function(w){switch(w.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:t=w.sent(),n=t[0],r=t[1],i=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",o=i+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},s={sdk_version:this.sdkVersion,app_instance_id:n,app_instance_id_token:r,app_id:this.appId,language_code:(void 0===_&&(_=navigator),_.languages&&_.languages[0]||_.language)},u={method:"POST",headers:a,body:JSON.stringify(s)},c=fetch(o,u),l=new Promise((function(t,n){e.signal.addEventListener((function(){var e=new Error("The operation was aborted.");e.name="AbortError",n(e)}))})),w.label=2;case 2:return w.trys.push([2,5,,6]),[4,Promise.race([c,l])];case 3:return w.sent(),[4,c];case 4:return h=w.sent(),[3,6];case 5:throw f=w.sent(),d="fetch-client-network","AbortError"===f.name&&(d="fetch-timeout"),ej.create(d,{originalErrorMessage:f.message});case 6:if(p=h.status,v=h.headers.get("ETag")||void 0,200!==h.status)return[3,11];y=void 0,w.label=7;case 7:return w.trys.push([7,9,,10]),[4,h.json()];case 8:return y=w.sent(),[3,10];case 9:throw b=w.sent(),ej.create("fetch-client-parse",{originalErrorMessage:b.message});case 10:g=y.entries,m=y.state,w.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===m?p=500:"NO_CHANGE"===m?p=304:"NO_TEMPLATE"!==m&&"EMPTY_CONFIG"!==m||(g={}),304!==p&&200!==p)throw ej.create("fetch-status",{httpStatus:p});return[2,{status:p,eTag:v,config:g}]}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var _}))}))},e}(),nj=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(e){this.listeners.push(e)},e.prototype.abort=function(){this.listeners.forEach((function(e){return e()}))},e}(),rj=["1","true","t","yes","y","on"],ij=function(){function e(e,t){void 0===t&&(t=""),this._source=e,this._value=t}return e.prototype.asString=function(){return this._value},e.prototype.asBoolean=function(){return"static"!==this._source&&rj.indexOf(this._value.toLowerCase())>=0},e.prototype.asNumber=function(){if("static"===this._source)return 0;var e=Number(this._value);return isNaN(e)&&(e=0),e},e.prototype.getSource=function(){return this._source},e}(),oj=function(){function e(e,t,n,r,i){this.app=e,this._client=t,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return e.prototype.setLogLevel=function(e){switch(e){case"debug":this._logger.logLevel=If.DEBUG;break;case"silent":this._logger.logLevel=If.SILENT;break;default:this._logger.logLevel=If.ERROR}},Object.defineProperty(e.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),e.prototype.activate=function(){return kh(this,void 0,void 0,(function(){var e,t,n;return Sh(this,(function(r){switch(r.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return e=r.sent(),t=e[0],n=e[1],t&&t.config&&t.eTag&&t.eTag!==n?[4,Promise.all([this._storageCache.setActiveConfig(t.config),this._storage.setActiveConfigEtag(t.eTag)])]:[2,!1];case 2:return r.sent(),[2,!0]}}))}))},e.prototype.ensureInitialized=function(){var e=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then((function(){e._isInitializationComplete=!0}))),this._initializePromise},e.prototype.fetch=function(){return kh(this,void 0,void 0,(function(){var e,t,n,r=this;return Sh(this,(function(i){switch(i.label){case 0:e=new nj,setTimeout((function(){return kh(r,void 0,void 0,(function(){return Sh(this,(function(t){return e.abort(),[2]}))}))}),this.settings.fetchTimeoutMillis),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:e})];case 2:return i.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return i.sent(),[3,6];case 4:return t=i.sent(),n=function(e,t){return e instanceof Yh&&-1!==e.code.indexOf(t)}(t,"fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(n)];case 5:throw i.sent(),t;case 6:return[2]}}))}))},e.prototype.fetchAndActivate=function(){return kh(this,void 0,void 0,(function(){return Sh(this,(function(e){switch(e.label){case 0:return[4,this.fetch()];case 1:return e.sent(),[2,this.activate()]}}))}))},e.prototype.getAll=function(){var e=this;return function(e,t){void 0===e&&(e={});void 0===t&&(t={});return Object.keys(Ih(Ih({},e),t))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this._storageCache.getActiveConfig(),this.defaultConfig).reduce((function(t,n){return t[n]=e.getValue(n),t}),{})},e.prototype.getBoolean=function(e){return this.getValue(e).asBoolean()},e.prototype.getNumber=function(e){return this.getValue(e).asNumber()},e.prototype.getString=function(e){return this.getValue(e).asString()},e.prototype.getValue=function(e){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+e+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var t=this._storageCache.getActiveConfig();return t&&void 0!==t[e]?new ij("remote",t[e]):this.defaultConfig&&void 0!==this.defaultConfig[e]?new ij("default",String(this.defaultConfig[e])):(this._logger.debug('Returning static value for key "'+e+'". Define a default or remote value if this is unintentional.'),new ij("static"))},e}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aj(e,t){var n=e.target.error||void 0;return ej.create(t,{originalErrorMessage:n&&n.message})}var sj=function(){function e(e,t,n,r){void 0===r&&(r=new Promise((function(e,t){var n=indexedDB.open("firebase_remote_config",1);n.onerror=function(e){t(aj(e,"storage-open"))},n.onsuccess=function(t){e(t.target.result)},n.onupgradeneeded=function(e){var t=e.target.result;switch(e.oldVersion){case 0:t.createObjectStore("app_namespace_store",{keyPath:"compositeKey"})}}}))),this.appId=e,this.appName=t,this.namespace=n,this.openDbPromise=r}return e.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},e.prototype.setLastFetchStatus=function(e){return this.set("last_fetch_status",e)},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},e.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.set("last_successful_fetch_timestamp_millis",e)},e.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},e.prototype.setLastSuccessfulFetchResponse=function(e){return this.set("last_successful_fetch_response",e)},e.prototype.getActiveConfig=function(){return this.get("active_config")},e.prototype.setActiveConfig=function(e){return this.set("active_config",e)},e.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},e.prototype.setActiveConfigEtag=function(e){return this.set("active_config_etag",e)},e.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},e.prototype.setThrottleMetadata=function(e){return this.set("throttle_metadata",e)},e.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},e.prototype.get=function(e){return kh(this,void 0,void 0,(function(){var t,n=this;return Sh(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return t=r.sent(),[2,new Promise((function(r,i){var o=t.transaction(["app_namespace_store"],"readonly").objectStore("app_namespace_store"),a=n.createCompositeKey(e);try{var s=o.get(a);s.onerror=function(e){i(aj(e,"storage-get"))},s.onsuccess=function(e){var t=e.target.result;r(t?t.value:void 0)}}catch(aO){i(ej.create("storage-get",{originalErrorMessage:aO&&aO.message}))}}))]}}))}))},e.prototype.set=function(e,t){return kh(this,void 0,void 0,(function(){var n,r=this;return Sh(this,(function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise((function(i,o){var a=n.transaction(["app_namespace_store"],"readwrite").objectStore("app_namespace_store"),s=r.createCompositeKey(e);try{var u=a.put({compositeKey:s,value:t});u.onerror=function(e){o(aj(e,"storage-set"))},u.onsuccess=function(){i()}}catch(aO){o(ej.create("storage-set",{originalErrorMessage:aO&&aO.message}))}}))]}}))}))},e.prototype.delete=function(e){return kh(this,void 0,void 0,(function(){var t,n=this;return Sh(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return t=r.sent(),[2,new Promise((function(r,i){var o=t.transaction(["app_namespace_store"],"readwrite").objectStore("app_namespace_store"),a=n.createCompositeKey(e);try{var s=o.delete(a);s.onerror=function(e){i(aj(e,"storage-delete"))},s.onsuccess=function(){r()}}catch(aO){i(ej.create("storage-delete",{originalErrorMessage:aO&&aO.message}))}}))]}}))}))},e.prototype.createCompositeKey=function(e){return[this.appId,this.appName,this.namespace,e].join()},e}(),uj=function(){function e(e){this.storage=e}return e.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},e.prototype.getActiveConfig=function(){return this.activeConfig},e.prototype.loadFromStorage=function(){return kh(this,void 0,void 0,(function(){var e,t,n,r,i,o;return Sh(this,(function(a){switch(a.label){case 0:return e=this.storage.getLastFetchStatus(),t=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,e];case 1:return(r=a.sent())&&(this.lastFetchStatus=r),[4,t];case 2:return(i=a.sent())&&(this.lastSuccessfulFetchTimestampMillis=i),[4,n];case 3:return(o=a.sent())&&(this.activeConfig=o),[2]}}))}))},e.prototype.setLastFetchStatus=function(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)},e.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)},e.prototype.setActiveConfig=function(e){return this.activeConfig=e,this.storage.setActiveConfig(e)},e}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function cj(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener((function(){clearTimeout(o),r(ej.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}var lj,hj,fj=function(){function e(e,t){this.client=e,this.storage=t}return e.prototype.fetch=function(e){return kh(this,void 0,void 0,(function(){var t;return Sh(this,(function(n){switch(n.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return t=n.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(e,t)]}}))}))},e.prototype.attemptFetch=function(e,t){var n=t.throttleEndTimeMillis,r=t.backoffCount;return kh(this,void 0,void 0,(function(){var t,i,o;return Sh(this,(function(a){switch(a.label){case 0:return[4,cj(e.signal,n)];case 1:a.sent(),a.label=2;case 2:return a.trys.push([2,5,,7]),[4,this.client.fetch(e)];case 3:return t=a.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return a.sent(),[2,t];case 5:if(!function(e){if(!(e instanceof Yh&&e.customData))return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(i=a.sent()))throw i;return o={throttleEndTimeMillis:Date.now()+mf(r),backoffCount:r+1},[4,this.storage.setThrottleMetadata(o)];case 6:return a.sent(),[2,this.attemptFetch(e,o)];case 7:return[2]}}))}))},e}(),dj="@firebase/remote-config";(lj=Gf).INTERNAL.registerComponent(new bf("remoteConfig",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("installations").getImmediate();if("undefined"==typeof window)throw ej.create("registration-window");var o=r.options,a=o.projectId,s=o.apiKey,u=o.appId;if(!a)throw ej.create("registration-project-id");if(!s)throw ej.create("registration-api-key");if(!u)throw ej.create("registration-app-id");n=n||"firebase";var c=new sj(u,r.name,n),l=new uj(c),h=new Rf(dj);h.logLevel=If.ERROR;var f=new tj(i,lj.SDK_VERSION,n,a,s,u),d=new fj(f,c),p=new JU(d,c,l,h),v=new oj(r,p,l,c,h);return v.ensureInitialized(),v}),"PUBLIC").setMultipleInstances(!0)),lj.registerVersion(dj,"0.1.42");var pj=((hj={})["already-activated"]="You are trying to activate AppCheck for FirebaseApp {$appName}, while it is already activated. AppCheck can only be activated once.",hj["use-before-activation"]="AppCheck is being used before activate() is called for FirebaseApp {$appName}. Please make sure you call activate() before instantiating other Firebase services.",hj["fetch-network-error"]="Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",hj["fetch-parse-error"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",hj["fetch-status-error"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",hj["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",hj["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",hj["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",hj["recaptcha-error"]="ReCAPTCHA error.",hj),vj=new Xh("appCheck","AppCheck",pj),gj=new Map,mj={activated:!1,tokenObservers:[]},yj={enabled:!1};function bj(e){return gj.get(e)||mj}function wj(e,t){gj.set(e,t)}function _j(){return yj}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ej="https://content-firebaseappcheck.googleapis.com/v1beta",Tj=3e4,Ij=96e4,kj=function(){function e(e,t,n,r,i){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=n,this.lowerBound=r,this.upperBound=i,this.pending=null,this.nextErrorWaitInterval=r,r>i)throw new Error("Proactive refresh lower bound greater than upper bound!")}return e.prototype.start=function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch((function(){}))},e.prototype.stop=function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)},e.prototype.isRunning=function(){return!!this.pending},e.prototype.process=function(e){return kh(this,void 0,void 0,(function(){var t;return Sh(this,(function(n){switch(n.label){case 0:this.stop(),n.label=1;case 1:return n.trys.push([1,6,,7]),this.pending=new jh,[4,(r=this.getNextRun(e),new Promise((function(e){setTimeout(e,r)})))];case 2:return n.sent(),this.pending.resolve(),[4,this.pending.promise];case 3:return n.sent(),this.pending=new jh,[4,this.operation()];case 4:return n.sent(),this.pending.resolve(),[4,this.pending.promise];case 5:return n.sent(),this.process(!0).catch((function(){})),[3,7];case 6:return t=n.sent(),this.retryPolicy(t)?this.process(!1).catch((function(){})):this.stop(),[3,7];case 7:return[2]}var r;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}))}))},e.prototype.getNextRun=function(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();var t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t},e}();function Sj(){return self.grecaptcha}function Cj(e){if(!bj(e).activated)throw vj.create("use-before-activation",{appName:e.name})}function Nj(e){return Lh.encodeString(JSON.stringify(e),!1)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aj(e,t){var n=e.url,r=e.body;return kh(this,void 0,void 0,(function(){var e,i,o,a,s,u,c,l,h,f;return Sh(this,(function(d){switch(d.label){case 0:e={"Content-Type":"application/json"},(i=t.getImmediate({optional:!0}))&&(e["X-Firebase-Client"]=i.getPlatformInfoString()),o={method:"POST",body:JSON.stringify(r),headers:e},d.label=1;case 1:return d.trys.push([1,3,,4]),[4,fetch(n,o)];case 2:return a=d.sent(),[3,4];case 3:throw s=d.sent(),vj.create("fetch-network-error",{originalErrorMessage:s.message});case 4:if(200!==a.status)throw vj.create("fetch-status-error",{httpStatus:a.status});d.label=5;case 5:return d.trys.push([5,7,,8]),[4,a.json()];case 6:return u=d.sent(),[3,8];case 7:throw c=d.sent(),vj.create("fetch-parse-error",{originalErrorMessage:c.message});case 8:if(!(l=u.ttl.match(/^([\d.]+)(s)$/))||!l[2]||isNaN(Number(l[1])))throw vj.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration format: "+u.ttl});return h=1e3*Number(l[1]),f=Date.now(),[2,{token:u.attestationToken,expireTimeMillis:f+h,issuedAtTimeMillis:f}]}}))}))}function xj(e,t){var n=e.options,r=n.projectId,i=n.appId,o=n.apiKey;return{url:Ej+"/projects/"+r+"/apps/"+i+":exchangeRecaptchaToken?key="+o,body:{recaptcha_token:t}}}function Pj(e,t){var n=e.options,r=n.projectId,i=n.appId,o=n.apiKey;return{url:Ej+"/projects/"+r+"/apps/"+i+":exchangeDebugToken?key="+o,body:{debug_token:t}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rj="firebase-app-check-store",Dj=null;function Oj(){return Dj||(Dj=new Promise((function(e,t){try{var n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=function(t){e(t.target.result)},n.onerror=function(e){var n;t(vj.create("storage-open",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))},n.onupgradeneeded=function(e){var t=e.target.result;switch(e.oldVersion){case 0:t.createObjectStore(Rj,{keyPath:"compositeKey"})}}}catch(aO){t(vj.create("storage-open",{originalErrorMessage:aO.message}))}})))}function Lj(e){return Fj(Uj(e))}function Mj(e,t){return kh(this,void 0,void 0,(function(){var n,r,i,o;return Sh(this,(function(a){switch(a.label){case 0:return[4,Oj()];case 1:return n=a.sent(),r=n.transaction(Rj,"readwrite"),i=r.objectStore(Rj),o=i.put({compositeKey:e,value:t}),[2,new Promise((function(e,t){o.onsuccess=function(t){e()},r.onerror=function(e){var n;t(vj.create("storage-set",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))}}))]}}))}))}function Fj(e){return kh(this,void 0,void 0,(function(){var t,n,r,i;return Sh(this,(function(o){switch(o.label){case 0:return[4,Oj()];case 1:return t=o.sent(),n=t.transaction(Rj,"readonly"),r=n.objectStore(Rj),i=r.get(e),[2,new Promise((function(e,t){i.onsuccess=function(t){var n=t.target.result;e(n?n.value:void 0)},n.onerror=function(e){var n;t(vj.create("storage-get",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))}}))]}}))}))}function Uj(e){return e.options.appId+"-"+e.name}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jj=new Rf("@firebase/app-check");
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qj(e,t){return Gh()?function(e,t){return Mj(Uj(e),t)}(e,t).catch((function(e){jj.warn("Failed to write token to indexeddb. Error: "+e)})):Promise.resolve()}function Vj(){return kh(this,void 0,void 0,(function(){var e,t;return Sh(this,(function(n){switch(n.label){case 0:e=void 0,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,Fj("debug-token")];case 2:return e=n.sent(),[3,4];case 3:return n.sent(),[3,4];case 4:return e?[2,e]:(t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})),(r=t,Mj("debug-token",r)).catch((function(e){return jj.warn("Failed to persist debug token to indexeddb. Error: "+e)})),console.log("AppCheck debug token: "+t+". You will need to whitelist it in the Firebase console for it to work"),[2,t])}var r}))}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bj(){return kh(this,void 0,void 0,(function(){var e;return Sh(this,(function(t){if((e=_j()).enabled&&e.token)return[2,e.token.promise];throw Error("\n            Can't get debug token in production mode.\n        ")}))}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var zj={error:"UNKNOWN_ERROR"};function Kj(e,t,n){return void 0===n&&(n=!1),kh(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,h,f;return Sh(this,(function(d){switch(d.label){case 0:return Cj(e),r=bj(e),i=r.token,o=void 0,i?[3,2]:[4,r.cachedTokenPromise];case 1:(a=d.sent())&&Qj(a)&&(i=a,wj(e,Ih(Ih({},r),{token:i})),Gj(e,{token:i.token})),d.label=2;case 2:return!n&&i&&Qj(i)?[2,{token:i.token}]:_j().enabled?(u=Aj,c=Pj,l=[e],[4,Bj()]):[3,6];case 3:return[4,u.apply(void 0,[c.apply(void 0,l.concat([d.sent()])),t])];case 4:return s=d.sent(),[4,qj(e,s)];case 5:return d.sent(),wj(e,Ih(Ih({},r),{token:s})),[2,{token:s.token}];case 6:return d.trys.push([6,8,,9]),[4,r.provider.getToken()];case 7:return i=d.sent(),[3,9];case 8:return h=d.sent(),jj.error(h),o=h,[3,9];case 9:return i?[3,10]:(f=function(e){return{token:Nj(zj),error:e}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(o),[3,12]);case 10:return f={token:i.token},wj(e,Ih(Ih({},r),{token:i})),[4,qj(e,i)];case 11:d.sent(),d.label=12;case 12:return Gj(e,f),[2,f]}}))}))}function Wj(e,t,n,r,i){var o=bj(e),a={next:r,error:i,type:n},s=Ih(Ih({},o),{tokenObservers:Ah(Ah([],o.tokenObservers),[a])});if(!s.tokenRefresher){var u=function(e,t){var n=this;return new kj((function(){return kh(n,void 0,void 0,(function(){var n;return Sh(this,(function(r){switch(r.label){case 0:return bj(e).token?[3,2]:[4,Kj(e,t)];case 1:return n=r.sent(),[3,4];case 2:return[4,Kj(e,t,!0)];case 3:n=r.sent(),r.label=4;case 4:if(n.error)throw n.error;return[2]}}))}))}),(function(){return!0}),(function(){var t=bj(e);if(t.token){var n=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5,r=t.token.expireTimeMillis-3e5;return n=Math.min(n,r),Math.max(0,n-Date.now())}return 0}),Tj,Ij)}(e,t);s.tokenRefresher=u}if(!s.tokenRefresher.isRunning()&&o.isTokenAutoRefreshEnabled&&s.tokenRefresher.start(),o.token&&Qj(o.token)){var c=o.token;Promise.resolve().then((function(){return r({token:c.token})})).catch((function(){}))}else null==o.token&&o.cachedTokenPromise.then((function(e){e&&Qj(e)&&r({token:e.token})})).catch((function(){}));wj(e,s)}function Hj(e,t){var n=bj(e),r=n.tokenObservers.filter((function(e){return e.next!==t}));0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),wj(e,Ih(Ih({},n),{tokenObservers:r}))}function Gj(e,t){for(var n=0,r=bj(e).tokenObservers;n<r.length;n++){var i=r[n];try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch(o){}}}function Qj(e){return e.expireTimeMillis-Date.now()>0}function $j(e,t){var n=bj(e),r=new jh;wj(e,Ih(Ih({},n),{reCAPTCHAState:{initialized:r}}));var i="fire_app_check_"+e.name,o=document.createElement("div");o.id=i,o.style.display="none",document.body.appendChild(o);var a,s,u=Sj();return u?u.ready((function(){Xj(e,t,u,i),r.resolve(u)})):(a=function(){var n=Sj();if(!n)throw new Error("no recaptcha");n.ready((function(){Xj(e,t,n,i),r.resolve(n)}))},(s=document.createElement("script")).src="https://www.google.com/recaptcha/api.js",s.onload=a,document.head.appendChild(s)),r.promise}function Yj(e){return kh(this,void 0,void 0,(function(){var t;return Sh(this,(function(n){switch(n.label){case 0:return Cj(e),[4,bj(e).reCAPTCHAState.initialized.promise];case 1:return t=n.sent(),[2,new Promise((function(n,r){var i=bj(e).reCAPTCHAState;t.ready((function(){n(t.execute(i.widgetId,{action:"fire_app_check"}))}))}))]}}))}))}function Xj(e,t,n,r){var i=n.render(r,{sitekey:t,size:"invisible"}),o=bj(e);wj(e,Ih(Ih({},o),{reCAPTCHAState:Ih(Ih({},o.reCAPTCHAState),{widgetId:i})}))}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Jj=function(){function e(e){this._siteKey=e}return e.prototype.getToken=function(){return kh(this,void 0,void 0,(function(){var e;return Sh(this,(function(t){switch(t.label){case 0:if(!this._app||!this._platformLoggerProvider)throw vj.create("use-before-activation",{appName:""});t.label=1;case 1:return t.trys.push([1,3,,4]),[4,Yj(this._app)];case 2:return e=t.sent(),[3,4];case 3:throw t.sent(),vj.create("recaptcha-error");case 4:return[2,Aj(xj(this._app,e),this._platformLoggerProvider)]}}))}))},e.prototype.initialize=function(e,t){this._app=e,this._platformLoggerProvider=t,$j(e,this._siteKey).catch((function(){}))},e}(),Zj=function(){function e(e){this._customProviderOptions=e}return e.prototype.getToken=function(){return kh(this,void 0,void 0,(function(){var e,t,n;return Sh(this,(function(r){switch(r.label){case 0:if(!this._app)throw vj.create("use-before-activation",{appName:""});return[4,this._customProviderOptions.getToken()];case 1:return e=r.sent(),i=e.token,o=nf(i).claims,t="object"==typeof o&&o.hasOwnProperty("iat")?o.iat:null,n=null!==t&&t<Date.now()&&t>0?1e3*t:Date.now(),[2,Ih(Ih({},e),{issuedAtTimeMillis:n})]}var i,o}))}))},e.prototype.initialize=function(e){this._app=e},e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function eq(e,t,n,r){var i=bj(e);if(i.activated)throw vj.create("already-activated",{appName:e.name});var o=Ih(Ih({},i),{activated:!0});o.cachedTokenPromise=function(e){return kh(this,void 0,void 0,(function(){var t,n;return Sh(this,(function(r){switch(r.label){case 0:if(!Gh())return[3,5];t=void 0,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,Lj(e)];case 2:return t=r.sent(),[3,4];case 3:return n=r.sent(),jj.warn("Failed to read token from indexeddb. Error: "+n),[3,4];case 4:return[2,t];case 5:return[2,void 0]}}))}))}(e).then((function(t){return t&&Qj(t)&&wj(e,Ih(Ih({},bj(e)),{token:t})),t})),o.provider="string"==typeof t?new Jj(t):t instanceof Jj||t instanceof Zj?t:new Zj({getToken:t.getToken}),o.isTokenAutoRefreshEnabled=void 0===r?e.automaticDataCollectionEnabled:r,wj(e,o),o.provider.initialize(e,n)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function tq(e,t){return{app:e,activate:function(n,r){return eq(e,n,t,r)},setTokenAutoRefreshEnabled:function(t){return function(e,t){var n=bj(e);n.tokenRefresher&&(!0===t?n.tokenRefresher.start():n.tokenRefresher.stop()),wj(e,Ih(Ih({},n),{isTokenAutoRefreshEnabled:t}))}(e,t)},getToken:function(n){return function(e,t,n){return kh(this,void 0,void 0,(function(){var r;return Sh(this,(function(i){switch(i.label){case 0:return[4,Kj(e,t,n)];case 1:if((r=i.sent()).error)throw r.error;return[2,{token:r.token}]}}))}))}(e,t,n)},onTokenChanged:function(n,r,i){return function(e,t,n,r,i){var o=function(){},a=function(){};return o=null!=n.next?n.next.bind(n):n,null!=n.error?a=n.error.bind(n):r&&(a=r),Wj(e,t,"EXTERNAL",o,a),function(){return Hj(e,o)}}(e,t,n,r)},INTERNAL:{delete:function(){for(var t=0,n=bj(e).tokenObservers;t<n.length;t++){var r=n[t];Hj(e,r.next)}return Promise.resolve()}}}}!function(e){e.INTERNAL.registerComponent(new bf("appCheck",(function(e){return tq(e.getProvider("app").getImmediate(),e.getProvider("platform-logger"))}),"PUBLIC").setServiceProps({ReCaptchaV3Provider:Jj,CustomProvider:Zj}).setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("app-check-internal").initialize()}))),e.INTERNAL.registerComponent(new bf("app-check-internal",(function(e){return function(e,t){return{getToken:function(n){return Kj(e,t,n)},addTokenListener:function(n){return Wj(e,t,"INTERNAL",n)},removeTokenListener:function(t){return Hj(e,t)}}}(e.getProvider("app").getImmediate(),e.getProvider("platform-logger"))}),"PUBLIC").setInstantiationMode("EXPLICIT")),e.registerVersion("@firebase/app-check","0.3.0")}(Gf),function(){var e=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}();if("string"==typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN||!0===e.FIREBASE_APPCHECK_DEBUG_TOKEN){var t=_j();t.enabled=!0;var n=new jh;t.token=n,"string"==typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN?n.resolve(e.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(Vj())}}();
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Gf.registerVersion("firebase","8.9.0","app"),Gf.SDK_VERSION="8.9.0";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),Gf.registerVersion("firebase","8.9.0");
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Gf.registerVersion("firebase","8.9.0","app"),Gf.SDK_VERSION="8.9.0";export{dh as B,e as C,bh as L,F as R,lh as S,ch as a,Qc as b,Gf as f,fh as u};
